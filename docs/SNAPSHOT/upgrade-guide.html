<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>Eclipse GlassFish Upgrade Guide, Release 7</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Eclipse GlassFish Upgrade Guide, Release 7</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#eclipse-glassfish-server">Eclipse GlassFish</a></li>
<li><a href="#preface">Preface</a>
<ul class="sectlevel2">
<li><a href="#glassfish-server-documentation-set">Eclipse GlassFish Documentation Set</a></li>
<li><a href="#related-documentation">Related Documentation</a></li>
<li><a href="#typographic-conventions">Typographic Conventions</a></li>
<li><a href="#symbol-conventions">Symbol Conventions</a></li>
<li><a href="#default-paths-and-file-names">Default Paths and File Names</a></li>
</ul>
</li>
<li><a href="#glassfish-server-upgrade-compatibility-issues">1 Eclipse GlassFish Upgrade Compatibility Issues</a>
<ul class="sectlevel2">
<li><a href="#binary-compatible-releases-for-glassfish-server">Binary-Compatible Releases For Eclipse GlassFish 7</a></li>
<li><a href="#new-default-installation-directory">New Default Installation Directory</a></li>
<li><a href="#changes-to-group-management-service-settings">Changes to Group Management Service Settings</a></li>
<li><a href="#application-client-interoperability">Application Client Interoperability</a></li>
<li><a href="#node-agent-support">Node Agent Support</a></li>
<li><a href="#hadb-and-hadbm-command-support">HADB and <code>hadbm</code> Command Support</a></li>
<li><a href="#command-line-interface-the-asadmin-command">Command Line Interface: The <code>asadmin</code> Command</a>
<ul class="sectlevel3">
<li><a href="#deprecated-asadmin-subcommands">Deprecated <code>asadmin</code> Subcommands</a></li>
<li><a href="#deprecated-unsupported-and-obsolete-options">Deprecated, Unsupported, and Obsolete Options</a></li>
</ul>
</li>
<li><a href="#applications-that-use-java-db">Applications That Use Java DB</a></li>
<li><a href="#applications-that-use-persistence">Applications That Use Persistence</a></li>
<li><a href="#http-service-to-network-service-changes">HTTP Service to Network Service Changes</a>
<ul class="sectlevel3">
<li><a href="#changes-to-dotted-names">Changes to Dotted Names</a></li>
<li><a href="#changes-to-asadmin-subcommands">Changes to <code>asadmin</code> Subcommands</a></li>
<li><a href="#remapping-of-http-service-attributes-and-properties">Remapping of HTTP Service Attributes and Properties</a></li>
<li><a href="#new-network-service-elements-and-attributes">New Network Service Elements and Attributes</a></li>
</ul>
</li>
<li><a href="#nss-cryptographic-token-support">NSS Cryptographic Token Support</a></li>
</ul>
</li>
<li><a href="#upgrading-an-installation-of-application-server-or-glassfish-server">2 Upgrading an Installation of Application Server or Eclipse GlassFish</a>
<ul class="sectlevel2">
<li><a href="#upgrade-overview">Upgrade Overview</a>
<ul class="sectlevel3">
<li><a href="#upgrade-paths">Upgrade Paths</a></li>
<li><a href="#upgrade-terminology">Upgrade Terminology</a></li>
<li><a href="#summary-of-upgrade-tools-and-procedures">Summary of Upgrade Tools and Procedures</a></li>
<li><a href="#supported-releases-for-upgrade-to-glassfish-server-7">Supported Releases for Upgrade to Eclipse GlassFish 7</a></li>
<li><a href="#upgrading-from-version-8-x-or-older-product-releases">Upgrading From Version 8.x or Older Product Releases</a></li>
<li><a href="#upgrading-glassfish-server-inside-a-closed-network">Upgrading Eclipse GlassFish Inside a Closed Network</a></li>
</ul>
</li>
<li><a href="#performing-a-side-by-side-upgrade-with-upgrade-tool">Performing a Side-By-Side Upgrade With Upgrade Tool</a>
<ul class="sectlevel3">
<li><a href="#upgrade-tool-summary">Upgrade Tool Summary</a></li>
<li><a href="#upgrade-tool-functionality">Upgrade Tool Functionality</a></li>
<li><a href="#to-upgrade-from-the-command-line-using-upgrade-tool">To Upgrade From the Command Line Using Upgrade Tool</a></li>
<li><a href="#to-upgrade-using-the-upgrade-tool-wizard">To Upgrade Using the Upgrade Tool Wizard</a></li>
</ul>
</li>
<li><a href="#performing-an-in-place-upgrade-with-the-update-center-tools">Performing an In-Place Upgrade With the Update Center Tools</a>
<ul class="sectlevel3">
<li><a href="#update-center-tool-procedures">Update Center Tool Procedures</a></li>
<li><a href="#to-upgrade-using-the-update-tool-gui">To Upgrade Using the Update Tool GUI</a></li>
<li><a href="#to-upgrade-using-the-software-update-notifier">To Upgrade Using the Software Update Notifier</a></li>
<li><a href="#to-upgrade-from-the-command-line-using-the-pkg-utility">To Upgrade From the Command Line Using the <code>pkg</code> Utility</a></li>
</ul>
</li>
<li><a href="#upgrading-installations-that-use-nss-cryptographic-tokens">Upgrading Installations That Use NSS Cryptographic Tokens</a>
<ul class="sectlevel3">
<li><a href="#to-prepare-for-the-upgrade">To Prepare for the Upgrade</a></li>
<li><a href="#to-perform-post-upgrade-configuration">To Perform Post-Upgrade Configuration</a></li>
<li><a href="#to-upgrade-pkcs11-hardware-tokens">To Upgrade PKCS#11 Hardware Tokens</a></li>
</ul>
</li>
<li><a href="#upgrading-clusters-and-node-agent-configurations">Upgrading Clusters and Node Agent Configurations</a>
<ul class="sectlevel3">
<li><a href="#overview-of-cluster-and-node-agent-upgrade-procedures">Overview of Cluster and Node Agent Upgrade Procedures</a></li>
<li><a href="#to-correct-the-configuration-of-a-node-after-an-upgrade">To Correct the Configuration of a Node After an Upgrade</a></li>
<li><a href="#to-re-create-a-cluster">To Re-Create a Cluster</a></li>
</ul>
</li>
<li><a href="#correcting-potential-upgrade-problems">Correcting Potential Upgrade Problems</a>
<ul class="sectlevel3">
<li><a href="#cluster-profile-security-setting">Cluster Profile Security Setting</a></li>
<li><a href="#cluster-profile-upgrade-on-windows">Cluster Profile Upgrade on Windows</a></li>
<li><a href="#asupgrade-fails-without-internet-connection"><code>asupgrade</code> Fails Without Internet Connection</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="eclipse-glassfish-server"><a class="anchor" href="#eclipse-glassfish-server"></a>Eclipse GlassFish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Upgrade Guide</p>
</div>
<div class="paragraph">
<p>Release 7</p>
</div>
<div class="paragraph">
<p>Contributed 2018 - 2022</p>
</div>
<div class="paragraph">
<p>This guide explains how to upgrade to Eclipse GlassFish 7
from previous Eclipse GlassFish and Sun GlassFish Enterprise
Server product releases. Also included in this guide are instructions
for upgrading configuration data and Jakarta EE applications from
binary-compatible earlier versions of this software to work with
Eclipse GlassFish 7. Finally, this guide describes
compatibility issues that affect data and applications that are to be
migrated.</p>
</div>
<div class="paragraph">
<p>Note: The main thrust of the Eclipse GlassFish 7
release is to provide an application server for developers to explore
and begin exploiting the new and updated technologies in the Jakarta EE 10
platform. Thus, the upgrade feature of Eclipse GlassFish was not a focus
of this release. The feature is included in the release, but it may not
function properly with some of the new features added in support of the
Jakarta EE 10 platform.</p>
</div>
<hr>
<div class="paragraph">
<p>Eclipse GlassFish Upgrade Guide, Release 7</p>
</div>
<div class="paragraph">
<p>Copyright Â© 2013, 2019 Oracle and/or its affiliates. All rights reserved.</p>
</div>
<div class="paragraph">
<p>This program and the accompanying materials are made available under the
terms of the Eclipse Public License v. 2.0, which is available at
<a href="http://www.eclipse.org/legal/epl-2.0" class="bare">http://www.eclipse.org/legal/epl-2.0</a>.</p>
</div>
<div class="paragraph">
<p>SPDX-License-Identifier: EPL-2.0</p>
</div>
<div class="paragraph">
<p>Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.</p>
</div>
<div class="paragraph">
<p>Intel and Intel Xeon are trademarks or registered trademarks of Intel
Corporation. All SPARC trademarks are used under license and are
trademarks or registered trademarks of SPARC International, Inc. AMD,
Opteron, the AMD logo, and the AMD Opteron logo are trademarks or
registered trademarks of Advanced Micro Devices. UNIX is a registered
trademark of The Open Group.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="preface"><a class="anchor" href="#preface"></a>Preface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide explains how to upgrade to Eclipse GlassFish from previous
of Eclipse GlassFish and Sun GlassFish Enterprise Server product releases.
Also included in this guide are instructions for upgrading configuration
data and Jakarta EE applications from binary-compatible earlier versions
of this software to work with Eclipse GlassFish.
Finally, this guide describes compatibility issues that affect data
and applications that are to be migrated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The main thrust of the Eclipse GlassFish 7 release
is to provide an application server for developers to explore and begin
exploiting the new and updated technologies in the Jakarta EE 10 platform.
Thus, the upgrade feature of Eclipse GlassFish was not a focus of this
release. The feature is included in the release, but it may not function
properly with some of the new features added in support of the Jakarta EE 10 platform.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This preface contains information about and conventions for the entire
Eclipse GlassFish (Eclipse GlassFish) documentation set.</p>
</div>
<div class="paragraph">
<p>Eclipse GlassFish 7 is developed through the GlassFish project
open-source community at <a href="https://github.com/eclipse-ee4j/glassfish" class="bare">https://github.com/eclipse-ee4j/glassfish</a>.
The GlassFish project provides a structured process for developing the
Eclipse GlassFish platform that makes the new features of the Jakarta EE
platform available faster, while maintaining the most important feature
of Jakarta EE: compatibility. It enables Java developers to access the
Eclipse GlassFish source code and to contribute to the development of the
Eclipse GlassFish.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#glassfish-server-documentation-set">Eclipse GlassFish Documentation Set</a></p>
</li>
<li>
<p><a href="#related-documentation">Related Documentation</a></p>
</li>
<li>
<p><a href="#typographic-conventions">Typographic Conventions</a></p>
</li>
<li>
<p><a href="#symbol-conventions">Symbol Conventions</a></p>
</li>
<li>
<p><a href="#default-paths-and-file-names">Default Paths and File Names</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="glassfish-server-documentation-set"><a class="anchor" href="#glassfish-server-documentation-set"></a>Eclipse GlassFish Documentation Set</h3>
<div class="paragraph">
<p>The Eclipse GlassFish documentation set describes deployment planning and
system installation. For an introduction to Eclipse GlassFish, refer to
the books in the order in which they are listed in the following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Book Title</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="release-notes.html#GSRLN">Release Notes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides late-breaking information about
the software and the documentation and includes a comprehensive,
table-based summary of the supported hardware, operating system, Java
Development Kit (JDK), and database drivers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="quick-start-guide.html#GSQSG">Quick Start Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to get started with the Eclipse GlassFish product.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="installation-guide.html#GSING">Installation Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to install the software and its components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="upgrade-guide.html#GSUPG">Upgrade Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to upgrade to the latest version of Eclipse GlassFish.
This guide also describes differences between adjacent product releases and configuration
options that can result in incompatibility with the product specifications.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="deployment-planning-guide.html#GSPLG">Deployment Planning Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to build a production deployment of Eclipse GlassFish that meets the requirements of
your system and enterprise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="administration-guide.html#GSADG">Administration Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to configure, monitor, and manage Eclipse GlassFish subsystems and components
from the command line by using the <a href="reference-manual.html#asadmin"><code>asadmin</code>(1M)</a> utility.
Instructions for performing these tasks from the Administration Console are provided
in the Administration Console online help.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="security-guide.html#GSSCG">Security Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides instructions for configuring and administering Eclipse GlassFish security.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="application-deployment-guide.html#GSDPG">Application Deployment Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to assemble and deploy applications to the Eclipse GlassFish and provides information
about deployment descriptors.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="application-development-guide.html#GSDVG">Application Development Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to create and implement Java Platform, Enterprise Edition (Jakarta EE platform)
applications that are intended to run on the Eclipse GlassFish.
These applications follow the open Java standards model for Jakarta EE components
and application programmer interfaces (APIs).
This guide provides information about developer tools, security, and debugging.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="add-on-component-development-guide.html#GSACG">Add-On Component Development Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to use published interfaces of Eclipse GlassFish to develop add-on components
for Eclipse GlassFish.
This document explains how to perform only those tasks that ensure that the add-on component
is suitable for Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="embedded-server-guide.html#GSESG">Embedded Server Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to run applications in embedded Eclipse GlassFish and to develop applications
in which Eclipse GlassFish is embedded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ha-administration-guide.html#GSHAG">High Availability Administration Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to configure Eclipse GlassFish to provide higher availability and
scalability through failover and load balancing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="performance-tuning-guide.html#GSPTG">Performance Tuning Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to optimize the performance of Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="troubleshooting-guide.html#GSTSG">Troubleshooting Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes common problems that you might encounter when using Eclipse GlassFish and explains how to solve them.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="error-messages-reference.html#GSEMR">Error Message Reference</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes error messages that you might encounter when using Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="reference-manual.html#GSRFM">Reference Manual</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides reference information in man page format for Eclipse GlassFish administration commands, utility
commands, and related concepts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-release-notes/toc.html">Message Queue Release Notes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes new features, compatibility issues, and existing bugs for Open Message Queue.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-tech-over/toc.html">Message Queue Technical Overview</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an introduction to the technology, concepts, architecture, capabilities, and features of
the Message Queue messaging service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-admin-guide/toc.html">Message Queue Administration Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to set up and manage a Message Queue messaging system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-dev-guide-jmx/toc.html">Message Queue Developer&#8217;s Guide for JMX Clients</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes the application programming interface in Message Queue for
programmatically configuring and monitoring Message Queue resources in
conformance with the Java Management Extensions (JMX).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-dev-guide-java/toc.html">Message Queue Developer&#8217;s Guide for Java Clients</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides information about concepts and procedures for developing Java messaging
applications (Java clients) that work with Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-dev-guide-c/toc.html">Message Queue Developer&#8217;s Guide for C Clients</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides programming and reference information for developers working with
Message Queue who want to use the C language binding to the Message
Queue messaging service to send, receive, and process Message Queue messages.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="related-documentation"><a class="anchor" href="#related-documentation"></a>Related Documentation</h3>
<div class="paragraph">
<p>The following tutorials explain how to develop Jakarta EE applications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/eclipse-ee4j/jakartaee-firstcup-examples">
Your First Cup: An Introduction to the Jakarta EE Platform</a>.
For beginning Jakarta EE programmers, this short tutorial explains the entire
process for developing a simple enterprise application.
The sample application is a web application that consists of a component that is
based on the Enterprise JavaBeans specification, a JAX-RS web service,
and a JavaServer Faces component for the web front end.</p>
</li>
<li>
<p><a href="https://eclipse-ee4j.github.io/jakartaee-tutorial">The Jakarta EE Tutorial</a>.
This comprehensive tutorial explains how to use Jakarta EE platform technologies
and APIs to develop Jakarta EE applications.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Javadoc tool reference documentation for packages that are provided with
Eclipse GlassFish is available as follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Jakarta EE specifications and API specification is
located at <a href="https://jakarta.ee/specifications/" class="bare">https://jakarta.ee/specifications/</a>.</p>
</li>
<li>
<p>The API specification for Eclipse GlassFish 7, including Jakarta EE
platform packages and nonplatform packages that are specific to the
Eclipse GlassFish product, is located at
<a href="https://glassfish.org/docs/" class="bare">https://glassfish.org/docs/</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information about creating enterprise applications in the NetBeans
Integrated Development Environment (IDE), see the
<a href="https://netbeans.apache.org/kb/docs/java-ee.html">
NetBeans Documentation, Training &amp; Support page</a>.</p>
</div>
<div class="paragraph">
<p>For information about the Derby database for use with
the Eclipse GlassFish, see the <a href="https://db.apache.org/derby/index.html">Derby page</a>.</p>
</div>
<div class="paragraph">
<p>The Jakarta EE Samples project is a collection of sample applications that
demonstrate a broad range of Jakarta EE technologies. The Jakarta EE Samples
are bundled with the Jakarta EE Software Development Kit (SDK) and are also
available from the repository
(<code><a href="https://github.com/eclipse-ee4j/glassfish-samples" class="bare">https://github.com/eclipse-ee4j/glassfish-samples</a></code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="typographic-conventions"><a class="anchor" href="#typographic-conventions"></a>Typographic Conventions</h3>
<div class="paragraph">
<p>The following table describes the typographic changes that are used in
this book.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14%;">
<col style="width: 37%;">
<col style="width: 49%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Typeface</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AaBbCc123</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The names of commands, files, and directories, and onscreen computer output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit your <code>.login</code> file.</p>
<p class="tableblock">Use <code>ls</code> <code>a</code> to list all files.</p>
<p class="tableblock"><code>machine_name% you have mail.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AaBbCc123</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">What you type, contrasted with onscreen computer output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>machine_name%</code> <code>su</code></p>
<p class="tableblock"><code>Password:</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AaBbCc123</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A placeholder to be replaced with a real name or value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The command to remove a file is <code>rm</code> filename.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AaBbCc123</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Book titles, new terms, and terms to be emphasized (note that some emphasized items appear bold online)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read Chapter 6 in the User&#8217;s Guide.</p>
<p class="tableblock">A cache is a copy that is stored locally.</p>
<p class="tableblock">Do not save the file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="symbol-conventions"><a class="anchor" href="#symbol-conventions"></a>Symbol Conventions</h3>
<div class="paragraph">
<p>The following table explains symbols that might be used in this book.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 26%;">
<col style="width: 28%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Symbol</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[ ]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains optional arguments and command options.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ls [-l]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>-l</code> option is not required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{ | }</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains a set of choices for a required command option.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-d {y|n}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>-d</code> option requires that you use either the <code>y</code> argument or the <code>n</code> argument.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${ }</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates a variable reference.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${com.sun.javaRoot}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">References the value of the <code>com.sun.javaRoot</code> variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joins simultaneous multiple keystrokes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control-A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Press the Control key while you press the A key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joins consecutive multiple keystrokes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ctrl+A+N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Press the Control key, release it, and then press the subsequent keys.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates menu item selection in a graphical user interface.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File &gt; New &gt; Templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the File menu, choose New. From the New submenu, choose Templates.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="default-paths-and-file-names"><a class="anchor" href="#default-paths-and-file-names"></a>Default Paths and File Names</h3>
<div class="paragraph">
<p>The following table describes the default paths and file names that are
used in this book.</p>
</div>
<table class="tableblock frame-all grid-all fit-content stretch">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Placeholder</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">as-install</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Represents the base installation directory for Eclipse GlassFish.
In configuration files, as-install is represented as follows:
<code>${com.sun.aas.installRoot}</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Installations on the Oracle Solaris operating system, Linux operating
system, and Mac OS operating system:</p>
<div class="paragraph">
<p>user&#8217;s-home-directory<code>/glassfish7/glassfish</code></p>
</div>
</li>
<li>
<p>Installations on the Windows operating system:</p>
<div class="paragraph">
<p>SystemDrive<code>:\glassfish7\glassfish</code></p>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">as-install-parent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the parent of the base installation directory for Eclipse GlassFish.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Installations on the Oracle Solaris operating system, Linux operating
system, and Mac operating system:</p>
<div class="paragraph">
<p>user&#8217;s-home-directory<code>/glassfish7</code></p>
</div>
</li>
<li>
<p>Installations on the Windows operating system:</p>
<div class="paragraph">
<p>SystemDrive<code>:\glassfish7</code></p>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-root-dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the directory in which a domain is created by default.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">as-install<code>/domains/</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the directory in which a domain&#8217;s configuration is stored.
In configuration files, domain-dir is represented as follows:
<code>${com.sun.aas.instanceRoot}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-root-dir/domain-name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instance-dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the directory for a server instance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir/instance-name</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glassfish-server-upgrade-compatibility-issues"><a class="anchor" href="#glassfish-server-upgrade-compatibility-issues"></a>1 Eclipse GlassFish Upgrade Compatibility Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some compatibility issues between Eclipse GlassFish 7 and earlier product releases. This section also describes
some compatibility issues that affect Java applications that run on
earlier product releases with which Eclipse GlassFish 7 is
binary-compatible. When you upgrade to Eclipse GlassFish 7, you must
address these issues.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#binary-compatible-releases-for-glassfish-server">Binary-Compatible Releases For Eclipse GlassFish 7</a></p>
</li>
<li>
<p><a href="#new-default-installation-directory">New Default Installation Directory</a></p>
</li>
<li>
<p><a href="#changes-to-group-management-service-settings">Changes to Group Management Service Settings</a></p>
</li>
<li>
<p><a href="#application-client-interoperability">Application Client Interoperability</a></p>
</li>
<li>
<p><a href="#node-agent-support">Node Agent Support</a></p>
</li>
<li>
<p><a href="#hadb-and-hadbm-command-support">HADB and <code>hadbm</code> Command Support</a></p>
</li>
<li>
<p><a href="#command-line-interface-the-asadmin-command">Command Line Interface: The <code>asadmin</code> Command</a></p>
</li>
<li>
<p><a href="#applications-that-use-java-db">Applications That Use Java DB</a></p>
</li>
<li>
<p><a href="#applications-that-use-persistence">Applications That Use Persistence</a></p>
</li>
<li>
<p><a href="#http-service-to-network-service-changes">HTTP Service to Network Service Changes</a></p>
</li>
<li>
<p><a href="#nss-cryptographic-token-support">NSS Cryptographic Token Support</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="binary-compatible-releases-for-glassfish-server"><a class="anchor" href="#binary-compatible-releases-for-glassfish-server"></a>Binary-Compatible Releases For Eclipse GlassFish 7</h3>
<div class="paragraph">
<p>Eclipse GlassFish 7 is NOT binary-compatible with the earlier releases of the software:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sun GlassFish Enterprise Server v2.1.1 (Enterprise and Developer Profiles)</p>
</li>
<li>
<p>Sun GlassFish Enterprise Server v3</p>
</li>
<li>
<p>GlassFish Server Open Source Edition 3.0.1</p>
</li>
<li>
<p>GlassFish Server Open Source Edition 3.1</p>
</li>
<li>
<p>GlassFish Server Open Source Edition 3.1.1</p>
</li>
<li>
<p>GlassFish Server Open Source Edition 4.x</p>
</li>
<li>
<p>GlassFish Server Open Source Edition 5.x</p>
</li>
<li>
<p>Eclipse GlassFish 6.x</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Java applications that run on these releases also work on Eclipse GlassFish 7 except for the compatibility issues that
are listed in the remainder of this chapter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The compatibility issues that are listed in the remainder of this
chapter do not affect Java applications that run on Sun GlassFish
Enterprise Server v3 and Eclipse GlassFish 3.0.1. The differences between
Eclipse GlassFish 7 and the Enterprise Server v3 releases do not affect
applications and data.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="new-default-installation-directory"><a class="anchor" href="#new-default-installation-directory"></a>New Default Installation Directory</h3>
<div class="paragraph">
<p>The default Eclipse GlassFish 7 installation directories are as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Solaris, Linux, and Mac OS X systems</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>user-home-directory/glassfish7</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Windows systems</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>SystemDrive\glassfish7</code></pre>
</div>
</div>
<div class="paragraph">
<p>In Eclipse GlassFish 3.0.1 and Enterprise Server v3, the default
installation root directory was <code>glassfish7</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="changes-to-group-management-service-settings"><a class="anchor" href="#changes-to-group-management-service-settings"></a>Changes to Group Management Service Settings</h3>
<div class="paragraph">
<p>The functionality of the Group Management Service (GMS) has not changed
since Sun GlassFish Enterprise Server v2.1.1, but the names of GMS
settings have been changed in the Administration Console to make them
more understandable. These changes are made automatically during the
upgrade process.</p>
</div>
<div class="paragraph">
<p>Changes to settings on the Edit Group Management Service page in the
Administration Console are summarized in the following table.</p>
</div>
<div id="gklho" class="paragraph">
<p>Table 1-1 GMS Administration Console Settings Changes from 2.1.1 to 4.0</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Old Setting Name</th>
<th class="tableblock halign-left valign-top">New Setting Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol Maximum Trial</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum Missed Heartbeats</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol Timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Heartbeat Frequency</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ping Timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Group Discovery Timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verified Timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Failure Verification Wait Time</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The Merge Protocol settings from Sun GlassFish Enterprise Server v2.1.1
are not supported and have been removed.</p>
</div>
</div>
<div class="sect2">
<h3 id="application-client-interoperability"><a class="anchor" href="#application-client-interoperability"></a>Application Client Interoperability</h3>
<div class="paragraph">
<p>The Jakarta EE 6 platform specification imposes stricter requirements than
Jakarta EE 5 did on which JAR files can be visible to various modules
within an EAR file. In particular, application clients must not have
access to EJB JAR files or other JAR files in the EAR file unless they
use a <code>Class-Path</code> header in the manifest file, or unless references use
the standard Java SE mechanisms (extensions, for example), or use the
Jakarta EE <code>library-directory</code> mechanism. Deployed Jakarta EE 5 applications
that are upgraded to Eclipse GlassFish 7 will have the <code>compatibility</code>
property set to <code>v2</code> and will run without change on Eclipse GlassFish 7.
You may, however, want to consider modifying the applications to
conform to Jakarta EE 6 requirements.</p>
</div>
<div class="paragraph">
<p>If your upgrade includes a deployed application with an application
client, you will need to retrieve the client stubs using Eclipse GlassFish 7 in order to run the client. Use the
<code>asadmin get-client-stubs</code> command.</p>
</div>
<div class="paragraph">
<p>If you try to run the application client before retrieving the client
stubs, you will see the following error message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Invalid or corrupt jarfile jar-file-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you commonly distribute application clients to remote systems from
which users will run them, you must not only retrieve the client stubs,
but you must also run the <code>package-appclient</code> utility for Eclipse GlassFish 7 to upgrade the Eclipse GlassFish system files. This utility
creates a JAR file, which you can then expand on the remote systems.</p>
</div>
<div class="paragraph">
<p>Application clients use EJBs, web services, or other enterprise
components that are in the application server (on the server side). The
application client and the application server must use the same version
and implementation of the RMI-IIOP protocol. Eclipse GlassFish 7 does
not support communication between different versions of the protocol
implementation. You cannot run application clients with one version of
the application server runtime with a server that has a different
version. Most often, this would happen if you upgraded the server but
had not upgraded all the application client installations. If you run
the <code>package-appclient</code> utility, this issue will not arise.</p>
</div>
<div class="paragraph">
<p>You can use the Java Web Start support to distribute and launch the
application client. If the runtime on the server has changed since the
end-user last used the application client, Java Web Start automatically
retrieves the updated runtime. Java Web Start enables you to keep the
clients and servers synchronized and using the same runtime.</p>
</div>
</div>
<div class="sect2">
<h3 id="node-agent-support"><a class="anchor" href="#node-agent-support"></a>Node Agent Support</h3>
<div class="paragraph">
<p>Eclipse GlassFish 7 does not support node agents. When updating from
installations of earlier product versions in which node agents were
configured, the cluster definitions will be migrated, but the clustered
instances themselves must be manually re-created. See
<a href="#upgrading-clusters-and-node-agent-configurations">Upgrading Clusters and Node
Agent Configurations</a> for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="hadb-and-hadbm-command-support"><a class="anchor" href="#hadb-and-hadbm-command-support"></a>HADB and <code>hadbm</code> Command Support</h3>
<div class="paragraph">
<p>Eclipse GlassFish 7 does not support HADB or the <code>hadbm</code> management command.</p>
</div>
<div class="paragraph">
<p>Instead of HADB, Eclipse GlassFish 7 supports high availability
clustering by means of in-memory session state replication and
ActiveCache for GlassFish.
See "<a href="ha-administration-guide.html#high-availability-in-glassfish-server">
High Availability in Eclipse GlassFish</a>" in
Eclipse GlassFish High Availability Administration Guide
for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="command-line-interface-the-asadmin-command"><a class="anchor" href="#command-line-interface-the-asadmin-command"></a>Command Line Interface: The <code>asadmin</code> Command</h3>
<div class="paragraph">
<p>The following sections describe changes to the command line utility <code>asadmin</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#deprecated-asadmin-subcommands">Deprecated <code>asadmin</code> Subcommands</a></p>
</li>
<li>
<p><a href="#deprecated-unsupported-and-obsolete-options">Deprecated, Unsupported, and Obsolete Options</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information about <code>asadmin</code> and its subcommands, see the
<a href="reference-manual.html#GSRFM">Eclipse GlassFish Reference Manual</a>.</p>
</div>
<div class="sect3">
<h4 id="deprecated-asadmin-subcommands"><a class="anchor" href="#deprecated-asadmin-subcommands"></a>Deprecated <code>asadmin</code> Subcommands</h4>
<div class="paragraph">
<p>In Eclipse GlassFish 7, it is recommended that utility options of the
<code>asadmin</code> command precede the subcommand. Utility options are options
that control the behavior of the <code>asadmin</code> utility, as distinguished
from subcommand options. Use of the following options after the
subcommand is deprecated.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>--host</code></p>
</li>
<li>
<p><code>--port</code></p>
</li>
<li>
<p><code>--user</code></p>
</li>
<li>
<p><code>--passwordfile</code></p>
</li>
<li>
<p><code>--terse</code></p>
</li>
<li>
<p><code>--secure</code></p>
</li>
<li>
<p><code>--echo</code></p>
</li>
<li>
<p><code>--interactive</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="deprecated-unsupported-and-obsolete-options"><a class="anchor" href="#deprecated-unsupported-and-obsolete-options"></a>Deprecated, Unsupported, and Obsolete Options</h4>
<div class="paragraph">
<p>Options in <a href="#gaeki">Table 1-2</a> are deprecated or no longer supported,
or are obsolete and are ignored.</p>
</div>
<div id="gaeki" class="paragraph">
<p>Table 1-2 Deprecated, Unsupported, and Obsolete Options for <code>asadmin</code>
and Subcommands</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33%;">
<col style="width: 67%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Affected Subcommands</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--acceptlang</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for the <code>create-virtual-server</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--acls</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for the <code>create-virtual-server</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--adminpassword</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for all relevant subcommands. Use <code>--passwordfile</code> instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--autoapplyenabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>create-http-lb</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--autohadb</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>create-cluster</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--autohadboverride</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>start-cluster</code> subcommand and the <code>stop-cluster</code> subcommand</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--blockingenabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for the <code>create-http-listener</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--configfile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for the <code>create-virtual-server</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--defaultobj</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for the <code>create-virtual-server</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--defaultvs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deprecated for the <code>create-http-listener</code> subcommand. Use <code>--default-virtual-server</code> instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>restore-domain</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--devicesize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>create-cluster</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--haadminpassword</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>create-cluster</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--haadminpasswordfile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>create-cluster</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--haagentport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>create-cluster</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--haproperty</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>create-cluster</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--heartbeataddress</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deprecated for the <code>create-cluster</code> subcommand. Use <code>--multicastaddress</code> instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--heartbeatport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deprecated for the <code>create-cluster</code> subcommand. Use <code>--multicastport</code> instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--hosts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>create-cluster</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--ignoreDescriptorItem</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by the all lowercase option <code>--ignoredescriptoritem</code>
in the <code>set-web-context-param</code> subcommand and the <code>set-web-env-entry</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--mime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for the <code>create-virtual-server</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for all remote subcommands. Use <code>--passwordfile</code> instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--path</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for the <code>create-domain</code> subcommand. Use <code>--domaindir</code> instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--portbase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete only for the <code>create-cluster</code> subcommand.
This option is still valid in other subcommands such as <code>create-domain</code>,
<code>create-instance</code>, and <code>create-local-instance</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--resourcetype</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unsupported for all relevant subcommands. Use <code>--restype</code> instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--retrievefile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>export-http-lb-config</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--setenv</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolete for the <code>start-instance</code> subcommand.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--target</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Obsolete only for the following subcommands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>create-connector-connection-pool</code></p>
</li>
<li>
<p><code>create-resource-adapter-config</code></p>
</li>
<li>
<p><code>delete-connector-connection-pool</code></p>
</li>
<li>
<p><code>delete-connector-security-map</code></p>
</li>
<li>
<p><code>delete-jdbc-connection-pool</code></p>
</li>
<li>
<p><code>delete-resource-ref</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Replaced by an operand in the <code>list-custom-resources</code> subcommand and the
<code>list-jndi-entries</code> subcommand.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="applications-that-use-java-db"><a class="anchor" href="#applications-that-use-java-db"></a>Applications That Use Java DB</h3>
<div class="paragraph">
<p>The directory location of Java DB in Eclipse GlassFish 7 has changed
from its location in previous installations. Suppose that you have
deployed applications that use Java DB databases in your previous server
installation, and you upgrade your existing installation to Eclipse GlassFish 7. If you run the <code>asadmin start-database</code> command and
successfully start Java DB, you could run into problems while trying to
run applications that were deployed on your previous server
installation.</p>
</div>
<div class="paragraph">
<p>To solve this problem, you can copy the <code>databases</code> directory from your
previous installation to as-install<code>/databases</code>. Make sure the database
is not running when you do this.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can perform these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the <code>asadmin start-database</code> command with the <code>--dbhome</code> option
pointing to the <code>databases</code> directory in the older version of Java DB.
For example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin start-database --dbhome c:\glassfish\databases</code></pre>
</div>
</div>
</li>
<li>
<p>After upgrade, start Eclipse GlassFish 7.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="applications-that-use-persistence"><a class="anchor" href="#applications-that-use-persistence"></a>Applications That Use Persistence</h3>
<div class="paragraph">
<p>Eclipse GlassFish 7 and 3.0.1, and Sun GlassFish Enterprise Server v3
use the persistence provider EclipseLink, while earlier versions used
TopLink Essentials.</p>
</div>
<div class="paragraph">
<p>An application that uses the container to create an <code>EntityManager</code> or
<code>EntityManagerFactory</code> and that used Toplink Essentials as its provider
will work in Eclipse GlassFish 7. The container creates an
<code>EntityManager</code> if the application uses the <code>@PersistenceContext</code>
annotation to inject an <code>EntityManager</code>, as in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@PersistenceContext</span>
EntityManager em;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The container creates an <code>EntityManagerFactory</code> if the application uses
the <code>@PersistenceUnit</code> annotation to inject an <code>EntityManagerFactory</code>,
as in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@PersistenceUnit</span>
EntityManagerFactory emf;

EntityManager em = emf.createEntityManager();</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the application is loaded, Eclipse GlassFish 7 will translate the
provider to EclipseLink and will also translate <code>toplink.*</code> properties
in the <code>persistence.xml</code> to corresponding EclipseLink properties. (The
actual <code>persistence.xml</code> file remains unchanged.)</p>
</div>
<div class="paragraph">
<p>Under certain circumstances, however, you may have to modify the
<code>persistence.xml</code> file or your code:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If your application uses Java SE code to create the
<code>EntityManagerFactory</code>, you will need to change your <code>persistence.xml</code>
file for both the <code>provider</code> element and for any <code>toplink.*</code> properties
to use the EclipseLink equivalents. An application uses Java SE code if
it uses the <code>javax.persistence.Persistence</code> class to create the
<code>EntityManagerFactory</code>, as in the following example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">EntityManagerFactory emf =
    javax.persistence.Persistence.createEntityManagerFactory(<span class="string"><span class="delimiter">&quot;</span><span class="content">Order</span><span class="delimiter">&quot;</span></span>);
EntityManager em = emf.createEntityManager();</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, change the <code>provider</code> element to specify the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;provider&gt;</span>org.eclipse.persistence.jpa.PersistenceProvider<span class="tag">&lt;/provider&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>If the application itself contains any TopLink Essentials-specific
code and therefore contains casts to <code>oracle.toplink.*</code>, you must change
the code to cast to <code>org.eclipse.persistence.*</code>. You can use the package
renamer tool described on the
<a href="http://wiki.eclipse.org/EclipseLink/Examples/MigratingFromOracleTopLink#Rename_Packages">
Eclipse wiki</a>
to do this. This tool is not provided with Eclipse GlassFish 7,
however, so you must obtain it from the EclipseLink project download site.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="http-service-to-network-service-changes"><a class="anchor" href="#http-service-to-network-service-changes"></a>HTTP Service to Network Service Changes</h3>
<div class="paragraph">
<p>In Eclipse GlassFish 7, most HTTP Service settings are defined in the
Network Service configuration that was introduced in Sun GlassFish
Enterprise Server v3.</p>
</div>
<div class="paragraph">
<p>The changes are described in the following sections.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#changes-to-dotted-names">Changes to Dotted Names</a></p>
</li>
<li>
<p><a href="#changes-to-asadmin-subcommands">Changes to <code>asadmin</code> Subcommands</a></p>
</li>
<li>
<p><a href="#remapping-of-http-service-attributes-and-properties">Remapping of HTTP Service Attributes and Properties</a></p>
</li>
<li>
<p><a href="#new-network-service-elements-and-attributes">New Network Service Elements and Attributes</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="changes-to-dotted-names"><a class="anchor" href="#changes-to-dotted-names"></a>Changes to Dotted Names</h4>
<div class="paragraph">
<p>The dotted name hierarchy for the HTTP Service configuration in
Eclipse GlassFish 7 is shown below. Elements that are no longer
supported are <code>request-processing</code>, <code>keep-alive</code>, <code>connection-pool</code>,
<code>http-protocol</code>, <code>http-file-cache</code>, and <code>http-listener</code>. During the
upgrade process, these discontinued elements are remapped to the new
configuration automatically and then deleted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>config
    http-service
        access-log
        request-processing
        keep-alive
        connection-pool
        http-protocol
        http-file-cache
        http-listener
            ssl
            property
        virtual-server
            http-access-log
            property
        property
    thread-pools
        thread-pool</code></pre>
</div>
</div>
<div class="paragraph">
<p>The dotted name hierarchy for the Eclipse GlassFish 7 Network Service
and HTTP Service configurations is shown below. The <code>network-config</code>
element and all its children are new except for <code>ssl</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>config
    network-config
        transports
            selection-key-handler
            transport
        protocols
            protocol
                http
                    file-cache
                port-unification
                    protocol-finder
                protocol-chain-instance-handler
                    protocol-chain
                protocol-filter
                ssl
        network-listeners
            network-listener
    http-service
        access-log
        virtual-server
            http-access-log
            property
        property
    thread-pools
        thread-pool</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example compares the commands for setting a listener port
for Sun GlassFish Enterprise Server v3 and Eclipse GlassFish 7. Note
that the configuration for Enterprise Server v3 also applies to all
earlier Enterprise Server 2.x releases.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Command for Sun GlassFish Enterprise Server v3 and earlier:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin set server-config.http-service.http-listener.http-1.listenerport=4321</code></pre>
</div>
</div>
</li>
<li>
<p>Command for Eclipse GlassFish 7:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin set server-config.network-config.network-listeners.network-\
listener.http-1.listenerport=4321</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="changes-to-asadmin-subcommands"><a class="anchor" href="#changes-to-asadmin-subcommands"></a>Changes to <code>asadmin</code> Subcommands</h4>
<div class="paragraph">
<p>To accommodate the move of HTTP Service into the new Network Service
configuration, <a href="reference-manual.html#asadmin"><code>asadmin</code></a> subcommands are changed as
follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="reference-manual.html#create-ssl"><code>create-ssl</code></a> subcommand has a new <code>--type</code>
parameter value, <code>network-listener</code>.</p>
</li>
<li>
<p>The <a href="reference-manual.html#create-virtual-server"><code>create-virtual-server</code></a> SUBcommand has a new
parameter, <code>--networklisteners</code>.</p>
</li>
<li>
<p>The <a href="reference-manual.html#create-http-listener"><code>create-http-listener</code></a> subcommand adds a
<code>network-listener</code> element to the domain configuration. The syntax and
options of this commands are unchanged.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="remapping-of-http-service-attributes-and-properties"><a class="anchor" href="#remapping-of-http-service-attributes-and-properties"></a>Remapping of HTTP Service Attributes and Properties</h4>
<div class="paragraph">
<p>The following tables describe how attributes and properties in the HTTP
Service configuration for Eclipse GlassFish 7 are remapped to
attributes in the Network Service configuration for older product
releases. If you use a configuration from a Sun GlassFish Enterprise
Server v2 or v3 release, this remapping happens automatically and then
discontinued elements are deleted.</p>
</div>
<div id="gipfy" class="paragraph">
<p>Table 1-3 <code>com.sun.grizzly</code> Property Remapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33%;">
<col style="width: 26%;">
<col style="width: 41%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>com.sun.grizzly</code> Property</th>
<th class="tableblock halign-left valign-top">New Owning Element</th>
<th class="tableblock halign-left valign-top">New Attribute Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selector.timeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selector-poll-timeout-millis</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>displayConfiguration</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>display-configuration</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enableSnoop</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>snoop-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>readTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>read-timeout-millis</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>writeTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>write-timeout-millis</code></p></td>
</tr>
</tbody>
</table>
<div id="gipfn" class="paragraph">
<p>Table 1-4 <code>connection-pool</code> Attribute Remapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 41%;">
<col style="width: 19%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>connection-pool</code> Attribute</th>
<th class="tableblock halign-left valign-top">New Owning Element</th>
<th class="tableblock halign-left valign-top">New Attribute Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>queue-size-in-bytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-pool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-queue-size</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-pending-count</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-connections-count</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>receive-buffer-size-in-</code> <code>bytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>request-body-buffer-size-</code>
<code>bytes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>send-buffer-size-in-bytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>send-buffer-size-bytes</code></p></td>
</tr>
</tbody>
</table>
<div id="gipcv" class="paragraph">
<p>Table 1-5 <code>http-file-cache</code> Attribute Remapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 17%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>http-file-cache</code> Attribute</th>
<th class="tableblock halign-left valign-top">New Owning Element</th>
<th class="tableblock halign-left valign-top">New Attribute Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-caching-enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-cache</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-age-in-seconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-cache</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-age-seconds</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>medium-file-space-in-bytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-cache</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-cache-size-bytes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-files-count</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-cache</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-files-count</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>globally-enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>medium-file-size-limit-in-bytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>small-file-size-limit-in-bytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>small-file-space-in-bytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>file-transmission-enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hash-init-size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
</tbody>
</table>
<div id="gipev" class="paragraph">
<p>Table 1-6 <code>http-listener</code> Attribute Remapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37%;">
<col style="width: 27%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>http-listener</code> Attribute</th>
<th class="tableblock halign-left valign-top">New Owning Element</th>
<th class="tableblock halign-left valign-top">New Attribute Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>network-listener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>address</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>network-listener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>address</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>network-listener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>port</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>network-listener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>acceptor-threads</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>acceptor-threads</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>security-enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>protocol</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>security-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default-virtual-server</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default-virtual-server</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>server-name</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>redirect-port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>redirect-port</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xpowered-by</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xpowered-by</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>external-port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>family</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>blocking-enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
</tbody>
</table>
<div id="gipdo" class="paragraph">
<p>Table 1-7 <code>http-listener</code> Property Remapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 43%;">
<col style="width: 15%;">
<col style="width: 42%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>http-listener</code> Property</th>
<th class="tableblock halign-left valign-top">New Owning Element</th>
<th class="tableblock halign-left valign-top">New Attribute Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxKeepAliveRequests</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-connections</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authPassthroughEnabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>auth-pass-through-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compression</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compression</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compressableMimeType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compressable-mime-type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noCompressionUserAgents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no-compression-user-agents</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compressionMinSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compression-min-size-bytes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restrictedUserAgents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>restricted-user-agents</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cometSupport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>comet-support-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionUploadTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connection-upload-timeout-</code>
<code>millis</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>disableUploadTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>upload-timeout-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chunkingDisabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>chunking-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uriEncoding</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri-encoding</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>traceEnabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trace-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rcmSupport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rcm-support-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jkEnabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>network-</code> <code>listener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jk-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crlFile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crl-file</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trustAlgorithm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trust-algorithm</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trustMaxCertLength</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trust-max-cert-length-bytes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tcpNoDelay</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tcp-no-delay</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bufferSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>buffer-size-bytes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>use-nio-direct-bytebuffer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>byte-buffer-type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>proxyHandler</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>proxiedProtocols</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>recycle-objects</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reader-threads</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>acceptor-queue-length</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reader-queue-length</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>monitoring-cache-enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>monitoring-cache-refresh-in-</code> <code>millis</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl-cache-entries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl3-session-timeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl-session-timeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
</tbody>
</table>
<div id="gipel" class="paragraph">
<p>Table 1-8 <code>http-protocol</code> Attribute Remapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>http-protocol</code> Attribute</th>
<th class="tableblock halign-left valign-top">New Owning Element</th>
<th class="tableblock halign-left valign-top">New Attribute Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forced-response-type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forced-response-type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default-response-type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>default-response-type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dns-lookup-enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl-enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
</tbody>
</table>
<div id="gipfa" class="paragraph">
<p>Table 1-9 <code>http-service</code> Property Remapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>http-service</code> Property</th>
<th class="tableblock halign-left valign-top">New Owning Element</th>
<th class="tableblock halign-left valign-top">New Attribute or Property
Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>accessLoggingEnabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-service</code>, <code>virtual-server</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>access-logging-enabled</code> attribute</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl-cache-entries</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-service</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unchanged property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl3-session-timeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-service</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unchanged property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl-session-timeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-service</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unchanged property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>proxyHandler</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-service</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unchanged property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-service</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unchanged property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all other properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
</tbody>
</table>
<div id="gipea" class="paragraph">
<p>Table 1-10 <code>keep-alive</code> Attribute Remapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 34%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>keep-alive</code> Attribute</th>
<th class="tableblock halign-left valign-top">New Owning Element</th>
<th class="tableblock halign-left valign-top">New Attribute Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-connections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-connections</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeout-in-seconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timeout-seconds</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-count</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
</tbody>
</table>
<div id="gipdh" class="paragraph">
<p>Table 1-11 <code>request-processing</code> Attribute Remapping</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 43%;">
<col style="width: 18%;">
<col style="width: 39%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><code>request-processing</code> Attribute</th>
<th class="tableblock halign-left valign-top">New Owning Element</th>
<th class="tableblock halign-left valign-top">New Attribute Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-count</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-pool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-thread-pool-size</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>initial-thread-count</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-pool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min-thread-pool-size</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>header-buffer-length-in-bytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>header-buffer-length-bytes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>request-timeout-in-seconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>request-timeout-seconds</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-increment</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
</tbody>
</table>
<div id="gipdv" class="paragraph">
<p>Table 1-12 <code>ssl</code> Attribute Changes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 34%;">
<col style="width: 22%;">
<col style="width: 44%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Previous Attribute or Property</th>
<th class="tableblock halign-left valign-top">Previous Owning Element</th>
<th class="tableblock halign-left valign-top">New <code>ssl</code>
Attribute</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>key-store</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trust-store</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crlFile</code> property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-listener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crl-file</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trustAlgorithm</code> property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-listener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trust-algorithm</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trustMaxCertLength</code> property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-listener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trust-max-cert-length-bytes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all other <code>ssl</code> attributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unchanged</p></td>
</tr>
</tbody>
</table>
<div id="gipcj" class="paragraph">
<p>Table 1-13 <code>thread-pool</code> Attribute Changes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 44%;">
<col style="width: 17%;">
<col style="width: 39%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Previous Attribute</th>
<th class="tableblock halign-left valign-top">Previous Owning Element</th>
<th class="tableblock halign-left valign-top">New <code>thread-pool</code>
Attribute</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-queue-size</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-pool-id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-pool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>idle-thread-timeout-in-seconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-pool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>idle-thread-timeout-seconds</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>num-work-queues</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-pool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all other <code>thread-pool</code> attributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-pool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unchanged</p></td>
</tr>
</tbody>
</table>
<div id="gipep" class="paragraph">
<p>Table 1-14 <code>virtual-server</code> Attribute Changes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 39%;">
<col style="width: 24%;">
<col style="width: 37%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Previous Attribute or Property</th>
<th class="tableblock halign-left valign-top">Previous Owning Element</th>
<th class="tableblock halign-left valign-top">New
<code>virtual-server</code> Attribute</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-listeners</code> attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>virtual-server</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>network-listeners</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>accessLoggingEnabled</code> property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-service</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>access-logging-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sso-enabled</code> property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>virtual-server</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sso-enabled</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssoCookieSecure</code> property</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>virtual-server</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sso-cookie-secure</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all other <code>virtual-server</code> attributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>virtual-server</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">all other <code>virtual-server</code> properties</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>virtual-server</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unchanged,
still properties</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="new-network-service-elements-and-attributes"><a class="anchor" href="#new-network-service-elements-and-attributes"></a>New Network Service Elements and Attributes</h4>
<div class="paragraph">
<p>The following tables describe the Network Service elements and
attributes that were introduced in Sun GlassFish Enterprise Server v3.
For attributes and properties remapped from discontinued elements to new
elements, see <a href="#remapping-of-http-service-attributes-and-properties">Remapping of HTTP Service Attributes and
Properties</a>.</p>
</div>
<div class="paragraph">
<p>The new <code>file-cache</code> element has no new attributes. All of its
attributes are remapped from the <code>http-file-cache</code> element. For details,
see <a href="#gipcv">Table 1-5</a>.</p>
</div>
<div id="gipds" class="paragraph">
<p>Table 1-15 New <code>http</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 28%;">
<col style="width: 32%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>adapter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>com.sun.grizzly.tcp. StaticResourcesAdapter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional)
Specifies the class name of the static resources adapter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-post-size-bytes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2097152</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specifies the maximum size
of <code>POST</code> actions.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For remapped <code>http</code> attributes, see <a href="#gipfn">Table 1-4</a>,
<a href="#gipev">Table 1-6</a>, <a href="#gipdo">Table 1-7</a>, <a href="#gipel">Table 1-8</a>,
<a href="#gipea">Table 1-10</a>, and <a href="#gipdh">Table 1-11</a>.</p>
</div>
<div id="gipey" class="paragraph">
<p>Table 1-16 New <code>network-listener</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 18%;">
<col style="width: 11%;">
<col style="width: 71%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>protocol</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <code>name</code> of the <code>protocol</code> associated
with this <code>network-listener</code>. Although this attribute is required, a
<code>protocol</code> is automatically created with the same <code>name</code> as the
<code>network-listener</code> when you use <code>asadmin create-http-listener</code> to create
a <code>network-listener</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thread-pool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specifies the <code>name</code> of the
<code>thread-pool</code> associated with this <code>network-listener</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transport</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <code>name</code> of the <code>transport</code> associated
with this <code>network-listener</code>. Although this attribute is required, the
default <code>transport</code> is used when you use <code>asadmin create-http-listener</code>
to create a <code>network-listener</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For remapped <code>network-listener</code> attributes, see <a href="#gipev">Table 1-6</a>.</p>
</div>
<div id="gipfg" class="paragraph">
<p>Table 1-17 New <code>port-unification</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19%;">
<col style="width: 16%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a unique name for the <code>port-unification</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the class name of the <code>port-unification</code>
implementation.</p></td>
</tr>
</tbody>
</table>
<div id="gipdj" class="paragraph">
<p>Table 1-18 New <code>protocol</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 18%;">
<col style="width: 17%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a unique name for the <code>protocol</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For remapped <code>protocol</code> attributes, see <a href="#gipev">Table 1-6</a>.</p>
</div>
<div id="gipcr" class="paragraph">
<p>Table 1-19 New <code>protocol-chain</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19%;">
<col style="width: 17%;">
<col style="width: 64%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a unique name for the <code>protocol-chain</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the class name of the <code>protocol-chain</code>
implementation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STATELESS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the type of protocol chain.</p></td>
</tr>
</tbody>
</table>
<div id="gipfq" class="paragraph">
<p>Table 1-20 New <code>protocol-chain-instance-handler</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19%;">
<col style="width: 17%;">
<col style="width: 64%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a unique name for the
<code>protocol-chain-instance-handler</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the class name of the
<code>protocol-chain-instance-handler</code> implementation.</p></td>
</tr>
</tbody>
</table>
<div id="gipeq" class="paragraph">
<p>Table 1-21 New <code>protocol-filter</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19%;">
<col style="width: 17%;">
<col style="width: 64%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a unique name for the <code>protocol-filter</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the class name of the <code>protocol-filter</code>
implementation.</p></td>
</tr>
</tbody>
</table>
<div id="gipfd" class="paragraph">
<p>Table 1-22 New <code>protocol-finder</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19%;">
<col style="width: 17%;">
<col style="width: 64%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a unique name for the <code>protocol-finder</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the class name of the <code>protocol-finder</code>
implementation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>protocol</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the <code>name</code> of the <code>protocol</code> associated
with this <code>protocol-finder</code>.</p></td>
</tr>
</tbody>
</table>
<div id="gipft" class="paragraph">
<p>Table 1-23 New <code>selection-key-handler</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19%;">
<col style="width: 16%;">
<col style="width: 65%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a unique name for the <code>selection-key-handler</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the class name of the
<code>selection-key-handler</code> implementation.</p></td>
</tr>
</tbody>
</table>
<div id="gipfi" class="paragraph">
<p>Table 1-24 New <code>ssl</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19%;">
<col style="width: 17%;">
<col style="width: 64%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>key-store</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specifies a key store.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trust-store</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specifies a trust store.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For remapped <code>ssl</code> attributes, see <a href="#gipdv">Table 1-12</a>.</p>
</div>
<div id="gipcc" class="paragraph">
<p>Table 1-25 New <code>thread-pool</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 21%;">
<col style="width: 32%;">
<col style="width: 47%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>com.sun.grizzly.http.StatsThreadPool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional)
Specifies the class name of the <code>thread-pool</code> implementation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max-queue-size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specifies the maximum number of
messages that can be queued until threads are available to process them.
A value of <code>-1</code> specifies no limit.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For remapped <code>thread-pool</code> attributes, see <a href="#gipfn">Table 1-4</a>,
<a href="#gipdh">Table 1-11</a>, and <a href="#gipcj">Table 1-13</a>.</p>
</div>
<div id="gipem" class="paragraph">
<p>Table 1-26 New <code>transport</code> Attributes</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 27%;">
<col style="width: 38%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a unique name for the <code>transport</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>com.sun.grizzly. TCPSelectorHandler</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional)
Specifies the class name of the <code>transport</code> implementation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>selection-key-handler</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specifies the <code>name</code> of the
<code>selection-key-handler</code> associated with this <code>transport</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>idle-key-timeout-seconds</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>30</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Optional) Specifies the idle key
timeout.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For remapped <code>transport</code> attributes, see <a href="#gipfy">Table 1-3</a>,
<a href="#gipfn">Table 1-4</a>, <a href="#gipev">Table 1-6</a>, and <a href="#gipdo">Table
1-7</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="nss-cryptographic-token-support"><a class="anchor" href="#nss-cryptographic-token-support"></a>NSS Cryptographic Token Support</h3>
<div class="paragraph">
<p>Eclipse GlassFish 7 does not support Network Security Services (NSS)
cryptographic tokens. When upgrading to Eclipse GlassFish 7 from
Enterprise Server v2.x, additional manual configuration steps must be
performed. These steps are explained later in this guide, in
<a href="#upgrading-installations-that-use-nss-cryptographic-tokens">Upgrading Installations
That Use NSS Cryptographic Tokens</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrading-an-installation-of-application-server-or-glassfish-server"><a class="anchor" href="#upgrading-an-installation-of-application-server-or-glassfish-server"></a>2 Upgrading an Installation of Application Server or Eclipse GlassFish</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This chapter is obsoleted and must be revided.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Upgrade Tool that is bundled with Eclipse GlassFish 7 replicates
the configuration of a previously installed server in the target
installation. The Upgrade Tool assists in upgrading the configuration
and applications from an earlier version of the Application Server or
Eclipse GlassFish to Eclipse GlassFish 7.</p>
</div>
<div class="paragraph">
<p>In addition to Upgrade Tool, there are three Update Center tools that
can be used to perform an in-place upgrade to Eclipse GlassFish 7 from
Eclipse GlassFish 3.1.1, 3.1, 3.0.1, and Enterprise Server v3. These
three Update Center tools are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update Tool</p>
</li>
<li>
<p>Software Update Notifier</p>
</li>
<li>
<p>The <code>pkg</code> command-line utility</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Upgrade Tool and the three Update Center tools are explained later in
this chapter.</p>
</div>
<div class="paragraph">
<p>To view a list of the older versions from which you can upgrade, see
<a href="#supported-releases-for-upgrade-to-glassfish-server-7">Supported Releases for Upgrade to Eclipse GlassFish 7</a>.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#upgrade-overview">Upgrade Overview</a></p>
</li>
<li>
<p><a href="#performing-a-side-by-side-upgrade-with-upgrade-tool">Performing a Side-By-Side Upgrade With Upgrade Tool</a></p>
</li>
<li>
<p><a href="#performing-an-in-place-upgrade-with-the-update-center-tools">Performing an In-Place Upgrade With the Update Center
Tools</a></p>
</li>
<li>
<p><a href="#upgrading-installations-that-use-nss-cryptographic-tokens">Upgrading Installations That Use NSS Cryptographic Tokens</a></p>
</li>
<li>
<p><a href="#upgrading-clusters-and-node-agent-configurations">Upgrading Clusters and Node Agent Configurations</a></p>
</li>
<li>
<p><a href="#correcting-potential-upgrade-problems">Correcting Potential Upgrade Problems</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="upgrade-overview"><a class="anchor" href="#upgrade-overview"></a>Upgrade Overview</h3>
<div class="paragraph">
<p>The subsections that follow provide information that you will need when
you perform an upgrade.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#upgrade-paths">Upgrade Paths</a></p>
</li>
<li>
<p><a href="#upgrade-terminology">Upgrade Terminology</a></p>
</li>
<li>
<p><a href="#summary-of-upgrade-tools-and-procedures">Summary of Upgrade Tools and Procedures</a></p>
</li>
<li>
<p><a href="#supported-releases-for-upgrade-to-glassfish-server-7">Supported Releases for Upgrade to Eclipse GlassFish 7</a></p>
</li>
<li>
<p><a href="#GSUPG00063">Upgrading From Version 8.x or Older Product Releases</a></p>
</li>
<li>
<p><a href="#upgrading-glassfish-server-inside-a-closed-network">Upgrading Eclipse GlassFish Inside a Closed Network</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="upgrade-paths"><a class="anchor" href="#upgrade-paths"></a>Upgrade Paths</h4>
<div class="paragraph">
<p>There are two general paths you can use when upgrading to Eclipse GlassFish 7:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Side-by-Side</dt>
<dd>
<p>A side-by-side upgrade means that the new Eclipse GlassFish release is
installed in a different directory than the release from which you are
upgrading.<br>
In this scenario, you perform the following steps:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Perform a basic installation of Eclipse GlassFish 7 in a location
other than the one being used for the older product.</p>
</li>
<li>
<p>Use Upgrade Tool to migrate the old configurations and
applications to the new Eclipse GlassFish 7 directories.</p>
</li>
<li>
<p>Test the new Eclipse GlassFish installation to make sure everything
is working properly.</p>
</li>
<li>
<p>When you are satisfied that the new installation works properly,
modify your production environment to use the new installation.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The side-by-side upgrade path is typically used for live production
  environments because it allows you to thoroughly test the new
  Eclipse GlassFish installation before bringing it into production.</p>
</div>
</dd>
<dt class="hdlist1">In-Place</dt>
<dd>
<p>  An in-place upgrade means that the new Eclipse GlassFish release is
  installed directly over and into the same directory as the previous
  product release. The existing configuration is reused in the updated
  installation.<br>
In this scenario, you simply use Update Tool, the <code>pkg</code> utility, or
  the Update Notifier in your old installation to overwrite the old
  installation with the new Eclipse GlassFish 7 product.<br>
  Performing an in-place upgrade is easier than performing a
  side-by-side upgrade, but you lose the ability to switch back and
  forth between the old and new installations. There is also no way to
  revert an in-place upgrade back to the previous product version.
  Because of these limitations, in-place upgrades are typically only
  used by developers and for non-production Eclipse GlassFish
  deployments.<br>
  Note also that it is only possible to perform an in-place upgrade when
  upgrading from Eclipse GlassFish 3.1.1, 3.1, 3.0.1, or v3. If you are
  upgrading from product versions prior to 3x, you must perform a
  side-by-side upgrade.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For a more detailed overview, see <a href="#summary-of-upgrade-tools-and-procedures">Summary of Upgrade Tools
and Procedures</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="upgrade-terminology"><a class="anchor" href="#upgrade-terminology"></a>Upgrade Terminology</h4>
<div class="paragraph">
<p>The following are important terms related to the upgrade process.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Source Domain Directory</dt>
<dd>
<p>The directory of the server domain from which you are upgrading to the
new version (for example, <code>c:\glassfish\domains\domain1</code>).</p>
</dd>
<dt class="hdlist1">Target Root Domain&#8217;s Directory</dt>
<dd>
<p>The directory where domains are created on the server to which you are
upgrading (for example, <code>c:\glassfish7\glassfish\domains</code>).</p>
</dd>
<dt class="hdlist1">Master Password</dt>
<dd>
<p>The SSL certificate database password used in operations such as
Eclipse GlassFish startup. This term refers to the master password of
the installation from which you want to upgrade. You need to specify
this password if you have changed it from the default value of
<code>changeit</code>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="summary-of-upgrade-tools-and-procedures"><a class="anchor" href="#summary-of-upgrade-tools-and-procedures"></a>Summary of Upgrade Tools and Procedures</h4>
<div class="paragraph">
<p>There are several tools you can use to upgrade from an earlier Eclipse GlassFish or Enterprise Server installation to Eclipse GlassFish 7. The
general procedures for upgrading to Eclipse GlassFish 7 vary depending
on which tool you use and the product version from which you are upgrading.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#summary-of-tools-for-performing-an-upgrade">Summary of Tools for Performing an Upgrade</a></p>
</li>
<li>
<p><a href="#summary-of-procedure-for-upgrading-with-upgrade-tool">Summary of Procedure for Upgrading With Upgrade Tool</a></p>
</li>
<li>
<p><a href="#summary-of-procedure-for-upgrading-with-update-tool">Summary of Procedure for Upgrading With Update Tool</a></p>
</li>
<li>
<p><a href="#summary-of-procedure-for-upgrading-with-the-software-update-notifier">Summary of Procedure for Upgrading With the Software Update Notifier</a></p>
</li>
<li>
<p><a href="#summary-of-procedure-for-upgrading-with-the-pkg-utility">Summary of Procedure for Upgrading With the <code>pkg</code> Utility</a></p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="summary-of-tools-for-performing-an-upgrade"><a class="anchor" href="#summary-of-tools-for-performing-an-upgrade"></a>Summary of Tools for Performing an Upgrade</h5>
<div class="paragraph">
<p>There are several tools you can use to perform an upgrade to Eclipse GlassFish 7 are described below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#upgrade-tool">Upgrade Tool</a></p>
</li>
<li>
<p><a href="#update-tool-and-the-pkg-utility">Update Tool and the <code>pkg</code> Utility</a></p>
</li>
<li>
<p><a href="#software-update-notifier">Software Update Notifier</a></p>
</li>
</ul>
</div>
<div id="upgrade-tool" class="paragraph">
<p>Upgrade Tool</p>
</div>
<div class="paragraph">
<p>The Eclipse GlassFish Upgrade Tool is tended solely for performing
side-by-side upgrades from any compatible older product version to
Eclipse GlassFish 7.</p>
</div>
<div class="paragraph">
<p>Upgrade Tool provides a number of features that aid in the migration of
older configurations and applications to a new Eclipse GlassFish 7
installation. These features are described in more detail in
<a href="#upgrade-tool-functionality">Upgrade Tool Functionality</a>.</p>
</div>
<div class="paragraph">
<p>In Eclipse GlassFish 7 Upgrade Tool is installed in the
as-install<code>/bin</code> directory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Upgrade Tool is the only tool you can use when upgrading to Eclipse GlassFish 7 from product versions prior to Eclipse GlassFish 3.0.1 or
Enterprise Server v3.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="#summary-of-procedure-for-upgrading-with-upgrade-tool">Summary of Procedure for Upgrading With Upgrade Tool</a>
for an overview of the general procedure for performing an upgrade with
Upgrade Tool.</p>
</div>
<div id="update-tool-and-the-pkg-utility" class="paragraph">
<p>Update Tool and the <code>pkg</code> Utility</p>
</div>
<div class="paragraph">
<p>The Eclipse GlassFish Update Tool is a graphical utility that is
typically used for the day-to-day maintenance of Eclipse GlassFish
components and additional features. For example, Update Tool can be used
to update Eclipse GlassFish components or install additional features
such as OSGi Admin Console.</p>
</div>
<div class="paragraph">
<p>The command-line counterpart to Update Tool is the <code>pkg</code> utility. While
the <code>pkg</code> utility does not provide exactly the same set of features as
Update Tool, for the purposes of upgrading to Eclipse GlassFish 7, the
<code>pkg</code> utility and Update Tool feature sets are almost identical.</p>
</div>
<div class="paragraph">
<p>In addition to day-to-day maintenance tasks, Update Tool and the <code>pkg</code>
utility can be used to perform an in-place upgrade of an entire
Eclipse GlassFish 3.0.1 or Enterprise Server v3 installation to the
Eclipse GlassFish 7 or later release.</p>
</div>
<div class="paragraph">
<p>In Eclipse GlassFish 7 Update Tool is installed in the
as-install-parent<code>/bin</code> directory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is not possible to use Update Tool to upgrade from Eclipse GlassFish
or Enterprise Server versions prior to 3x. For these older versions, you
must use the Upgrade Tool, described in <a href="#upgrade-tool">Upgrade Tool</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="#summary-of-procedure-for-upgrading-with-update-tool">Summary of Procedure for Upgrading With Update Tool</a> for
an overview of the general procedure for performing an upgrade with
Update Tool. For more information about Update Tool in general, see
"<a href="administration-guide.html#GSADG00701">Update Tool</a>"
in Eclipse GlassFish Administration Guide.</p>
</div>
<div id="software-update-notifier" class="paragraph">
<p>Software Update Notifier</p>
</div>
<div class="paragraph">
<p>The Eclipse GlassFish Software Update Notifier is similar to Update Tool
and the <code>pkg</code> utility in that it enables you to perform an in-place
upgrade from Eclipse GlassFish 3.1.1, 3.1, 3.0.1, or Enterprise Server
v3. As with Update Tool and the <code>pkg</code> utility, you cannot use the
Software Update tool to upgrade from product releases prior 3.0.1 and
v3.</p>
</div>
<div class="paragraph">
<p>The Software Update Notifier is distributed as a configuration option
during Eclipse GlassFish 7, 3.0.1, and Enterprise Server v3
installation. If installed and enabled, the Software Update Notifier
monitors your installation and pops up a notification balloon when
updates or upgrades are available for your product.</p>
</div>
<div class="paragraph">
<p>See <a href="#summary-of-procedure-for-upgrading-with-the-software-update-notifier">Summary of Procedure for Upgrading With the Software
Update Notifier</a> for an overview of the general procedure for performing
an upgrade with the Software Update Notifier. For more information about
the Update Notifier, refer to the Update Tool online help.</p>
</div>
</div>
<div class="sect4">
<h5 id="summary-of-procedure-for-upgrading-with-upgrade-tool"><a class="anchor" href="#summary-of-procedure-for-upgrading-with-upgrade-tool"></a>Summary of Procedure for Upgrading With Upgrade Tool</h5>
<div class="paragraph">
<p>The general procedure for using Upgrade Tool to perform an upgrade to
Eclipse GlassFish 7 from any compatible older version of Eclipse GlassFish or Enterprise Server comprises the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download Eclipse GlassFish 7 and perform a Standard Installation,
as described in "<a href="installation-guide.html#GSING00007">
To Install Eclipse GlassFish Using the Self-Extracting File</a>"
in Eclipse GlassFish Installation Guide.</p>
</li>
<li>
<p>Copy any custom or third-party libraries from the older installation
to their corresponding locations in the new Eclipse GlassFish 7
installation directories. Note that you should only copy custom or
third-party libraries here. Do not copy an libraries from the actual
domain that will be upgraded.</p>
</li>
<li>
<p>Run the <code>asupgrade</code> command from the new Eclipse GlassFish 7
as-install<code>/bin</code> directory.</p>
</li>
<li>
<p>Start the new Eclipse GlassFish 7 DAS with the
<code>asadmin start-domain</code> subcommand.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This procedure is described in more detail in <a href="#performing-a-side-by-side-upgrade-with-upgrade-tool">Performing a
Side-By-Side Upgrade With Upgrade Tool</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="summary-of-procedure-for-upgrading-with-update-tool"><a class="anchor" href="#summary-of-procedure-for-upgrading-with-update-tool"></a>Summary of Procedure for Upgrading With Update Tool</h5>
<div class="paragraph">
<p>The general procedure for using Update Tool to perform an upgrade to
Eclipse GlassFish 7 from Eclipse GlassFish 3.0.1 or Enterprise Server v3
comprises the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Manually stop all server instances and the domain.</p>
</li>
<li>
<p>Launch Update Tool by using the as-install-parent`/bin/updatetool`
command in the older product directory.</p>
</li>
<li>
<p>In Update Tool, select and install the latest Eclipse GlassFish
product release. This updates your server to the 7 release.</p>
</li>
<li>
<p>Upgrade the domain by running the <code>asadmin start-domain --upgrade</code>
subcommand. This performs the upgrade and then shuts down the DAS.</p>
</li>
<li>
<p>Restart the DAS normally with the with the <code>asadmin start-domain</code>
subcommand.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This procedure is described in more detail in <a href="#to-upgrade-using-the-update-tool-gui">To Upgrade
Using the Update Tool GUI</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="summary-of-procedure-for-upgrading-with-the-software-update-notifier"><a class="anchor" href="#summary-of-procedure-for-upgrading-with-the-software-update-notifier"></a>Summary of Procedure for Upgrading With the Software Update Notifier</h5>
<div class="paragraph">
<p>The general procedure for using the Software Update Notifier to perform
an upgrade to Eclipse GlassFish 7 from Eclipse GlassFish3.0.1 or
Enterprise Server v3 comprises the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Wait for the Software Update Notifier to pop up a notification
balloon informing you that updates are available.</p>
</li>
<li>
<p>Click the balloon prompt to launch the Software Update GUI.</p>
</li>
<li>
<p>Manually stop all server instances and the domain.</p>
</li>
<li>
<p>Use the Software Update GUI to perform the upgrade. This updates
your server to the 7 release.</p>
</li>
<li>
<p>Upgrade the domain by running the <code>asadmin start-domain --upgrade</code>
subcommand. This performs the upgrade and then shuts down the DAS.</p>
</li>
<li>
<p>Restart the upgraded DAS normally with the with the
<code>asadmin start-domain</code> subcommand.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This procedure is described in more detail in <a href="#to-upgrade-using-the-software-update-notifier">To Upgrade
Using the Software Update Notifier</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="summary-of-procedure-for-upgrading-with-the-pkg-utility"><a class="anchor" href="#summary-of-procedure-for-upgrading-with-the-pkg-utility"></a>Summary of Procedure for Upgrading With the <code>pkg</code> Utility</h5>
<div class="paragraph">
<p>The general procedure for using the <code>pkg</code> utility to perform an upgrade
to Eclipse GlassFish 7 from Eclipse GlassFish3.0.1 or Enterprise Server
v3 comprises the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Manually stop all server instances and the domain.</p>
</li>
<li>
<p>Run the as-install-parent`/bin/pkg` command with the desired options
in the older product directory. This updates your server to the 7
release.</p>
</li>
<li>
<p>Upgrade the domain by running the <code>asadmin start-domain --upgrade</code>
subcommand. This performs the upgrade and then shuts down the DAS.</p>
</li>
<li>
<p>Restart the upgraded DAS normally with the with the
<code>asadmin start-domain</code> subcommand.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This procedure is described in more detail in <a href="#to-upgrade-from-the-command-line-using-the-pkg-utility">To Upgrade
From the Command Line Using the <code>pkg</code> Utility</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="supported-releases-for-upgrade-to-glassfish-server-7"><a class="anchor" href="#supported-releases-for-upgrade-to-glassfish-server-7"></a>Supported Releases for Upgrade to Eclipse GlassFish 7</h4>
<div class="paragraph">
<p>Upgrades to Eclipse GlassFish 7 are supported from the following
earlier Eclipse GlassFish product releases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sun GlassFish Enterprise Server v2.1.1</p>
</li>
<li>
<p>Sun GlassFish Enterprise Server v3</p>
</li>
<li>
<p>Eclipse GlassFish 3.0.1</p>
</li>
<li>
<p>Eclipse GlassFish 3.1</p>
</li>
<li>
<p>Eclipse GlassFish 3.1.1</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GSUPG00063"></a><a id="upgrading-from-version-8.x-or-older-product-releases"></a></p>
</div>
</div>
<div class="sect3">
<h4 id="upgrading-from-version-8-x-or-older-product-releases"><a class="anchor" href="#upgrading-from-version-8-x-or-older-product-releases"></a>Upgrading From Version 8.x or Older Product Releases</h4>
<div class="paragraph">
<p>It is not possible to upgrade to Eclipse GlassFish 7 directly from Sun
GlassFish Enterprise Server 8.x or older product releases.</p>
</div>
<div class="paragraph">
<p>To upgrade from a product release that is older than any of those listed
in <a href="#supported-releases-for-upgrade-to-glassfish-server-7">Supported Releases for Upgrade to Eclipse GlassFish 7</a>,
you must first upgrade your older product release to one of the releases
that are supported for upgrade to Eclipse GlassFish 7.</p>
</div>
<div class="paragraph">
<p>For example, to upgrade from any Enterprise Server 8.x release, you
first need to upgrade that older release to Enterprise Server 2.1.1.
That is, your upgrade path would be as follows:</p>
</div>
<div class="paragraph">
<p>Enterprise Server 8.xâEnterprise Server 2.1.1âEclipse GlassFish 7</p>
</div>
<div class="paragraph">
<p>Sun GlassFish Enterprise Server 2.1.1 is available for download from the
<a href="http://glassfish.java.net/public/downloadsindex.html">GlassFish Community
Downloads</a> (<code><a href="http://glassfish.java.net/public/downloadsindex.html" class="bare">http://glassfish.java.net/public/downloadsindex.html</a></code>)
page. Instructions for upgrading to Enterprise Server 2.1.1 are provided
in <a href="http://download.oracle.com/docs/cd/E19879-01/821-0180/index.html">Sun
GlassFish Enterprise Server 2.1.1 Upgrade Guide</a>
(<code><a href="http://docs.oracle.com/cd/E19879-01/821-0180/index.html" class="bare">http://docs.oracle.com/cd/E19879-01/821-0180/index.html</a></code>).</p>
</div>
<div class="paragraph">
<p>After upgrading your older Enterprise Server installation to Enterprise
Server 2.1.1, you can proceed normally with the instructions in this
guide to complete the upgrade to Eclipse GlassFish 7.</p>
</div>
</div>
<div class="sect3">
<h4 id="upgrading-glassfish-server-inside-a-closed-network"><a class="anchor" href="#upgrading-glassfish-server-inside-a-closed-network"></a>Upgrading Eclipse GlassFish Inside a Closed Network</h4>
<div class="paragraph">
<p>For instructions on upgrading a Eclipse GlassFish installation in an
environment where Internet access is not available, see
"<a href="administration-guide.html#GSADG00575">
Extending and Updating Eclipse GlassFish Inside a Closed Network</a>"
in Eclipse GlassFish Administration Guide.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="performing-a-side-by-side-upgrade-with-upgrade-tool"><a class="anchor" href="#performing-a-side-by-side-upgrade-with-upgrade-tool"></a>Performing a Side-By-Side Upgrade With Upgrade Tool</h3>
<div class="paragraph">
<p>This section explains how to use Upgrade Tool to perform a side-by-side
upgrade to Eclipse GlassFish 7 from any compatible older product release.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#upgrade-tool-summary">Upgrade Tool Summary</a></p>
</li>
<li>
<p><a href="#upgrade-tool-functionality">Upgrade Tool Functionality</a></p>
</li>
<li>
<p><a href="#to-upgrade-from-the-command-line-using-upgrade-tool">To Upgrade From the Command Line Using Upgrade Tool</a></p>
</li>
<li>
<p><a href="#to-upgrade-using-the-upgrade-tool-wizard">To Upgrade Using the Upgrade Tool Wizard</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="upgrade-tool-summary"><a class="anchor" href="#upgrade-tool-summary"></a>Upgrade Tool Summary</h4>
<div class="paragraph">
<p>The Upgrade Tool upgrades your domain configurations and deployed
applications. When you use the Upgrade Tool, the source server and the
target server are normally installed on the same machine, but under
different install locations. Both server file systems must be accessible
from the system on which you perform the upgrade.</p>
</div>
<div class="paragraph">
<p>To perform the upgrade, the user who runs the upgrade needs to have read
permissions for the source and target directories and write permission
for the target directory.</p>
</div>
<div class="paragraph">
<p>You can perform an upgrade using Upgrade Tool in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#to-upgrade-from-the-command-line-using-upgrade-tool">To Upgrade From the Command Line Using Upgrade Tool</a></p>
</li>
<li>
<p><a href="#to-upgrade-using-the-upgrade-tool-wizard">To Upgrade Using the Upgrade Tool Wizard</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="upgrade-tool-functionality"><a class="anchor" href="#upgrade-tool-functionality"></a>Upgrade Tool Functionality</h4>
<div class="paragraph">
<p>The Upgrade Tool migrates the configurations and deployed applications
from an earlier version of Sun Java System Application Server or Sun
GlassFishEnterprise Server to the current version. Database migrations
or conversions are not part of this upgrade process.</p>
</div>
<div class="paragraph">
<p>Briefly, the Upgrade Tool performs the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Copies the older source domain directory to the new target <code>domains</code> directory.</p>
</li>
<li>
<p>Calls the <code>asadmin start-domain --upgrade</code> command to migrate the
source configurations to the new target Eclipse GlassFish installation.</p>
</li>
<li>
<p>Sends all <code>asadmin</code> command output to the screen and to the
<code>upgrade.log</code> file, and sends all server output to the <code>server.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additional Upgrade Tool functions are explained in the following sections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#migration-of-deployed-applications">Migration of Deployed Applications</a></p>
</li>
<li>
<p><a href="#upgrade-of-clusters">Upgrade of Clusters</a></p>
</li>
<li>
<p><a href="#upgrade-verification">Upgrade Verification</a></p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="migration-of-deployed-applications"><a class="anchor" href="#migration-of-deployed-applications"></a>Migration of Deployed Applications</h5>
<div class="paragraph">
<p>Application archives (EAR files) and component archives (JAR, WAR, and
RAR files) that are deployed in the source server do not require any
modification to run on Eclipse GlassFish 7.
Components that may have incompatibilities are deployed on Eclipse GlassFish 7 with the <code>compatibility</code> property set to <code>v2</code> and will run
without change on Eclipse GlassFish 7. You may, however, want to
consider modifying the applications to conform to Jakarta EE 6 requirements.</p>
</div>
<div class="paragraph">
<p>The Jakarta EE 6 platform specification imposes stricter requirements than
Jakarta EE 5 did on which JAR files can be visible to various modules
within an EAR file. In particular, application clients must not have
access to EJB JAR files or other JAR files in the EAR file unless they
use a <code>Class-Path</code> header in the manifest file, or unless references use
the standard Java SE mechanisms (extensions, for example), or use the
Jakarta EE <code>library-directory</code> mechanism. Setting the <code>library-directory</code>
property to <code>v2</code> removes these Jakarta EE 6 restrictions.</p>
</div>
<div class="paragraph">
<p>Applications and components that are deployed in the source server are
deployed on the target server during the upgrade. Applications that do
not deploy successfully on the target server must be deployed manually
on the target server by the user.</p>
</div>
<div class="paragraph">
<p>If a domain contains information about a deployed application and the
installed application components do not agree with the configuration
information, the configuration is migrated unchanged, without any
attempt to reconfigure the incorrect configurations.</p>
</div>
</div>
<div class="sect4">
<h5 id="upgrade-of-clusters"><a class="anchor" href="#upgrade-of-clusters"></a>Upgrade of Clusters</h5>
<div class="paragraph">
<p>When upgrading from a clustered configuration, the older cluster
information is retained in a new <code>domain.xml</code> file in the Eclipse GlassFish 7 installation directories. However, it is still necessary to
manually re-create the server instances that are contained in the
clusters. This procedure is explained in <a href="#upgrading-clusters-and-node-agent-configurations">Upgrading Clusters
and Node Agent Configurations</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="upgrade-verification"><a class="anchor" href="#upgrade-verification"></a>Upgrade Verification</h5>
<div class="paragraph">
<p>An upgrade log records the upgrade activity. The upgrade log file is
named <code>upgrade.log</code> and is created in the working directory from which
the Upgrade Tool is run. Additional information is recorded in the
server log of the upgraded domain.</p>
</div>
<div class="paragraph">
<p>You can also use the <code>asadmin version</code> subcommand after starting the
upgraded domain to verify the new Eclipse GlassFish product version; for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; version
Version = Eclipse GlassFish 7.0.0 (build 42)
Command version executed successfully.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="to-upgrade-from-the-command-line-using-upgrade-tool"><a class="anchor" href="#to-upgrade-from-the-command-line-using-upgrade-tool"></a>To Upgrade From the Command Line Using Upgrade Tool</h4>
<div class="paragraph">
<p>This procedure explains how to use the Upgrade Tool command line to
upgrade to Eclipse GlassFish 7 from any supported older product release.
See <a href="#supported-releases-for-upgrade-to-glassfish-server-7">Supported Releases for Upgrade to Eclipse GlassFish 7</a> for a list of supported releases.</p>
</div>
<div class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that the domains on the source server from which you are
upgrading are stopped before proceeding.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download and install Eclipse GlassFish 7 using the Typical
Installation path.<br>
See "<a href="installation-guide.html#GSING00025">
Installing Eclipse GlassFish From a Self-Extracting Bundle</a>"
in Eclipse GlassFish Installation Guide for instructions.</p>
</li>
<li>
<p>Copy any custom or third-party libraries that may be located in the
source as-install<code>/lib</code> directory to the target as-install<code>/lib</code>
directory.<br>
Custom and third-party libraries should normally be located in the
domain-dir<code>/lib</code> directory. This step is only necessary for custom or
third-party libraries that may be located in the nonstandard
as-install<code>/lib</code> directory.</p>
</li>
<li>
<p>Start Upgrade Tool from a command shell for your operating environment.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use the Upgrade Tool that is located in the target Eclipse GlassFish 7
installation, not the older source installation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>On UNIX systems</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asupgrade -c</code></pre>
</div>
</div>
</li>
<li>
<p>On Windows systems</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install\bin\asupgrade.bat -c</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>-c</code> option starts Upgrade Tool in console mode. If <code>-c</code> is omitted,
Upgrade Tool starts in GUI mode, which is described in <a href="#to-upgrade-using-the-upgrade-tool-wizard">To
Upgrade Using the Upgrade Tool Wizard</a>.</p>
</div>
<div class="paragraph">
<p>If you start Upgrade Tool with only the <code>-c</code> option, the tool enters
interactive CLI mode in which you are asked to supply the needed
options. If you prefer to enter all options directly from the command
line, you can use the following syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asupgrade
[-c|--console]
[-V|--version]
[-h|--help]
[-s|--source source-domain-directory]
[-t|--target target-domain-directory]
[-f|--passwordfile password-file]</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Explanations of these options are provided at the end of this procedure.</p>
</div>
</li>
<li>
<p>Follow the prompts to perform the upgrade.<br>
If a name used for an older domain that you are upgrading already exists
in the new target domains directory, Upgrade Tool will ask if you want
to rename the new directory so the old directory can be copied to the
new installation.</p>
<div class="ulist">
<ul>
<li>
<p>If you type <code>y</code> in response, the directory is renamed
domain-name`.original`. If that name already exists, the directory will
be renamed domain-name`.orginal.0`. For example, if the old domain
directory is named <code>domain1</code>, it will be renamed <code>domain1.original</code>, or
if that name already exists, <code>domain1.original.0</code>.</p>
</li>
<li>
<p>If you type <code>n</code>, you are prompted to specify a different directory
name or quit.</p>
<div class="paragraph">
<p>The domain is upgraded and the results are output to the console.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Review the console output to verify that the upgrade proceeded correctly.<br>
This output is also written to the <code>output.log</code> file for later review.<br>
If there are any <code>SEVERE</code> or <code>WARNING</code> messages in the <code>server.log</code>
file, the upgrade output will say
<code>"Possible error encountered during upgrade. See server log after upgrade process completes."</code></p>
</li>
<li>
<p>Start the upgraded Eclipse GlassFish 7 domain.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin start-domain domain-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>Log in to the Administration Console with the user name and password you
used in the older server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Eclipse GlassFish 7 does not support NSS authentication. If you are
upgrading from a Enterprise Profile configuration that uses NSS
authentication, follow the procedure in <a href="#upgrading-installations-that-use-nss-cryptographic-tokens">Upgrading
Installations That Use NSS Cryptographic Tokens</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If you are upgrading a clustered configuration or a configuration in
which node agents were used, proceed with the instructions in
<a href="#upgrading-clusters-and-node-agent-configurations">Upgrading Clusters and Node Agent Configurations</a>.</p>
</li>
</ol>
</div>
<div id="gktiu" class="paragraph">
<p>Example 2-1 Using the <code>asupgrade</code> Command Line</p>
</div>
<div class="paragraph">
<p>The following example shows how to use the <code>asupgrade</code> command-line
utility in non-interactive mode to upgrade an existing Sun GlassFish
Enterprise Server v2.1 installation to Eclipse GlassFish 7. The
following command should be entered on a single line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asupgrade -c -s /home/glassfish/domains/domain1 -f /root/mypassword
-t /home/glassfish7/glassfish/domains</code></pre>
</div>
</div>
<div class="paragraph">
<p>asupgrade Command-Line Options</p>
</div>
<div class="paragraph">
<p>Listed below are the <code>asupgrade</code> command-line options, including the
short form, the long form, and a description of each option.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 26%;">
<col style="width: 26%;">
<col style="width: 48%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Short Form</th>
<th class="tableblock halign-left valign-top">Long Form</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-c</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--console</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Launches the upgrade command line utility.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-V</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The version of the Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--help</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays the arguments for launching the upgrade utility.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-s</code> source-domain-directory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--source</code> source-domain-directory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain-dir directory in the source (older) server installation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-t</code> target-domains-directory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--target</code> target-domains-directory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The desired domain-root-dir directory in the Eclipse GlassFish 7 target
installation; default is as-install<code>/domains</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-f</code> password-file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--passwordfile</code> password-file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The file containing the administration password and the master password.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Next Steps</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Browse to the URL <code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code> to view the
domain-dir<code>/docroot/index.html</code> file. This file is brought over during
the upgrade. You may want to copy the default Eclipse GlassFish 7 file
from the <code>domain1.original/docroot</code> directory and customize it for your
Eclipse GlassFish 7 installation.</p>
</li>
<li>
<p>To register your installation of Eclipse GlassFish from the
Administration Console, select the Registration item from the Common
Tasks page. For step-by-step instructions on the registration process,
click the Help button on the Administration Console.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="to-upgrade-using-the-upgrade-tool-wizard"><a class="anchor" href="#to-upgrade-using-the-upgrade-tool-wizard"></a>To Upgrade Using the Upgrade Tool Wizard</h4>
<div class="paragraph">
<p>This procedure explains how to use the graphical Upgrade Tool Wizard to
upgrade to Eclipse GlassFish 7 from any supported older product release.
See <a href="#supported-releases-for-upgrade-to-glassfish-server-7">Supported Releases for Upgrade to Eclipse GlassFish 7</a> for a list of supported releases.</p>
</div>
<div class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that the source domains from which you are upgrading are stopped
before proceeding.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download and install Eclipse GlassFish 7 using the Typical Installation path.<br>
See "<a href="installation-guide.html#GSING00025">
Installing Eclipse GlassFish From a Self-Extracting Bundle</a>"
in Eclipse GlassFish Installation Guide for instructions.</p>
</li>
<li>
<p>Copy any custom or third-party libraries that may be located in the
source as-install<code>/lib</code> directory to the target as-install<code>/lib</code> directory.<br>
Custom and third-party libraries should normally be located in the
domain-dir<code>/lib</code> directory. This step is only necessary for custom or
third-party libraries that may be located in the nonstandard
as-install<code>/lib</code> directory.</p>
</li>
<li>
<p>Start the Upgrade Tool wizard from a command shell for your
operating environment.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Use the Upgrade Tool that is located in the target Eclipse GlassFish 7
installation, not the older source installation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>On UNIX systems</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asupgrade</code></pre>
</div>
</div>
</li>
<li>
<p>On Windows systems</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install\bin\asupgrade.bat</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You may find it faster to run the <code>asupgrade</code> command with the <code>s</code>
source-domain-directory option, which will prefill the Source Domain
Directory field in the next step.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>In the Source Domain Directory field, type the domain directory of
the existing installation from which to import the configuration, or
click Browse.<br>
For example, you might type <code>c:\glassfish\domains\domain1</code>.</p>
</li>
<li>
<p>In the Target Domains Root Directory field, type the location of the
Eclipse GlassFish 7 installation to which to transfer the
configuration, or click Browse.<br>
The default is the full path name of the <code>domains</code> directory of your
Eclipse GlassFish 7 installation (for example,
<code>c:\glassfish7\glassfish\domains</code>).</p>
</li>
<li>
<p>Provide the master password of the source application server.<br>
The domain will be upgraded using these credentials. If you do not
specify a password here, the default master password is used.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Eclipse GlassFish 7 does not support NSS authentication. If you are
upgrading from a Enterprise Profile configuration that uses NSS
authentication, follow the procedure in <a href="#upgrading-installations-that-use-nss-cryptographic-tokens">Upgrading
Installations That Use NSS Cryptographic Tokens</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click Next.<br>
If a name used for an older domain that you are upgrading already exists
in the new target domains directory, Upgrade Tool will ask if you want
to rename the new directory so the old directory can be copied to the
new installation.</p>
<div class="ulist">
<ul>
<li>
<p>If you click OK in response, the directory is renamed
domain-name<code>.original</code>. If that name already exists, the directory will
be renamed domain-name<code>.orginal.0</code>. For example, if the old domain
directory is named <code>domain1</code>, it will be renamed <code>domain1.original</code>, or
if that name already exists, <code>domain1.original.0</code>.</p>
</li>
<li>
<p>If you click No, you brought back to the main screen.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The domain is upgraded and the Upgrade Results page displays the status
of the upgrade operation.</p>
</div>
</li>
<li>
<p>Review the output in the Upgrade Results page to verify that the
upgrade proceeded correctly.<br>
If there are any <code>SEVERE</code> or <code>WARNING</code> messages in the <code>server.log</code>
file, the upgrade output will say
<code>"Possible error encountered during upgrade. See server log after upgrade process completes."</code></p>
</li>
<li>
<p>Click Finish to exit the Upgrade Tool when the upgrade process is
complete.</p>
</li>
<li>
<p>Start the upgraded Eclipse GlassFish 7 domain.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin start-domain domain-name</code></pre>
</div>
</div>
</li>
<li>
<p>If you are upgrading a clustered configuration or a configuration in
which node agents were used, proceed with the instructions in
<a href="#upgrading-clusters-and-node-agent-configurations">Upgrading Clusters and Node Agent Configurations</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Next Steps</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Browse to the URL <code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code> to view the
domain-dir`/docroot/index.html` file. This file is brought over during
the upgrade. You may want to copy the default Eclipse GlassFish 7 file
from the <code>domain1.original/docroot</code> directory and customize it for your
Eclipse GlassFish 7 installation.</p>
</li>
<li>
<p>To register your installation of Eclipse GlassFish from the
Administration Console, select the Registration item from the Common
Tasks page. For step-by-step instructions on the registration process,
click the Help button on the Administration Console.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="performing-an-in-place-upgrade-with-the-update-center-tools"><a class="anchor" href="#performing-an-in-place-upgrade-with-the-update-center-tools"></a>Performing an In-Place Upgrade With the Update Center Tools</h3>
<div class="paragraph">
<p>This section explains how to use the three Update Center tools to
perform an in-place upgrade to Eclipse GlassFish 7 from Eclipse GlassFish 3.0.1 or Enterprise Server v3. Specifically, the three tools
explained in this section are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update Tool</p>
</li>
<li>
<p>Software Update Notifier</p>
</li>
<li>
<p>The <code>pkg</code> command-line utility</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Eclipse GlassFish 3.0.1 and Enterprise Server v3 are the only product
releases that can be upgraded to the 7 release with the Update Center
tools. If you are upgrading from any other product release, you must use
Upgrade Tool, as described in <a href="#performing-a-side-by-side-upgrade-with-upgrade-tool">Performing a Side-By-Side
Upgrade With Upgrade Tool</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#update-center-tool-procedures">Update Center Tool Procedures</a></p>
</li>
<li>
<p><a href="#to-upgrade-using-the-update-tool-gui">To Upgrade Using the Update Tool GUI</a></p>
</li>
<li>
<p><a href="#to-upgrade-using-the-software-update-notifier">To Upgrade Using the Software Update Notifier</a></p>
</li>
<li>
<p><a href="#to-upgrade-from-the-command-line-using-the-pkg-utility">To Upgrade From the Command Line Using the <code>pkg</code> Utility</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="update-center-tool-procedures"><a class="anchor" href="#update-center-tool-procedures"></a>Update Center Tool Procedures</h4>
<div class="paragraph">
<p>Unlike when using Upgrade Tool, when you use the Update Tool, the
Software Update Notifier, or the <code>pkg</code> utility to perform a Eclipse GlassFish 7 upgrade, the older source server directories are overwritten
with the new target server directories, and the existing configuration
and deployed applications are reused in the updated installation.</p>
</div>
<div class="paragraph">
<p>To perform the upgrade, the user who runs the upgrade needs to have read
and writer permissions for the server installation directories.</p>
</div>
<div class="paragraph">
<p>You can perform an upgrade using the Update Center tools in the
following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#to-upgrade-using-the-update-tool-gui">To Upgrade Using the Update Tool GUI</a></p>
</li>
<li>
<p><a href="#to-upgrade-using-the-software-update-notifier">To Upgrade Using the Software Update Notifier</a></p>
</li>
<li>
<p><a href="#to-upgrade-from-the-command-line-using-the-pkg-utility">To Upgrade From the Command Line Using the <code>pkg</code> Utility</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="to-upgrade-using-the-update-tool-gui"><a class="anchor" href="#to-upgrade-using-the-update-tool-gui"></a>To Upgrade Using the Update Tool GUI</h4>
<div class="paragraph">
<p>This procedure explains how to use the graphical Update Tool to perform
an in-place upgrade to Eclipse GlassFish 7 from Eclipse GlassFish 3.0.1
or Enterprise Server v3. Note that it is not possible to use this
procedure with any other product releases.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that all domains on the source server from which you are
upgrading are stopped before proceeding.</p>
</li>
<li>
<p>In a command shell for your operating environment, navigate to the
as-install-parent<code>/bin</code> directory.</p>
</li>
<li>
<p>Use the <code>updatetool</code> command to start the Update Tool GUI.<br>
The Update Tool main window is displayed.</p>
</li>
<li>
<p>Click on Available Updates.</p>
</li>
<li>
<p>Select all items in the Available Updates list, and then click the
Install button in the toolbar at the top of the Update Tool main window.<br>
When the upgrade is complete, exit Update Tool.</p>
</li>
<li>
<p>Upgrade the domain by starting the DAS with the <code>--upgrade</code> option.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asadmin start-domain --upgrade domain-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>This upgrades the domain and then shuts down the DAS.</p>
</div>
</li>
<li>
<p>Start the DAS normally.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asadmin start-domain domain-name</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Next Steps</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Browse to the URL <code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code> to view the
domain-dir<code>/docroot/index.html</code> file. This file is brought over during
the upgrade. You may want to copy the default Eclipse GlassFish 7 file
from the <code>domain1.original/docroot</code> directory and customize it for your
Eclipse GlassFish 7 installation.</p>
</li>
<li>
<p>To register your installation of Eclipse GlassFish from the
Administration Console, select the Registration item from the Common
Tasks page. For step-by-step instructions on the registration process,
click the Help button on the Administration Console.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="to-upgrade-using-the-software-update-notifier"><a class="anchor" href="#to-upgrade-using-the-software-update-notifier"></a>To Upgrade Using the Software Update Notifier</h4>
<div class="paragraph">
<p>This procedure explains how to use the Software Update Notifier to
perform an in-place upgrade to Eclipse GlassFish 7 from Eclipse GlassFish 3.0.1 or Enterprise Server v3. Note that it is not possible to
use this procedure with any other product releases.</p>
</div>
<div class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>The Software Update Notifier must be installed and enabled on the
Eclipse GlassFish or Enterprise Server release from which you are
upgrading. Software Update Notifier installation is typically performed
during the initial Eclipse GlassFish or Enterprise Server installation.
The Software Update Notifier can also be installed later using Update
Tool. For more information about the Update Notifier, refer to the
Update Tool online help.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Wait for the Software Update Notifier to pop up a notification
balloon informing you that updates are available.</p>
</li>
<li>
<p>Click the balloon prompt to open the Software Update GUI.</p>
</li>
<li>
<p>Manually stop all domains and server instances.</p>
</li>
<li>
<p>Using the Software Update GUI, select the items you want to upgrade
and start the installation.<br>
Ensure that Eclipse GlassFish 7 is one of the items you select for
upgrade. This upgrades the server and selected components to the latest
available versions.</p>
</li>
<li>
<p>Upgrade the domain by starting the DAS with the <code>--upgrade</code> option.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asadmin start-domain --upgrade domain-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>This upgrades the domain and then shuts down the DAS.</p>
</div>
</li>
<li>
<p>Start the DAS normally.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asadmin start-domain domain-name</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Next Steps</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Browse to the URL <code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code> to view the
domain-dir`/docroot/index.html` file. This file is brought over during
the upgrade. You may want to copy the default Eclipse GlassFish 7 file
from the <code>domain1.original/docroot</code> directory and customize it for your
Eclipse GlassFish 7 installation.</p>
</li>
<li>
<p>To register your installation of Eclipse GlassFish from the
Administration Console, select the Registration item from the Common
Tasks page. For step-by-step instructions on the registration process,
click the Help button on the Administration Console.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="to-upgrade-from-the-command-line-using-the-pkg-utility"><a class="anchor" href="#to-upgrade-from-the-command-line-using-the-pkg-utility"></a>To Upgrade From the Command Line Using the <code>pkg</code> Utility</h4>
<div class="paragraph">
<p>This procedure explains how to use the <code>pkg</code> utility to perform an
in-place upgrade to Eclipse GlassFish 7 from Eclipse GlassFish 3.0.1 or
Enterprise Server v3. Note that it is not possible to use this procedure
with any other product releases.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that all domains on the source server from which you are
upgrading are stopped before proceeding.</p>
</li>
<li>
<p>In a command shell for your operating environment, navigate to the
as-install-parent<code>/bin</code> directory.</p>
</li>
<li>
<p>Use the <code>pkg image-update</code> command to update your entire Eclipse GlassFish 3.0.1 or Enterprise Server v3 installation to Eclipse GlassFish 7.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>./pkg image-update</code></pre>
</div>
</div>
<div class="paragraph">
<p>This upgrades the server components to the latest available versions.</p>
</div>
</li>
<li>
<p>Upgrade the domain by starting the DAS with the <code>--upgrade</code> option.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asadmin start-domain --upgrade domain-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>This upgrades the domain and then shuts down the DAS.</p>
</div>
</li>
<li>
<p>Start the DAS normally.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asadmin start-domain domain-name</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Next Steps</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Browse to the URL <code><a href="http://localhost:8080" class="bare">http://localhost:8080</a></code> to view the
domain-dir`/docroot/index.html` file. This file is brought over during
the upgrade. You may want to copy the default Eclipse GlassFish 7 file
from the <code>domain1.original/docroot</code> directory and customize it for your
Eclipse GlassFish 7 installation.</p>
</li>
<li>
<p>To register your installation of Eclipse GlassFish from the
Administration Console, select the Registration item from the Common
Tasks page. For step-by-step instructions on the registration process,
click the Help button on the Administration Console.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="upgrading-installations-that-use-nss-cryptographic-tokens"><a class="anchor" href="#upgrading-installations-that-use-nss-cryptographic-tokens"></a>Upgrading Installations That Use NSS Cryptographic Tokens</h3>
<div class="paragraph">
<p>Eclipse GlassFish v2.x EE (Enterprise Edition) uses Network Security
Services (NSS) for cryptographic software tokens. Eclipse GlassFish 7
does not support NSS, so when performing an upgrade from v2.x EE to 7
additional manual configuration steps must be performed.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#to-prepare-for-the-upgrade">To Prepare for the Upgrade</a></p>
</li>
<li>
<p><a href="#to-perform-post-upgrade-configuration">To Perform Post-Upgrade Configuration</a></p>
</li>
<li>
<p><a href="#to-upgrade-pkcs11-hardware-tokens">To Upgrade PKCS#11 Hardware Tokens</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="to-prepare-for-the-upgrade"><a class="anchor" href="#to-prepare-for-the-upgrade"></a>To Prepare for the Upgrade</h4>
<div class="paragraph">
<p>This procedure explains how to prepare for modifying an NSS-based
Eclipse GlassFish 2.x installation when upgrading to Eclipse GlassFish 7.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download and install Eclipse GlassFish 7 using the Typical Installation path.<br>
Ensure that you install the new Eclipse GlassFish 7 product in a
directory that is different than the one used for the older installation
from which you are upgrading.<br>
See "<a href="installation-guide.html#GSING00025">
Installing Eclipse GlassFish From a Self-Extracting Bundle</a>"
in Eclipse GlassFish Installation Guide for instructions.</p>
</li>
<li>
<p>Rename the new Eclipse GlassFish 7 domain-dir (the default is
as-install<code>/domains/domain1</code>) to a name of your choice.<br>
In this procedure, <code>31domain</code> is used for the renamed Eclipse GlassFish 7 domain.</p>
</li>
<li>
<p>Copy the older source domain to be upgraded to the new Eclipse GlassFish 7 as-install<code>/domains</code> directory.<br>
In this procedure, <code>domain1</code> is used for the older source domain that is
copied to the new Eclipse GlassFish 7 installation.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The remaining steps in this procedure are performed on the copy of your
source domain that you created in this step, rather than on your
original source domain. It is strongly recommended that you perform the
Eclipse GlassFish 7 upgrade on a copy of your old domain rather than on
the original.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Copy the <code>server.policy</code>, <code>keystore.jks</code>, and <code>cacerts.jks</code> files
from the renamed <code>./31domain/config</code> directory to the <code>./domain1/config</code>
directory to be upgraded.<br>
For example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cp as-install/domains/31domain/config/server.policy as-install/domains/domain1/config
cp as-install/domains/31domain/config/keystore.jks as-install/domains/domain1/config
cp as-install/domains/31domain/config/cacerts.jks as-install/domains/domain1/config</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will overwrite the master password for <code>./domain1</code> with the
password used in the <code>./31domain</code>.</p>
</div>
</li>
<li>
<p>Modify the <code>domain.xml</code> file for <code>./domain1</code>.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the following <code>jvm-options</code> under <code>server-config</code> and
<code>default-config</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/keystore.jks
-Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/config/cacerts.jks</code></pre>
</div>
</div>
</li>
<li>
<p>Remove the following <code>jvm-option</code> under <code>server-config</code> and
<code>default-config</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-Dcom.sun.appserv.nss.db=${com.sun.aas.instanceRoot}/config</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Upgrade <code>./domain1</code> by starting the DAS in the new Eclipse GlassFish 7
installation with the <code>--upgrade</code> option.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asadmin start-domain --upgrade domain1</code></pre>
</div>
</div>
<div class="paragraph">
<p>This upgrades the domain and then shuts down the DAS.</p>
</div>
</li>
<li>
<p>Start the upgraded DAS normally.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>as-install/bin/asadmin start-domain domain1</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="to-perform-post-upgrade-configuration"><a class="anchor" href="#to-perform-post-upgrade-configuration"></a>To Perform Post-Upgrade Configuration</h4>
<div class="paragraph">
<p>These instructions explain the post-upgrade configuration steps that
must be performed when upgrading from an NSS-based installation to
Eclipse GlassFish 7.</p>
</div>
<div class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Before proceeding with this procedure, complete the procedure explained
in <a href="#to-prepare-for-the-upgrade">To Prepare for the Upgrade</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the Eclipse GlassFish 7 domain, if it is not already running,
and open the Eclipse GlassFish Admin Console in a browser window.<br>
The default URL is <code><a href="https://localhost:4848" class="bare">https://localhost:4848</a></code><br>
As part of the <a href="#to-prepare-for-the-upgrade">To Prepare for the Upgrade</a> procedure, the
default keystore with a default self-signed key-certificate pair with an
alias named <code>s1as</code> and a keystore password <code>changeit</code> was copied into
the v2.x domain before the upgrade.</p>
</li>
<li>
<p>If your default server alias in the NSS v2.x domain is not <code>s1as</code>,
you can delete this entry using the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>keytool -delete -keystore keystore.jks -storepass changeit -alias s1as
keytool -delete -keystore cacerts.jks -storepass changeit -alias s1as</code></pre>
</div>
</div>
</li>
<li>
<p>If the master password for the v2.x domain is not the default
password <code>changeit</code>, you need to change the new keystore password to
match the v2.x master password.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>keytool -storepasswd -new v2-master-password \
-keystore keystore.jks -storepass changeit
keytool -storepasswd -new v2-master-password \
-keystore cacerts.jks -storepass changeit</code></pre>
</div>
</div>
</li>
<li>
<p>Take note of all the <code>KeyEntries</code> that exist in your NSS database.</p>
<div class="paragraph">
<p>These entries must be migrated to the <code>keystore.jks</code> in the Eclipse GlassFish 7 domain. The following command can be used to list all the
<code>KeyEntries</code> in the NSS database:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>certutil -L -d $AS_NSS_DB</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>AS_NSS_DB</code> should point to the <code>${com.sun.aas.instanceRoot}/config</code> for
the 7 instance into which the v2.x domain was copied. The listing with
the attribute combinations <code>u,u,u</code> are the <code>KeyEntries</code>.<br>
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>s1as u,u,u</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To run the <code>certutil</code> command, your <code>LD_LIBRARY_PATH</code> must point to the
directory containing NSS library and DLLs.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>For each <code>PrivateKey-Certificate</code> pair (<code>KeyEntry</code>) that exists in
the v2.x NSS database, use the following commands to export them from
the NSS database and import them into the newly created <code>keystore.jks</code> file.<br>
Make sure you use the same alias when importing the <code>KeyEntry</code> into the
JKS keystore. For example, if s1as is the only alias present in the NSS
database, the following command can be used:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>&gt; pk12util -o /tmp/s1as_pk.p12 -n s1as -d $AS_NSS_DB
&gt;keytool -importkeystore -srckeystore /tmp/s1as_pk.p12 -destkeystore \
${com.sun.aas.instanceRoot}/config/keystore.jks -srcstoretype PKCS12 \
-deststoretype JKS -srcstorepass v2-master-password \
-deststorepass v3-master-password -srcalias s1as \
-destalias s1as -srckeypass v2-master-password \
-destkeypass v3-master-password</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The reference to v3-master-password could be the same as
v2-master-password if you intend to retain the same master password for
the 7 domain after upgrading from v2.x.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>If the <code>s1as</code> alias represents a <code>KeyEntry</code> with a self-signed
certificate, the self-signed certificate must be copied to the
<code>truststore</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>&gt;certutil -L -n s1as -r -d $AS_NSS_DB&gt; /tmp/s1as.der&gt;keytool -import -keystore cacerts.jks -storepass v3-master-password \
-file /tmp/s1as.der -alias s1as</code></pre>
</div>
</div>
</li>
<li>
<p>There is a rare chance that the 2.x NSS database has some CA
(Certificate Authority) certificates that are absent in the default
created <code>truststore</code>. In such cases, all aliases that are missing in the
<code>truststore</code> (<code>cacerts.jks</code>) need to collected.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>certutil -L -d $AS_NSS_DB</code><br>
Example output:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>verisignc1g1 T,c,c
verisignc1g2 T,c,c
verisignc1g3 T,c,c</code></pre>
</div>
</div>
</li>
<li>
<p><code>keytool -list -keystore cacerts.jks -storepass</code> v3-master-password<br>
Example output:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>godaddyclass2ca, Jan 20, 2005, trustedCertEntry,
Certificate fingerprint (MD5): 91:DE:06:25:AB:DA:FD:32:17:0C:BB:25:17:2A:84:67
verisignclass1g3ca, Mar 26, 2004, trustedCertEntry,
Certificate fingerprint (MD5): B1:47:BC:18:57 1:18:A0:78:2D:EC:71:E8:2A:95:73
secomevrootca1, May 1, 2008, trustedCertEntry,
Certificate fingerprint (MD5): 22:2D:A6:01:EA:7C:0A:F7:F0:6C:56:43:3F:77:76 3</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>For each of the aliases from the <code>certutil</code> output in the preceding
step that are required but missing in the <code>truststore</code> listing, execute
the following commands to export and import them into the 7 domain&#8217;s
<code>truststore</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>&gt;certutil -L -n verisignc1g1 -r -d $AS_NSS_DB&gt; /tmp/verisignc1g1.der&gt;keytool -import -keystore cacerts.jks -storepass v3-master-password \
-file /tmp/verisignc1g1.der -alias verisignc1g1</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Sometimes just the alias names that are used in the NSS database are
different, and the same certificate is, in fact, present in the 7
default <code>truststore</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="to-upgrade-pkcs11-hardware-tokens"><a class="anchor" href="#to-upgrade-pkcs11-hardware-tokens"></a>To Upgrade PKCS#11 Hardware Tokens</h4>
<div class="paragraph">
<p>If you are using Eclipse GlassFish v2.x Enterprise Edition with Hardware
Tokens (for example, FIPS-140 compliant Sun Cryptographic Accelerator
6000 or other Sun Cryptographic Accelerators) configured by means of
NSS-PKCS11, then the v2.x EE-to-7 upgrade solution is to directly
configure the Hardware Token as a PKCS11 token using the JDK-JSSE
supported mechanisms for configuring PKCS#11 tokens.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set the <code>javax.net.ssl.keyStoreType</code> <code>jvm-options</code> in Eclipse GlassFish 7 to PKCS11.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;jvm-options&gt;</span>-Djavax.net.ssl.keyStoreType=PKCS11<span class="tag">&lt;/jvm-options&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Set the <code>javax.net.ssl.keyStore</code> URL should be set to l since this
is a hardware token.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;jvm-options&gt;</span>-Djavax.net.ssl.keyStore=NONE<span class="tag">&lt;/jvm-options&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Change the password for the <code>truststore</code> and the Eclipse GlassFish
<code>MasterPassword</code> to match the PIN of your <code>HardwareToken</code>.</p>
</li>
<li>
<p>Since you are using a Hardware Token, you can delete the
<code>keystore.jks</code> for the migrated domain.</p>
</li>
<li>
<p>Ensure the <code>token-alias</code> for the hardware token (private key) that
you intend to use as the Server&#8217;s Key for SSL is mentioned in every
relevant place in the <code>domain.xml</code> for the domain.<br>
For example, the <code>cert-nickname</code> attribute for the <code>&lt;ssl/&gt;</code> element
under the <code>protocol</code> configuration.</p>
</li>
<li>
<p>If the Hardware Token is to act as a <code>TrustStore</code> as well, remove
the <code>cacerts.jks</code> file from the domain-dir<code>/config</code> directory.<br>
Ensure that the following two <code>jvm-options</code> are set in the <code>domain.xml</code> file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;jvm-options&gt;</span>-Djavax.net.ssl.trustStore=NONE<span class="tag">&lt;/jvm-options&gt;</span>
<span class="tag">&lt;jvm-options&gt;</span>-Djavax.net.ssl.trustStoreType=PKCS11<span class="tag">&lt;/jvm-options&gt;</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="upgrading-clusters-and-node-agent-configurations"><a class="anchor" href="#upgrading-clusters-and-node-agent-configurations"></a>Upgrading Clusters and Node Agent Configurations</h3>
<div class="paragraph">
<p>This section explains additional steps you need to perform when
upgrading cluster and node agent configurations from Application Server
or Enterprise Server to Eclipse GlassFish 7.</p>
</div>
<div class="paragraph">
<p>Eclipse GlassFish 7 does not support node agents. As part of the
upgrade process, any node agent elements in the older source
configuration are transformed into <code>CONFIG</code> node elements in the
<code>domain.xml</code> file for the upgraded DAS. If the source node agent
configuration is incompatible with your Eclipse GlassFish 7
installation, you must correct the node configuration on the upgraded DAS.</p>
</div>
<div class="paragraph">
<p>In addition, although the source cluster configuration is retained in
the <code>domain.xml</code> file for the upgraded DAS, it is still necessary to
install Eclipse GlassFish 7 on each node host and manually re-create
the server instances that are contained in the clusters.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#overview-of-cluster-and-node-agent-upgrade-procedures">Overview of Cluster and Node Agent Upgrade Procedures</a></p>
</li>
<li>
<p><a href="#to-correct-the-configuration-of-a-node-after-an-upgrade">To Correct the Configuration of a Node After an Upgrade</a></p>
</li>
<li>
<p><a href="#to-re-create-a-cluster">To Re-Create a Cluster</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="overview-of-cluster-and-node-agent-upgrade-procedures"><a class="anchor" href="#overview-of-cluster-and-node-agent-upgrade-procedures"></a>Overview of Cluster and Node Agent Upgrade Procedures</h4>
<div class="paragraph">
<p>The general steps for upgrading a cluster and node agent configuration
so it will work in Eclipse GlassFish 7 are as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Perform a side-by-side upgrade of the DAS. This procedure is
described in <a href="#performing-a-side-by-side-upgrade-with-upgrade-tool">Performing a Side-By-Side Upgrade With Upgrade Tool</a>.</p>
</li>
<li>
<p>Perform new (not upgrade) Eclipse GlassFish 7 installations on each
node host. Eclipse GlassFish 7 installation instructions are provided
in the <a href="installation-guide.html#GSING">
Eclipse GlassFish Installation Guide</a>.</p>
</li>
<li>
<p>Correct the node configuration on the upgraded DAS, if necessary.
This procedure is described in <a href="#to-correct-the-configuration-of-a-node-after-an-upgrade">To Correct the Configuration
of a Node After an Upgrade</a>.</p>
</li>
<li>
<p>Re-create the clusters and server instances on each Eclipse GlassFish 7 node host.
This procedure is described in <a href="#to-re-create-a-cluster">To Re-Create a Cluster</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="to-correct-the-configuration-of-a-node-after-an-upgrade"><a class="anchor" href="#to-correct-the-configuration-of-a-node-after-an-upgrade"></a>To Correct the Configuration of a Node After an Upgrade</h4>
<div class="paragraph">
<p>As part of the upgrade process, node agent elements in the DAS
configuration are transformed into Eclipse GlassFish node elements of
type <code>CONFIG</code>. This transformation does not affect the node agent
directories for Eclipse GlassFish instances. To create the equivalent
directories for Eclipse GlassFish instances after an upgrade, you must
re-create the instances as explained in <a href="#to-re-create-a-cluster">To Re-Create a
Cluster</a>.</p>
</div>
<div class="paragraph">
<p>The name of an upgraded node is the name of the node agent from which
the node is transformed.</p>
</div>
<div class="paragraph">
<p>The host that the node represents is obtained from the configuration of
the original node agent or, if not specified, is not set. If the
configuration of the original node agent did not specify the name of the
node host, you must update the node to specify the host that the node represents.</p>
</div>
<div class="paragraph">
<p>Default values are applied to the remainder of the node&#8217;s configuration data.</p>
</div>
<div class="paragraph">
<p>The default values of the following items in a node&#8217;s configuration data
might not meet your requirements for the upgraded installation of Eclipse GlassFish:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The parent of the base installation directory of the Eclipse GlassFish
software on the host, for example, <code>/export/glassfish7</code>.<br>
The default is the parent of the default base installation directory of
the Eclipse GlassFish 7 software on the DAS host. If the Eclipse GlassFish software is installed under a different directory on the node
host, you must update the node&#8217;s configuration to specify the correct directory.</p>
</li>
<li>
<p>The directory that will contain the Eclipse GlassFish instances that
are to reside on the node.<br>
The default is as-install<code>/nodes</code>, where as-install is the base
installation directory of the Eclipse GlassFish software on the host. If
you require the instances to be contained in a different directory, you
must update the node&#8217;s configuration to specify that directory.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you are using secure shell (SSH) for centralized administration, you
must also change the type of the node to <code>SSH</code> to enable the node for
remote communication.</p>
</div>
<div class="paragraph">
<p>For more information about Eclipse GlassFish nodes, see
"<a href="ha-administration-guide.html#administering-glassfish-server-nodes">Administering Eclipse GlassFish Nodes</a>" in Eclipse GlassFish High Availability Administration Guide.</p>
</div>
<div class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that the following prerequisites are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A side-by-side upgrade on the DAS has been performed. For more
information, see <a href="#performing-a-side-by-side-upgrade-with-upgrade-tool">Performing a Side-By-Side Upgrade With Upgrade Tool</a>.</p>
</li>
<li>
<p>If you are changing the type of the node to <code>SSH</code>, ensure that SSH is
configured on the host where the DAS is running and on the host that the
node represents. For more information, see
"<a href="ha-administration-guide.html#enabling-centralized-administration-of-glassfish-server-instances">
Setting Up SSH for Centralized Administration</a>" in
Eclipse GlassFish High Availability Administration Guide.</p>
</li>
<li>
<p>If you are upgrading from an Enterprise Profile configuration that
uses NSS authentication, ensure that the procedure in
<a href="#upgrading-installations-that-use-nss-cryptographic-tokens">Upgrading Installations That Use NSS Cryptographic Tokens</a>
has been performed. Eclipse GlassFish 7 does not support NSS authentication.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that the DAS is running.<br>
Remote subcommands require a running server.</p>
</li>
<li>
<p>Update the node&#8217;s configuration data to specify the correct
directories and, if necessary, change the type of the node.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Only the options that are required to complete this task are provided in
this step. For information about all the options for changing the node&#8217;s
configuration data, see the <a href="reference-manual.html#update-node-ssh"><code>update-node-ssh</code>(1)</a> help
page or the <a href="reference-manual.html#update-node-config"><code>update-node-config</code>(1)</a> help page.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; node-update-subcommand [--installdir as-install-parent] [--nodedir node-dir]
[--nodehost node-host] node-name</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">node-update-subcommand</dt>
<dd>
<p>The subcommand to run to update the node.</p>
<div class="ulist">
<ul>
<li>
<p>If you are leaving the type of the node as <code>CONFIG</code>, run the
<code>update-node-config</code> subcommand on the node.</p>
</li>
<li>
<p>If you are changing the type of the node to <code>SSH</code>, run the
<code>update-node-ssh</code> subcommand on the node.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">as-install-parent</dt>
<dd>
<p>The full path to the parent of the base installation directory of the
Eclipse GlassFish software on the host, for example,
<code>/export/glassfish7</code>.</p>
</dd>
<dt class="hdlist1">node-dir</dt>
<dd>
<p>The path to the directory that will contain Eclipse GlassFish instances
that are to reside on the node. If a relative path is specified, the
path is relative to the as-install directory.</p>
</dd>
<dt class="hdlist1">node-host</dt>
<dd>
<p>The name of the host that the node is to represent after the node is
updated.</p>
</dd>
<dt class="hdlist1">node-name</dt>
<dd>
<p>The name of the node to update. This name is the name of the node
agent from which the node was transformed.</p>
</dd>
</dl>
</div>
<div id="gktoh" class="paragraph">
<p>Example 2-2 Correcting the Configuration of a Node After an Upgrade</p>
</div>
<div class="paragraph">
<p>This example updates the path to the directory that will contain
instances that are to reside on the node <code>xk01</code> to
<code>/export/home/gf/nodes</code>. Because this node is transformed from a node
agent, the type of the node is <code>CONFIG</code>. Therefore, type of the node is
not changed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; update-node-config --nodedir /export/home/gf/nodes xk01
Command update-node-config executed successfully.</code></pre>
</div>
</div>
<div id="sthref40" class="paragraph">
<p>Next Steps</p>
</div>
<div class="paragraph">
<p>Re-create the cluster configuration from the older source installation
in the new Eclipse GlassFish 7 installation in as explained in
<a href="#to-re-create-a-cluster">To Re-Create a Cluster</a>.</p>
</div>
<div class="paragraph">
<p>See Also</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"<a href="ha-administration-guide.html#enabling-centralized-administration-of-glassfish-server-instances">
Setting Up SSH for Centralized Administration</a>" in
Eclipse GlassFish High Availability Administration Guide</p>
</li>
<li>
<p>"<a href="ha-administration-guide.html#administering-glassfish-server-nodes">Administering Eclipse GlassFish Nodes</a>"
in Eclipse GlassFish High Availability Administration Guide</p>
</li>
<li>
<p><a href="reference-manual.html#update-node-config"><code>update-node-config</code>(1)</a></p>
</li>
<li>
<p><a href="reference-manual.html#update-node-ssh"><code>update-node-ssh</code>(1)</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="to-re-create-a-cluster"><a class="anchor" href="#to-re-create-a-cluster"></a>To Re-Create a Cluster</h4>
<div class="paragraph">
<p>This procedure explains how to re-create a clustered Eclipse GlassFish or
Enterprise Server configuration for Eclipse GlassFish 7.</p>
</div>
<div class="paragraph">
<p>Before proceeding with these instructions, ensure that you have
completed the following procedures:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Perform the standard upgrade to Eclipse GlassFish 7 on the DAS, as
described in <a href="#performing-a-side-by-side-upgrade-with-upgrade-tool">Performing a Side-By-Side Upgrade With Upgrade Tool</a>.</p>
</li>
<li>
<p>Perform a new (not upgrade) installation of Eclipse GlassFish 7 on
each node host. See the <a href="installation-guide.html#GSING">
Eclipse GlassFish Installation Guide</a> for instructions.</p>
</li>
<li>
<p>Correct the upgraded node configuration, if necessary, as described
<a href="#to-correct-the-configuration-of-a-node-after-an-upgrade">To Correct the Configuration of a Node After an Upgrade</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the upgraded DAS.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; start-domain domain-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the upgrade succeeded, the migrated cluster configuration exists and
the <code>get-health</code> subcommand lists the status of the clustered instances
as not running.</p>
</div>
</li>
<li>
<p>Confirm that the cluster configuration exists and contains all its instances.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; get-health cluster-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, for the sample <code>cluster1</code> used in this procedure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; get-health cluster1
instance1 not started
instance2 not started
Command get-health executed successfully.</code></pre>
</div>
</div>
</li>
<li>
<p>Re-create the clustered server instances on each instance host.<br>
The specific commands to use depend on your configuration.</p>
<div class="ulist">
<ul>
<li>
<p>If remote hosts cannot contact the DAS, export and import the
instances' configuration data, as explained in
"<a href="ha-administration-guide.html#to-resynchronize-an-instance-and-the-das-offline">
To Resynchronize an Instance and the DAS Offline</a>"
in Eclipse GlassFish High Availability Administration Guide.</p>
</li>
<li>
<p>If remote hosts can contact the DAS, create each instance individually
and resynchronize the instance with the DAS, as explained in the
following sections:</p>
<div class="ulist">
<ul>
<li>
<p>"<a href="ha-administration-guide.html#to-create-an-instance-locally">
To Create an Instance Locally</a>"
in Eclipse GlassFish High Availability Administration Guide</p>
</li>
<li>
<p>"<a href="ha-administration-guide.html#to-resynchronize-an-instance-and-the-das-online">
To Resynchronize an Instance and the DAS Online</a>"
in Eclipse GlassFish High Availability Administration Guide<br>
Note that the node name matches that used for the node agent in the 2.x
installation. If you get an error stating that some attributes do not
match the values in the DAS configuration, follow the instructions in
<a href="#to-correct-the-configuration-of-a-node-after-an-upgrade">To Correct the Configuration of a Node After an Upgrade</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>After creating the instances, manually copy the instance-dir<code>/imq</code>
directory for each instance from the older source installation to the
target Eclipse GlassFish 7 installation.</p>
</li>
<li>
<p>If necessary, start the cluster.<br>
For example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; start-cluster cluster1</code></pre>
</div>
</div>
<div class="paragraph">
<p>This step may or may not be necessary, depending on the procedure you
used to create the server instances for the cluster.</p>
</div>
</li>
</ol>
</div>
<div id="gkyin" class="paragraph">
<p>Example 2-3 Creating Two Local Instances</p>
</div>
<div class="paragraph">
<p>The following example shows how to create two local instances in a
cluster.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>host1$ asadmin --host dashost create-local-instance --node na1 --cluster cluster1 instance1
host2$ asadmin --host dashost create-local-instance --node na2 --cluster cluster1 instance2</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>dashost</code></dt>
<dd>
<p>The name of the DAS host.</p>
</dd>
<dt class="hdlist1"><code>na1</code></dt>
<dd>
<p>The name of the node host.</p>
</dd>
<dt class="hdlist1"><code>cluster1</code></dt>
<dd>
<p>The name of the cluster.</p>
</dd>
<dt class="hdlist1"><code>instance1</code>, <code>instance2</code></dt>
<dd>
<p>The names of the instances.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="correcting-potential-upgrade-problems"><a class="anchor" href="#correcting-potential-upgrade-problems"></a>Correcting Potential Upgrade Problems</h3>
<div class="paragraph">
<p>This section addresses issues that can occur during an upgrade to
Eclipse GlassFish 7.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cluster-profile-security-setting">Cluster Profile Security Setting</a></p>
</li>
<li>
<p><a href="#cluster-profile-upgrade-on-windows">Cluster Profile Upgrade on Windows</a></p>
</li>
<li>
<p><a href="#asupgrade-fails-without-internet-connection"><code>asupgrade</code> Fails Without Internet Connection</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="cluster-profile-security-setting"><a class="anchor" href="#cluster-profile-security-setting"></a>Cluster Profile Security Setting</h4>
<div class="paragraph">
<p>When upgrading a clustered domain configuration from Application Server
9.1 or Enterprise Server v2 to Eclipse GlassFish 7, you may encounter
problems if the <code>admin-service</code> element in the DAS <code>domain.xml</code> file
sets both of the following attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>security-enabled=true</code></p>
</li>
<li>
<p><code>type=das-and-server</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>security-enabled</code> attribute must be set to <code>false</code> in the
<code>admin-service</code> element for the DAS when <code>type</code> is set to
<code>das-and-server</code>.</p>
</div>
<div class="paragraph">
<p>You can use the <code>get</code> subcommand to determine the values for these two
attributes. For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To display the value for the <code>security-enabled</code> attribute:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; get configs.config.server-config.admin-service.jmx-connector.system.security-enabled</code></pre>
</div>
</div>
</li>
<li>
<p>To display the value for the type attribute:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; get configs.config.server-config.admin-service.type</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If necessary, use the <code>set</code> subcommand to set <code>security-enabled=false</code>.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; set configs.config.server-config.admin-service.jmx-connector.system.security-enabled=false</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cluster-profile-upgrade-on-windows"><a class="anchor" href="#cluster-profile-upgrade-on-windows"></a>Cluster Profile Upgrade on Windows</h4>
<div class="paragraph">
<p>On Windows, when you upgrade cluster profile domains, you could
encounter the following error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Fatal error while backing up the domain directory</code></pre>
</div>
</div>
<div class="paragraph">
<p>To resolve this error, look for and remove any hidden files in the
source domain&#8217;s directory and re-run Upgrade Tool.</p>
</div>
</div>
<div class="sect3">
<h4 id="asupgrade-fails-without-internet-connection"><a class="anchor" href="#asupgrade-fails-without-internet-connection"></a><code>asupgrade</code> Fails Without Internet Connection</h4>
<div class="paragraph">
<p>This problem only occurs when using Eclipse GlassFish 3.1 Upgrade Tool to
perform a side-by-side upgrade on a 2.x domain without an Internet
connection. It does not occur when using Eclipse GlassFish 3.1.1.</p>
</div>
<div class="paragraph">
<p>The workaround for this issue is as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy the older source domain to be upgraded to the new target
domain-dir, the default for which is as-install<code>/domains</code>.<br>
Rename the target <code>domain1</code> directory, if one exists, before proceeding.</p>
</li>
<li>
<p>Run the upgrade.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>asadmin&gt; start-domain --upgrade domain-name</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-06-09 13:52:18 UTC
</div>
</div>
</body>
</html>