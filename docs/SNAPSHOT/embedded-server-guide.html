<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Eclipse GlassFish Embedded Server Guide, Release 7</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Eclipse GlassFish Embedded Server Guide, Release 7</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#eclipse-glassfish-server">Eclipse GlassFish</a></li>
<li><a href="#preface">Preface</a>
<ul class="sectlevel2">
<li><a href="#glassfish-server-documentation-set">Eclipse GlassFish Documentation Set</a></li>
<li><a href="#related-documentation">Related Documentation</a></li>
<li><a href="#typographic-conventions">Typographic Conventions</a></li>
<li><a href="#symbol-conventions">Symbol Conventions</a></li>
<li><a href="#default-paths-and-file-names">Default Paths and File Names</a></li>
</ul>
</li>
<li><a href="#GSESG">Eclipse GlassFish 7 Embedded Server Guide</a></li>
<li><a href="#introduction-to-embedded-glassfish-server">Introduction to Embedded Eclipse GlassFish</a></li>
<li><a href="#editions">Embedded Eclipse GlassFish Editions</a></li>
<li><a href="#embedded-glassfish-server-file-system">Embedded Eclipse GlassFish File System</a>
<ul class="sectlevel2">
<li><a href="#installation-root-directory">Installation Root Directory</a></li>
<li><a href="#instance-root-directory">Instance Root Directory</a></li>
<li><a href="#the-domain-xml-file">The <code>domain.xml</code> File</a></li>
</ul>
</li>
<li><a href="#running-from-command-line">Running Eclipse GlassFish Embedded Server from Command Line</a>
<ul class="sectlevel2">
<li><a href="#examples-of-running-embedded-eclipse-glassfish-from-command-line">Examples of Running Embedded Eclipse GlassFish from Command Line</a>
<ul class="sectlevel3">
<li><a href="#example-1-run-an-application-from-command-line">Example 1: Run an application from command line</a></li>
<li><a href="#example-2-run-an-app-on-a-different-port">Example 2: Run an app on a different port</a></li>
<li><a href="#example-3-run-custom-commands-on-startup">Example 3: Run custom commands on startup</a></li>
<li><a href="#example-4-run-2-applications-from-command-line">Example 4: Run 2 applications from command line</a></li>
</ul>
</li>
<li><a href="#command-line-arguments-supported-by-embedded-eclipse-glassfish">Command-line Arguments Supported by Embedded Eclipse GlassFish</a></li>
</ul>
</li>
<li><a href="#including-the-glassfish-server-embedded-server-api-in-applications">Including the Eclipse GlassFish Embedded Server API in Applications</a>
<ul class="sectlevel2">
<li><a href="#setting-the-class-path">Setting the Class Path</a></li>
<li><a href="#creating-starting-and-stopping-embedded-glassfish-server">Creating, Starting, and Stopping Embedded Eclipse GlassFish</a>
<ul class="sectlevel3">
<li><a href="#creating-and-configuring-an-embedded-glassfish-server">Creating and Configuring an Embedded Eclipse GlassFish</a></li>
<li><a href="#supported-properties">Configuration properties supported by Embedded Eclipse GlassFish</a></li>
<li><a href="#running-an-embedded-glassfish-server">Running Embedded Eclipse GlassFish from a Java application</a></li>
</ul>
</li>
<li><a href="#deploying-and-undeploying-an-application-in-an-embedded-glassfish-server">Deploying and Undeploying an Application in an Embedded Eclipse GlassFish</a>
<ul class="sectlevel3">
<li><a href="#to-deploy-an-application-from-an-archive-file-or-a-directory">To Deploy an Application From an Archive File or a Directory</a></li>
<li><a href="#undeploying-an-application">Undeploying an Application</a></li>
<li><a href="#creating-a-scattered-archive">Creating a Scattered Archive</a></li>
<li><a href="#creating-a-scattered-enterprise-archive">Creating a Scattered Enterprise Archive</a></li>
</ul>
</li>
<li><a href="#running-asadmin-commands-using-the-glassfish-server-embedded-server-api">Running <code>asadmin</code> Commands Using the Eclipse GlassFish Embedded API</a></li>
<li><a href="#sample-applications">Sample Applications</a></li>
</ul>
</li>
<li><a href="#testing-applications-with-the-maven-plug-in-for-embedded-glassfish-server">Testing Applications with the Maven Plug-in for Embedded Eclipse GlassFish</a>
<ul class="sectlevel2">
<li><a href="#to-set-up-your-maven-environment">To Set Up Your Maven Environment</a></li>
<li><a href="#to-build-and-start-an-application-from-maven">To Build and Start an Application From Maven</a></li>
<li><a href="#to-stop-embedded-glassfish-server">To Stop Embedded Eclipse GlassFish</a></li>
<li><a href="#to-redeploy-an-application-that-was-built-and-started-from-maven">To Redeploy an Application That Was Built and Started From Maven</a></li>
<li><a href="#maven-goals-for-embedded-glassfish-server">Maven Goals for Embedded Eclipse GlassFish</a>
<ul class="sectlevel3">
<li><a href="#embedded-glassfishrun-goal"><code>embedded-glassfish:run</code> Goal</a></li>
<li><a href="#embedded-glassfishstart-goal"><code>embedded-glassfish:start</code> Goal</a></li>
<li><a href="#embedded-glassfishdeploy-goal"><code>embedded-glassfish:deploy</code> Goal</a></li>
<li><a href="#embedded-glassfishundeploy-goal"><code>embedded-glassfish:undeploy</code> Goal</a></li>
<li><a href="#embedded-glassfishstop-goal"><code>embedded-glassfish:stop</code> Goal</a></li>
<li><a href="#embedded-glassfishadmin-goal"><code>embedded-glassfish:admin</code> Goal</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#using-the-ejb-3-1-embeddable-api-with-embedded-eclipse-glassfish">Using the EJB 3.1 Embeddable API with Embedded Eclipse GlassFish</a>
<ul class="sectlevel2">
<li><a href="#to-use-the-ejb-3-1-embeddable-api-with-embedded-eclipse-glassfish">To Use the EJB 3.1 Embeddable API with Embedded Eclipse GlassFish</a></li>
<li><a href="#ejb-3-1-embeddable-api-properties">EJB 3.1 Embeddable API Properties</a></li>
<li><a href="#using-maven-with-the-ejb-3-1-embeddable-api-and-embedded-eclipse-glassfish">Using Maven with the EJB 3.1 Embeddable API and Embedded Eclipse GlassFish</a></li>
</ul>
</li>
<li><a href="#changing-log-levels-in-embedded-glassfish-server">Changing Log Levels in Embedded Eclipse GlassFish</a></li>
<li><a href="#default-java-persistence-data-source-for-embedded-glassfish-server">Default Java Persistence Data Source for Embedded Eclipse GlassFish</a></li>
<li><a href="#restrictions-for-embedded-glassfish-server">Restrictions for Embedded Eclipse GlassFish</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="eclipse-glassfish-server"><a class="anchor" href="#eclipse-glassfish-server"></a>Eclipse GlassFish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Embedded Server Guide</p>
</div>
<div class="paragraph">
<p>Release 7</p>
</div>
<div class="paragraph">
<p>Contributed 2018 - 2024</p>
</div>
<div class="paragraph">
<p>This document explains how to run applications in embedded Eclipse GlassFish and to develop applications in which
Eclipse GlassFish is embedded. This document is for software developers
who are developing applications to run in embedded Eclipse GlassFish. The
ability to program in the Java language is assumed.</p>
</div>
<div class="paragraph">
<p>Note: The main thrust of the Eclipse GlassFish 7
release is to provide an application server for developers to explore
and begin exploiting the new and updated technologies in the Jakarta EE 10
platform. Thus, the embedded server feature of Eclipse GlassFish was not
a focus of this release. This feature is included in the release, but it
may not function properly with some of the new features added in support
of the Jakarta EE 10 platform.</p>
</div>
<hr>
<div class="paragraph">
<p>Eclipse GlassFish Embedded Server Guide, Release 7</p>
</div>
<div class="paragraph">
<p>Copyright Â© 2013, 2019 Oracle and/or its affiliates. All rights reserved.</p>
</div>
<div class="paragraph">
<p>This program and the accompanying materials are made available under the
terms of the Eclipse Public License v. 2.0, which is available at
<a href="http://www.eclipse.org/legal/epl-2.0" class="bare">http://www.eclipse.org/legal/epl-2.0</a>.</p>
</div>
<div class="paragraph">
<p>SPDX-License-Identifier: EPL-2.0</p>
</div>
<div class="paragraph">
<p>Oracle and Java are registered trademarks of Oracle and/or its
affiliates. Other names may be trademarks of their respective owners.</p>
</div>
<div class="paragraph">
<p>Intel and Intel Xeon are trademarks or registered trademarks of Intel
Corporation. All SPARC trademarks are used under license and are
trademarks or registered trademarks of SPARC International, Inc. AMD,
Opteron, the AMD logo, and the AMD Opteron logo are trademarks or
registered trademarks of Advanced Micro Devices. UNIX is a registered
trademark of The Open Group.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAAoCAYAAAAxH+4YAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4gsHAhURI94LCQAADalJREFUeNrtnHmw19QVxz+/t0EeyKJVXBAxWAUVcUcbE6xaRTvWsVXrUlsdbZUaday4MCLWjVbEVm2sjLbVukxVFFrtQlUUEuO4gguCGxERkMciD/QReNuvf+RErnnJ75ffAwo678xkXn5Zbu69Z7nnfM+5r0AKhY6OZgfq725AD2Bf4DBgIFAPtACLgFnAS0ATsE6zg3a6aKuiQqmboaP3BYYDPwVOAWqBdmHuZ8AXwmxNXnGBacC7wFKgqApMF205qklqMoBmB4SOfiQwGvi+3F4IPAH4wDvAx5odhIn3dwO+Dewmmr2qa4q3Mo0WJhc0OyiGjn4ZMA7oI7fHAI8AizQ7aC1l5uVaAajR7KCla4q3Moq1OXT08aGjF+V4N3T0vUNHr1Kfi58t1U7yvIu2EgbL+SUKk/3Q0XfpYtg3g1RNPQK4Xn6+BZyl2cHiNNPcRV/TNTp09N7Ag8CJwDrgMM0O3uxi8jdPo4cLkwEu3lRMtkyj0/fT7uW91pk2N7adjZmDjR1XLo0WMORe4GzgbeBAzQ5aVUbLR7tV2Har6/ltWQNwPT/+3UtAmP5iYRYAvuv56+Ln42fld7USFhZdz2+uUPhqFQH/Sh8t0ygIVpCFLxTlnXZ1PGr/0q5bpnGIhKl7Ad2BVcCbwFOu5wdZ7VimUQNUVzjv64VXRSCOkNpriBCuk+XCBKAtjqUT8fa6Cj94O3BZ2uAt09As0zgauBowMhgyWfozG2hTJuJKYLwyqO4V9mseMEjOrwVuUu4NFcBnpzLCshJ4HLhDwKGiMra4n1WWaRwD/AHYM2uOLNOYClzlev4HKcyeoljavLSDzFt3YC5wJHBxlUhZT6ABeFGzg2KGJNMJyUpjcj9gEvBUFpOFTgVeAK6zTKOHMgFqu2s60a/Ps/ooQv55jja2Ay4A3gDOUy2UjLEAnC5jVJn8BRGiqM7nycDTlmnsm2IZmioc2xdire4CngXqgGeAQTWyPkOEVX+Wo7GiPFcKz65XJ0xhci3wKDAi8fzzwEfS5u7A0XK9G3Ac8PtODHpT0FIgTJjyetEaZCJvt0xjmev5TyoauSMwVu4DzAd+CwRiTnsDFvALoBdR7mA0cE4ZJoZl/K1G4c9Hcj4NWA7sWCMfAXg/p4a0AqY0VMqbT9OMSQkmTxXzvQxolk7WAdsDtwD7AD8DVmWthZuR2gEbmK4wLCYTuAfYlijZc6FlGk+7nr9OfJCdgCGKYoxwPX9xwsJNA/4D3AjcD/y9TH/uAO4uo2DtwArxIVYq1xfWsCEhsbSCrFOD6/l5tF/V5v2AHym3HgQucD0/TDguoev5qy3TOAWodz2/aQswOaZG1/MbUxzJJyzT2AX4nThLg4Wxs+XR3kob7yWZLNTiev5zwHMVLDlL0xzcPFQjmkRsFnKGVbnTkAqDzhBfADEt45NMTqx1RWBLMrnUWAD+Jk5PNdBXrFBMy5XzwZZpnAx4wJo4SkhEEnnG2B47yp1l9CdJlCwHyLK/ZRqlzHw18LYaIgEHyvUi8JLr+e+mTF65yd3ilMGUYuxgifX6lChlayneswu8YZnGIlmqPgHedT1/Sc4x9gcOtkyjvQRfVgCfqOGfyuhZct4zJazKYuL9ZbS6N3CoOCGxy99H8Wz9CiR5S1KxhOCdo8TzK8Rxi59ZaZnGNUQZv11iGVEY3yZr6KeWabwC3OB6/qIy8/GTMqFWnViZcWlOW42yrgwIHb02R2qxQJRvLke1ynk35XdRJmZrZzJpptIyjXrgQnEiYzBjruv5byeE9wXgEOByCcV6JpRlBzn2A061TMNwPX9uCWZvK0cp2j4L7KkR7k8DhonWLc8xAWvLxNY9EhrfrKA0hbjDW7lGVwEzckCRK4Hb0sbjev6nEjaNtkxjiCCAg4EDgMPFEa6WeX8O2LHEfDQTVfNkUbcUXKAD4nU/8FegXw5GNwN7CIyXFzBZoYRj1RK73/010Ohy9DFwrev5XiJy6CDArufPE1Qufqa7IHwXCx/6WaZxkuv5/8j41g2CNraVsUCpwlAjFSUzJI4+IXT0OWXW6gIQxo5WTuelzTKNdwQIqQKOsExjoOv5CzIw3s54pZuDAsEWVHPYIijibOBR1/PnCBJWVNdxudZPni2mjGedZRo3Agcpa/dQIIvRLcBaiUY65XWj2UFD6Oi3iITdodnB+k0RXiXM3sOyVmmCNV9nmcb5IgRf4sSJiTrQ9fzXtxCT2wULn5EATNqAphhHkD4XVW2WCGMcMAA4yvX8RlVYlfFUJeaylLa2d5bJADVx3KzZwcOho48EbgZGl4mnh1umsbqMZ77I9fxPFCl/zTKNp4DTFK+1v2UaF7qeP1+dAMs0DhAUaF/LNM5MwIslveIKQqJcEKjr+UsqDP8KgnLtKr99yzROjLNUCTozgRS+WuJTAy3TOLyEMBTED3rL9fyWNNONwuyzQ0efETq6odmBHwMoxz3awZt+OsckTQSuSFw7C9ifDUD/McCHlmkEwBy5djCws/LOZMs0DnI9f07KN3awTKMcs+90Pf/STipCoZMh2RjgIfm9NzDfMo2ZwExZCnYCRgrEG9M81/OfLdHuRXKU8592B5akeZZxeS9yfqSs1YNyxtW5QhPRqlbgOyIoajWpDvxAjp0TDt0/E45fVYX9aE2xNlltFZT7VZ1htGj448CtCcdohJjziRJyfYXJcYycWO4qzUW3lFyjVWYLY68FDggdvV6zg7UKbJk3LdgdWJycAGH2SoEEfyyDO4yO+d8lEodOBaa6nr9eMb8NRAUSefyEWgX5i2kuG5InSxP3QrEsTSKoFadBpZ/rLdMYK2DUGUTp2O1SHp8F/Bu41/X8hSlLTCD9bclpfdZket3qD4XZ7aGjz1Ikvk0ksr0Ck7cmaz1zPX8tcJ9lGlOAbwHbyAEReP85sNz1/DUpa+xUorRmMWc/klm0S9hQRZL0MxaKw1irAjuVarT0txl4xDKN/8oY+8jfWgk1V4qlaogTFSnr/QTAqWCs7eRLNYtYb6La7CywIatGqlztVGfrqErVhZWrGdvYb6aNMXkv61oXddH/n5Ian3cXRynrkdVm2vVS36+0L5X2s5J5ydt2pc/mtbiFnMwsSPzbnAgj3tHs4AP1o7GXHjr6gYLn1gGzNTuYUaL9k4D5mh3MUa4NF6/zJbUgInT0GuB7wAeaHXwo1+olVAvUNuTejoLItUqfVwEvaHYQho5eSKuRi8cROvpZwAfAKyn7y3oDx6Z47kXgec0OlivPVovj+Z5mB/MyvtUdOEni72XAk5odNGbsbRtIVOs3Pa7YlTBuN7nWXNIZK0FVRCm3ZmFcXEp6jYQRqjNXkOtXiPe9FugVOvqDwM+BlpSQ7S8CkIxVrl0sKNqZCdy8TuLUgaGjD9HsoIko8X8b8IASj6PEsQ+Jo1IlXumC0NFHaXYwPW0iZRwj5T1f+rAw0W5/orRgtfSvyIaK1BF8NWdQB9wpx7wUJg8R6HMQUW1YPbA8dPSTNTt4OaWPhwCPAT8U57RAVE58OvBymkNWaUx6swTkg4k2xf8p5ZljieqgHBl4X+B8otqvURlxeS861o3Xy5FmhbqL5KvATU861nbFwtxMVFXaV6xBHXBX6Oi7qxhCgsZLuDUMKaBMPDdX+tdblOB5ojRhNwkNk9Shf/LtGmCytLO3Zge9ier4GoFpoaN3T5mzWEEnh44+UKxSHVHWsJClqZVQI9Em+MVyrE6YlG5ifl4FfqPZQVEQt/sERLh6E7kGNaIZw0JHvxWlwqMEbv2ZZgeNmh3MBL4rpu8oFRRSfAGLKJU4TjTmIlkeVE0siolcL+FnO7Bes4NmCU/zjuUEonqz0zQ7eE+Wk8VEhQZ9gHMzhL1ZNHdm6Oh9yuDkFTP6PGHYI2Im90rcryNKYc6KA3dlwHPILoz/MvujPF8s4UfUElVnXimw4Nk5/I0qpf2lEiPvlNQwobFEe8Eniok0gX3i+wkNK6SdV4Ao7ip9mxkLkLwfV/7skTGW1cKPnrKE9CyFc1TK6OXAh3LMp+PujTaRsgFAdWJt2VXWnyzorkeKqWsrIan1mh38kaiadBxRLXU5DDruTw8BL1alePbDxVQvCx39UqKdDk3ITtPNsIU4Bpb2VJeR0NFjIWzIGEs34DVZl0cK0LN+UzF6qmYHo4GrROoXJDRiLVG1yvHA8YpJPJzof6Dcn9HuS8CI0NF3kMH2l7V0fonSpljjryfaMVGOya3SlwFExXoNwIvJaEF8iV5EJT4TxCncBjg+dPS9NsPu0uniZT+QsAST5O8jpaBmzQ6eAUaJ4BbLYt2VgOZp7rtCU8QDfDx09PfF6x4mzsu4jHcuFemcFzr6fKJ87gKifUtJRhRFy2MNXRI6+hjxWrO2E2mAq2hjE/ArzQ5mJ0LCwaIdEzU7uELR9n5Ee6x+Ldh12jfKwcPtyf7Jt5eEjn458OfQ0dcKjr8HUbnVKM0OFmakjNXvPSDLy9CN1egi0c6J2eVAAs0O1kjC4lzgdTHxVxHtuV6VFvBrdvAWUTbnIXH2JgBHaHbwYcogW8Tb/5fyvgv8kigNmKSPJAS8SY5LgaGaHdwjoWByPqaoIaO03yD+wHsp7bdKXx4rYTpbJfzzU7zugmYHDxGlZ+8V/2EycKhmB5PkfrK9OURZsEbFko4h2lCQum3nf8vVJ/NUdLY+AAAAAElFTkSuQmCC" alt="Eclipse Logo"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="preface"><a class="anchor" href="#preface"></a>Preface</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This documentation is part of the Java Enterprise Edition contribution
to the Eclipse Foundation and is not intended for use in relation to
Java Enterprise Edition or Orace GlassFish. The documentation is in the
process of being revised to reflect the new Jakarta EE branding.
Additional changes will be made as requirements and procedures evolve
for Jakarta EE. Where applicable, references to Jakarta EE or Java
Enterprise Edition should be considered references to Jakarta EE.</p>
</div>
<div class="paragraph">
<p>Please see the Title page for additional license information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This document explains how to run applications in embedded
Eclipse GlassFish and to develop applications in which
Eclipse GlassFish is embedded. This document is for software developers
who are developing applications to run in embedded Eclipse GlassFish.
The ability to program in the Java language is assumed.</p>
</div>
<div class="paragraph">
<p>This preface contains information about and conventions for the entire
Eclipse GlassFish (Eclipse GlassFish) documentation set.</p>
</div>
<div class="paragraph">
<p>Eclipse GlassFish 7 is developed through the GlassFish project
open-source community at <a href="https://github.com/eclipse-ee4j/glassfish" class="bare">https://github.com/eclipse-ee4j/glassfish</a>.
The GlassFish project provides a structured process for developing the
Eclipse GlassFish platform that makes the new features of the Jakarta EE
platform available faster, while maintaining the most important feature
of Jakarta EE: compatibility. It enables Java developers to access the
Eclipse GlassFish source code and to contribute to the development of the
Eclipse GlassFish.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#glassfish-server-documentation-set">Eclipse GlassFish Documentation Set</a></p>
</li>
<li>
<p><a href="#related-documentation">Related Documentation</a></p>
</li>
<li>
<p><a href="#typographic-conventions">Typographic Conventions</a></p>
</li>
<li>
<p><a href="#symbol-conventions">Symbol Conventions</a></p>
</li>
<li>
<p><a href="#default-paths-and-file-names">Default Paths and File Names</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="glassfish-server-documentation-set"><a class="anchor" href="#glassfish-server-documentation-set"></a>Eclipse GlassFish Documentation Set</h3>
<div class="paragraph">
<p>The Eclipse GlassFish documentation set describes deployment planning and
system installation. For an introduction to Eclipse GlassFish, refer to
the books in the order in which they are listed in the following table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Book Title</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="release-notes.html#GSRLN">Release Notes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides late-breaking information about
the software and the documentation and includes a comprehensive,
table-based summary of the supported hardware, operating system, Java
Development Kit (JDK), and database drivers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="quick-start-guide.html#GSQSG">Quick Start Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to get started with the Eclipse GlassFish product.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="installation-guide.html#GSING">Installation Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to install the software and its components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="upgrade-guide.html#GSUPG">Upgrade Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to upgrade to the latest version of Eclipse GlassFish.
This guide also describes differences between adjacent product releases and configuration
options that can result in incompatibility with the product specifications.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="deployment-planning-guide.html#GSPLG">Deployment Planning Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to build a production deployment of Eclipse GlassFish that meets the requirements of
your system and enterprise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="administration-guide.html#GSADG">Administration Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to configure, monitor, and manage Eclipse GlassFish subsystems and components
from the command line by using the <a href="reference-manual.html#asadmin"><code>asadmin</code>(1M)</a> utility.
Instructions for performing these tasks from the Administration Console are provided
in the Administration Console online help.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="security-guide.html#GSSCG">Security Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides instructions for configuring and administering Eclipse GlassFish security.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="application-deployment-guide.html#GSDPG">Application Deployment Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to assemble and deploy applications to the Eclipse GlassFish and provides information
about deployment descriptors.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="application-development-guide.html#GSDVG">Application Development Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to create and implement Java Platform, Enterprise Edition (Jakarta EE platform)
applications that are intended to run on the Eclipse GlassFish.
These applications follow the open Java standards model for Jakarta EE components
and application programmer interfaces (APIs).
This guide provides information about developer tools, security, and debugging.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="add-on-component-development-guide.html#GSACG">Add-On Component Development Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to use published interfaces of Eclipse GlassFish to develop add-on components
for Eclipse GlassFish.
This document explains how to perform only those tasks that ensure that the add-on component
is suitable for Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#GSESG">Embedded Server Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to run applications in embedded Eclipse GlassFish and to develop applications
in which Eclipse GlassFish is embedded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="ha-administration-guide.html#GSHAG">High Availability Administration Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to configure Eclipse GlassFish to provide higher availability and
scalability through failover and load balancing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="performance-tuning-guide.html#GSPTG">Performance Tuning Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to optimize the performance of Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="troubleshooting-guide.html#GSTSG">Troubleshooting Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes common problems that you might encounter when using Eclipse GlassFish and explains how to solve them.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="error-messages-reference.html#GSEMR">Error Message Reference</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes error messages that you might encounter when using Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="reference-manual.html#GSRFM">Reference Manual</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides reference information in man page format for Eclipse GlassFish administration commands, utility
commands, and related concepts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-release-notes/toc.html">Message Queue Release Notes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes new features, compatibility issues, and existing bugs for Open Message Queue.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-tech-over/toc.html">Message Queue Technical Overview</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an introduction to the technology, concepts, architecture, capabilities, and features of
the Message Queue messaging service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-admin-guide/toc.html">Message Queue Administration Guide</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explains how to set up and manage a Message Queue messaging system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-dev-guide-jmx/toc.html">Message Queue Developer&#8217;s Guide for JMX Clients</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes the application programming interface in Message Queue for
programmatically configuring and monitoring Message Queue resources in
conformance with the Java Management Extensions (JMX).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-dev-guide-java/toc.html">Message Queue Developer&#8217;s Guide for Java Clients</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides information about concepts and procedures for developing Java messaging
applications (Java clients) that work with Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://eclipse-ee4j.github.io/openmq/guides//mq-dev-guide-c/toc.html">Message Queue Developer&#8217;s Guide for C Clients</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides programming and reference information for developers working with
Message Queue who want to use the C language binding to the Message
Queue messaging service to send, receive, and process Message Queue messages.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="related-documentation"><a class="anchor" href="#related-documentation"></a>Related Documentation</h3>
<div class="paragraph">
<p>The following tutorials explain how to develop Jakarta EE applications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/eclipse-ee4j/jakartaee-firstcup-examples">
Your First Cup: An Introduction to the Jakarta EE Platform</a>.
For beginning Jakarta EE programmers, this short tutorial explains the entire
process for developing a simple enterprise application.
The sample application is a web application that consists of a component that is
based on the Enterprise JavaBeans specification, a JAX-RS web service,
and a JavaServer Faces component for the web front end.</p>
</li>
<li>
<p><a href="https://eclipse-ee4j.github.io/jakartaee-tutorial">The Jakarta EE Tutorial</a>.
This comprehensive tutorial explains how to use Jakarta EE platform technologies
and APIs to develop Jakarta EE applications.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Javadoc tool reference documentation for packages that are provided with
Eclipse GlassFish is available as follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Jakarta EE specifications and API specification is
located at <a href="https://jakarta.ee/specifications/" class="bare">https://jakarta.ee/specifications/</a>.</p>
</li>
<li>
<p>The API specification for Eclipse GlassFish 7, including Jakarta EE
platform packages and nonplatform packages that are specific to the
Eclipse GlassFish product, is located at
<a href="https://glassfish.org/docs/" class="bare">https://glassfish.org/docs/</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For information about creating enterprise applications in the NetBeans
Integrated Development Environment (IDE), see the
<a href="https://netbeans.apache.org/kb/docs/java-ee.html">
NetBeans Documentation, Training &amp; Support page</a>.</p>
</div>
<div class="paragraph">
<p>For information about the Derby database for use with
the Eclipse GlassFish, see the <a href="https://db.apache.org/derby/index.html">Derby page</a>.</p>
</div>
<div class="paragraph">
<p>The Jakarta EE Samples project is a collection of sample applications that
demonstrate a broad range of Jakarta EE technologies. The Jakarta EE Samples
are bundled with the Jakarta EE Software Development Kit (SDK) and are also
available from the repository
(<code><a href="https://github.com/eclipse-ee4j/glassfish-samples" class="bare">https://github.com/eclipse-ee4j/glassfish-samples</a></code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="typographic-conventions"><a class="anchor" href="#typographic-conventions"></a>Typographic Conventions</h3>
<div class="paragraph">
<p>The following table describes the typographic changes that are used in
this book.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14%;">
<col style="width: 37%;">
<col style="width: 49%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Typeface</th>
<th class="tableblock halign-left valign-top">Meaning</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AaBbCc123</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The names of commands, files, and directories, and onscreen computer output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit your <code>.login</code> file.</p>
<p class="tableblock">Use <code>ls</code> <code>a</code> to list all files.</p>
<p class="tableblock"><code>machine_name% you have mail.</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AaBbCc123</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">What you type, contrasted with onscreen computer output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>machine_name%</code> <code>su</code></p>
<p class="tableblock"><code>Password:</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AaBbCc123</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A placeholder to be replaced with a real name or value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The command to remove a file is <code>rm</code> filename.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AaBbCc123</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Book titles, new terms, and terms to be emphasized (note that some emphasized items appear bold online)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read Chapter 6 in the User&#8217;s Guide.</p>
<p class="tableblock">A cache is a copy that is stored locally.</p>
<p class="tableblock">Do not save the file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="symbol-conventions"><a class="anchor" href="#symbol-conventions"></a>Symbol Conventions</h3>
<div class="paragraph">
<p>The following table explains symbols that might be used in this book.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 26%;">
<col style="width: 28%;">
<col style="width: 36%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Symbol</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[ ]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains optional arguments and command options.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ls [-l]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>-l</code> option is not required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{ | }</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains a set of choices for a required command option.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-d {y|n}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>-d</code> option requires that you use either the <code>y</code> argument or the <code>n</code> argument.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${ }</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates a variable reference.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${com.sun.javaRoot}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">References the value of the <code>com.sun.javaRoot</code> variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joins simultaneous multiple keystrokes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control-A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Press the Control key while you press the A key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joins consecutive multiple keystrokes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ctrl+A+N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Press the Control key, release it, and then press the subsequent keys.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates menu item selection in a graphical user interface.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File &gt; New &gt; Templates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the File menu, choose New. From the New submenu, choose Templates.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="default-paths-and-file-names"><a class="anchor" href="#default-paths-and-file-names"></a>Default Paths and File Names</h3>
<div class="paragraph">
<p>The following table describes the default paths and file names that are
used in this book.</p>
</div>
<table class="tableblock frame-all grid-all fit-content stretch">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Placeholder</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">as-install</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Represents the base installation directory for Eclipse GlassFish.
In configuration files, as-install is represented as follows:
<code>${com.sun.aas.installRoot}</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Installations on the Oracle Solaris operating system, Linux operating
system, and Mac OS operating system:</p>
<div class="paragraph">
<p>user&#8217;s-home-directory<code>/glassfish7/glassfish</code></p>
</div>
</li>
<li>
<p>Installations on the Windows operating system:</p>
<div class="paragraph">
<p>SystemDrive<code>:\glassfish7\glassfish</code></p>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">as-install-parent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the parent of the base installation directory for Eclipse GlassFish.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Installations on the Oracle Solaris operating system, Linux operating
system, and Mac operating system:</p>
<div class="paragraph">
<p>user&#8217;s-home-directory<code>/glassfish7</code></p>
</div>
</li>
<li>
<p>Installations on the Windows operating system:</p>
<div class="paragraph">
<p>SystemDrive<code>:\glassfish7</code></p>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-root-dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the directory in which a domain is created by default.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">as-install<code>/domains/</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the directory in which a domain&#8217;s configuration is stored.
In configuration files, domain-dir is represented as follows:
<code>${com.sun.aas.instanceRoot}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-root-dir/domain-name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instance-dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the directory for a server instance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir/instance-name</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="GSESG"><a class="anchor" href="#GSESG"></a>Eclipse GlassFish 7 Embedded Server Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document explains how to run applications with embedded Eclipse GlassFish and to develop applications in which
Eclipse GlassFish is embedded. This document is for software developers
who are developing applications to run in embedded Eclipse GlassFish. The
ability to program in the Java language is assumed.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#introduction-to-embedded-glassfish-server">Introduction to Embedded Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#embedded-glassfish-server-file-system">Embedded Eclipse GlassFish File System</a></p>
</li>
<li>
<p><a href="#including-the-glassfish-server-embedded-server-api-in-applications">Including the Eclipse GlassFish Embedded Server API in Applications</a></p>
</li>
<li>
<p><a href="#testing-applications-with-the-maven-plug-in-for-embedded-glassfish-server">Testing Applications with the Maven Plug-in for Embedded Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#GSESG00039">Using the EJB 3.1 Embeddable API with Embedded Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#changing-log-levels-in-embedded-glassfish-server">Changing Log Levels in Embedded Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#default-java-persistence-data-source-for-embedded-glassfish-server">Default Java Persistence Data Source for Embedded Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#restrictions-for-embedded-glassfish-server">Restrictions for Embedded Eclipse GlassFish</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction-to-embedded-glassfish-server"><a class="anchor" href="#introduction-to-embedded-glassfish-server"></a>Introduction to Embedded Eclipse GlassFish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Embedded Eclipse GlassFish enables you to use
Eclipse GlassFish as a library or run applications from command line. Embedded Eclipse GlassFish also enables
you to run Eclipse GlassFish inside any Virtual Machine for the Java
platform (Java Virtual Machine or JVM).</p>
</div>
<div class="paragraph">
<p>No installation or configuration of embedded Eclipse GlassFish is
required. The ability to run Eclipse GlassFish
without installation or configuration simplifies the process of bundling
Eclipse GlassFish with applications or running applications from command line.</p>
</div>
<div class="paragraph">
<p>You can use embedded Eclipse GlassFish in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>With the Embedded Server API (see <a href="#including-the-glassfish-server-embedded-server-api-in-applications">Including the Eclipse GlassFish Embedded Server API in Applications</a>)</p>
</li>
<li>
<p>As an executable JAR, executed with <code>java -jar</code> (see <a href="#running-from-command-line">Running Eclipse GlassFish Embedded Server from Command Line</a>)</p>
</li>
<li>
<p>With the Maven Plug-in (see <a href="#testing-applications-with-the-maven-plug-in-for-embedded-glassfish-server">Testing Applications with the
Maven Plug-in for Embedded Eclipse GlassFish</a>)</p>
</li>
<li>
<p>With the EJB 3.1 Embeddable API (see <a href="#GSESG00039">Using the EJB 3.1
Embeddable API with Embedded Eclipse GlassFish</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Embedded Eclipse GlassFish provides a plug-in for
<a href="http://maven.apache.org/">Apache Maven</a> (<code><a href="http://maven.apache.org/" class="bare">http://maven.apache.org/</a></code>).
This plug-in simplifies the testing of applications by enabling you to
build an application and run it with Eclipse GlassFish on a single
system. Testing and debugging are simplified because the need for an
installed and configured Eclipse GlassFish is eliminated. Therefore, you
can run unit tests automatically in every build.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For information on how to embed Eclipse GlassFish in an OSGi environment,
see the <a href="add-on-component-development-guide.html#GSACG">Eclipse GlassFish Add-On
Component Development Guide</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="editions"><a class="anchor" href="#editions"></a>Embedded Eclipse GlassFish Editions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Embedded Eclipse GlassFish comes with the following flavours:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>glassfish-embedded-all.jar</code></dt>
<dd>
<p>Contains classes needed for deploying all Jakarta EE application types.
Download this file from
<code><a href="https://central.sonatype.com/artifact/org.glassfish.main.extras/glassfish-embedded-all" class="bare">https://central.sonatype.com/artifact/org.glassfish.main.extras/glassfish-embedded-all</a></code>.</p>
</dd>
<dt class="hdlist1"><code>glassfish-embedded-web.jar</code></dt>
<dd>
<p>Contains classes needed for deploying Jakarta EE web applications.
Download this file from
<code><a href="https://central.sonatype.com/artifact/org.glassfish.main.extras/glassfish-embedded-web" class="bare">https://central.sonatype.com/artifact/org.glassfish.main.extras/glassfish-embedded-web</a></code>.</p>
</dd>
<dt class="hdlist1"><code>glassfish-embedded-nucleus.jar</code></dt>
<dd>
<p>Corresponds to the nucleus distribution. Download this file from
<code><a href="https://central.sonatype.com/artifact/org.glassfish.main.extras/glassfish-embedded-nucleus" class="bare">https://central.sonatype.com/artifact/org.glassfish.main.extras/glassfish-embedded-nucleus</a></code>.</p>
</dd>
<dt class="hdlist1"><code>glassfish-embedded-static-shell.jar</code></dt>
<dd>
<p>Contains references to classes needed for deploying Jakarta EE
applications. Must be used with a non-embedded installation of
Eclipse GlassFish. It can run the same Jakarta EE applications that are supported by the non-embedded installation that contains it.
Reference this file from the
as-install<code>/lib/embedded</code> directory of a nonembedded Eclipse GlassFish
installation. Do not move this file or it will not work. For an
explanation of as-install, see <a href="#installation-root-directory">Installation Root
Directory</a>.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="embedded-glassfish-server-file-system"><a class="anchor" href="#embedded-glassfish-server-file-system"></a>Embedded Eclipse GlassFish File System</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following Embedded Eclipse GlassFish directories and files are
important if you are referencing a nonembedded installation of Eclipse GlassFish:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#installation-root-directory">Installation Root Directory</a></p>
</li>
<li>
<p><a href="#instance-root-directory">Instance Root Directory</a></p>
</li>
<li>
<p><a href="#GSESG00056">The <code>domain.xml</code> File</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="installation-root-directory"><a class="anchor" href="#installation-root-directory"></a>Installation Root Directory</h3>
<div class="paragraph">
<p>The installation root directory, represented as as-install, is the
parent of the directory that embedded Eclipse GlassFish uses for
configuration files. This directory corresponds to the base directory
for an installation of Eclipse GlassFish. Configuration files are
contained in the following directories in the base directory for an
installation of Eclipse GlassFish:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>domains</code></p>
</li>
<li>
<p><code>lib</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specify the installation root directory only if you have a valid
nonembedded Eclipse GlassFish installation and are using
<code>glassfish-embedded-static-shell.jar</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="instance-root-directory"><a class="anchor" href="#instance-root-directory"></a>Instance Root Directory</h3>
<div class="paragraph">
<p>The instance root directory, also known as the domain directory, represented as domain-dir, is the parent
directory of a server instance directory. Embedded Eclipse GlassFish uses the server instance directory for domain
configuration files.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you have valid custom as-install and domain-dir
directories, specify both in the <code>BootstrapProperties</code> and
<code>GlassFishProperties</code> classes respectively as described in
<a href="#creating-and-configuring-an-embedded-glassfish-server">Creating and Configuring an Embedded Eclipse GlassFish</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If domain-dir is not specified, Eclipse GlassFish creates a directory
named <code>gfembed</code>random-number<code>tmp</code> in a temporary directory, where
random-number is a randomly generated 19-digit number. Eclipse GlassFish
then copies configuration files into this directory. The temporary
directory is the value of the system property <code>java.io.tmpdir</code>. You can
override this value by specifying the <code>glassfish.embedded.tmpdir</code>
property in the <code>GlassFishProperties</code> class or as a system property.</p>
</div>
<div class="paragraph">
<p><a id="GSESG00056"></a><a id="the-domain.xml-file"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="the-domain-xml-file"><a class="anchor" href="#the-domain-xml-file"></a>The <code>domain.xml</code> File</h3>
<div class="paragraph">
<p>Using an existing <code>domain.xml</code> file avoids the need to configure
embedded Eclipse GlassFish programmatically in your application. Your
application obtains domain configuration data from an existing
<code>domain.xml</code> file. You can create this file by using the administrative
interfaces of an installation of nonembedded Eclipse GlassFish. To
specify an existing <code>domain.xml</code> file, invoke the <code>setConfigFileURI</code>
method of the <code>GlassFishProperties</code> class as described in
<a href="#creating-and-configuring-an-embedded-glassfish-server">Creating and Configuring an Embedded Eclipse GlassFish</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The built-in <code>domain.xml</code> file used by default by Embedded Eclipse GlassFish can be found in the Embedded Eclipse GlassFish JAR files, in path
<code>org/glassfish/embed/domain.xml</code>. You can customize this
file and pass it in using the <code>setConfigFileURI</code> method while creating
an Embedded Eclipse GlassFish.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-from-command-line"><a class="anchor" href="#running-from-command-line"></a>Running Eclipse GlassFish Embedded Server from Command Line</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Embedded Eclipse GlassFish JAR file can be started as an executable JAR from command line, such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar glassfish-embedded-all.jar</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar glassfish-embedded-web.jar</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar glassfish-embedded-nucleus.jar</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar ${as-install}/lib/embedded/glassfish-embedded-static-shell.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>For simplicity, this guide will use <code>glassfish-embedded.jar</code> to reference any of the above JAR files.</p>
</div>
<div class="paragraph">
<p>For description of all the JAR files, see <a href="#editions">Embedded Eclipse GlassFish editions</a></p>
</div>
<div class="paragraph">
<p>This starts the server and configures it according to the given arguments or
configuration files.</p>
</div>
<div class="paragraph">
<p>If executed without arguments or if no application is deployed, the server
is started and waits for further admin commands in a loop. The server can
be terminated with the <code>exit</code> or <code>quit</code> commands or pressing Ctrl+C.</p>
</div>
<div class="paragraph">
<p>If <code>glassfish.properties</code> file exists in the current directory, properties
in this file are set as if the <code>--properties=glassfish.properties</code> argument
was defined on the command line.</p>
</div>
<div class="paragraph">
<p>If <code>autodeploy</code> directory exists in the current directory, files and
directories in that directory are deployed as applications on startup.</p>
</div>
<div class="paragraph">
<p>If <code>glassfish-domain</code> directory exists in the current directory, it will be
used as the domain directory unless specified explicitly with
<code>--domainDir=DIRECTORY</code></p>
</div>
<div class="paragraph">
<p>If <code>domain.xml</code> file exists in the current directory, it will be
used as the domain configuration file unless specified explicitly with
<code>--domainConfigFile=FILE</code></p>
</div>
<div class="paragraph">
<p>By default, Eclipse GlassFish Embedded is started with the following configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP listener enabled on port 8080</p>
</li>
<li>
<p>HTTPS listener disabled</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It&#8217;s also possible to start {Eclipse GlassFish on command line with an alternative way, via the main class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>    java -cp glassfish-embedded.jar org.glassfish.runnablejar.UberMain</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nnote that this way of starting will require some <code>--add-opens</code> and <code>--add-exports</code> Java arguments)</p>
</div>
<div class="sect2">
<h3 id="examples-of-running-embedded-eclipse-glassfish-from-command-line"><a class="anchor" href="#examples-of-running-embedded-eclipse-glassfish-from-command-line"></a>Examples of Running Embedded Eclipse GlassFish from Command Line</h3>
<div class="sect3">
<h4 id="example-1-run-an-application-from-command-line"><a class="anchor" href="#example-1-run-an-application-from-command-line"></a>Example 1: Run an application from command line</h4>
<div class="paragraph">
<p>On port 8080 and root context by default:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar glassfish-embedded.jar app.war</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="example-2-run-an-app-on-a-different-port"><a class="anchor" href="#example-2-run-an-app-on-a-different-port"></a>Example 2: Run an app on a different port</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar glassfish-embedded.jar --httpPort=8090 app.war</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="example-3-run-custom-commands-on-startup"><a class="anchor" href="#example-3-run-custom-commands-on-startup"></a>Example 3: Run custom commands on startup</h4>
<div class="paragraph">
<p>Deploys an application with a custom root context and prints info about the deployed application. Custom commands need to be enclosed in quotes
if they contain spaces.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar glassfish-embedded.jar &quot;deploy --contextroot=/app app.war&quot; list-applications</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="example-4-run-2-applications-from-command-line"><a class="anchor" href="#example-4-run-2-applications-from-command-line"></a>Example 4: Run 2 applications from command line</h4>
<div class="paragraph">
<p>Deploys applications on different context roots, based on the file name
or info in the application descriptors.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar glassfish-embedded-all.jar app1.war app2.war</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="command-line-arguments-supported-by-embedded-eclipse-glassfish"><a class="anchor" href="#command-line-arguments-supported-by-embedded-eclipse-glassfish"></a>Command-line Arguments Supported by Embedded Eclipse GlassFish</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar glassfish-embedded-all.jar [--properties=FILE]
    [-p=PORT, --httpPort=PORT, --port=PORT] [--httpsPort=PORT_NUMBER]
    [--domainConfigFile=FILE]
    [--domainDir=DIRECTORY, --instanceRoot=DIRECTORY]
    [--noListener, --noPort] [--autoDeployDir=DIRECTORY] [--logLevel=LEVEL]
    [--logProperties=FILE] [--noInfo] [--shut-down, --shutdown, --stop]
    [--help] [applications or admin commands...]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>--properties=FILE</code></p>
</div>
<div class="paragraph">
<p>Load properties from a file. This option can be repeated to
load properties from multiple files. The propertes in the file can be
any of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Any properties supported by Embedded $Eclipse GlassFish. See <a href="#supported-properties">Configuration properties supported by Embedded Eclipse GlassFish</a>.</p>
</li>
<li>
<p>Any command line options with the name of the option as the key,
without the initial hyphens, and the value of the option as the value.</p>
</li>
<li>
<p>Keys that start with the "command." prefix, followed by any text.
The value will be treated as a command to execute at startup.</p>
</li>
<li>
<p>Keys that start with the "deploy." prefix, followed by any text. The
value will be treated as an application to deploy at startup, as if it
was specified on the command line.
For example, the $Eclipse GlassFish domain directory can be specified with the
usual Embedded $Eclipse GlassFish property
"glassfish.embedded.tmpdir=myDomainDir", as well as with the property
"domainDir=myDomainDir" that represents the "--domainDir=myDomainDir"
command-line option. A command to deploy an application can be specified
via a property key "command.deploy.app=deploy --contextroot=app
myapp.war". An application to deploy at startup with the default deploy
behavior can be specified via a property key "deploy.app=myapp.war". The
property "properties" can also be defined in this file, pointing to
another file. In that case, properties will be loaded also from that
file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>-p=PORT, --httpPort=PORT, --port=PORT</code></p>
</div>
<div class="paragraph">
<p>Bind the HTTP listener to the specified port. If not set, the HTTP
listener binds to port 8080 by default, unless it&#8217;s disabled by the
--noListener argument.</p>
</div>
<div class="paragraph">
<p><code>--httpsPort=PORT_NUMBER</code></p>
</div>
<div class="paragraph">
<p>Bind the HTTPS listener to the specified port. If not set, the HTTPS
listener is disabled by default.</p>
</div>
<div class="paragraph">
<p><code>--domainConfigFile=FILE</code></p>
</div>
<div class="paragraph">
<p>Set the location of domain configuration file (i.e., domain.xml) using
which Embedded Eclipse GlassFish should run.</p>
</div>
<div class="paragraph">
<p><code>--domainDir=DIRECTORY, --instanceRoot=DIRECTORY</code></p>
</div>
<div class="paragraph">
<p>Set the instance root (a.k.a. domain dir) using which Embedded Eclipse GlassFish  should
run.</p>
</div>
<div class="paragraph">
<p><code>--noListener, `--noPort</code></p>
</div>
<div class="paragraph">
<p>Disable the HTTP listener, which is by default enabled and bound to
port 8080.</p>
</div>
<div class="paragraph">
<p><code>--autoDeployDir=DIRECTORY</code></p>
</div>
<div class="paragraph">
<p>Files and directories in this directory will be deployed as
applications (in random order), as if they were specified on the command
line. The default directory name is 'autodeploy'.</p>
</div>
<div class="paragraph">
<p><code>--logLevel=LEVEL</code></p>
</div>
<div class="paragraph">
<p>Set the log level of all loggers to LEVEL</p>
</div>
<div class="paragraph">
<p><code>--logProperties=FILE</code></p>
</div>
<div class="paragraph">
<p>Set logging properties from file FILE</p>
</div>
<div class="paragraph">
<p><code>--noInfo</code></p>
</div>
<div class="paragraph">
<p>Disable printing information about deployed applications after startup</p>
</div>
<div class="paragraph">
<p><code>--shut-down, --shutdown, --stop</code></p>
</div>
<div class="paragraph">
<p>Shut down GlassFish and the whole JVM process after server is started
and initialized. This is useful to start the server, perform some action
during startup (e.g. during application deployment), and shut down the
application cleanly. Also useful for Class Data Sharing and similar
startup optimizations - to start the server, get it to a ready state
(applications deployed, etc.), and then shut down cleanly, so that the
JVM can store the cached data.</p>
</div>
<div class="paragraph">
<p><code>--prompt</code></p>
</div>
<div class="paragraph">
<p>Run interactive prompt that allows running admin commands. This is useful in development to manipulate a running GlassFish instance. After exiting the prompt, the server shuts down.</p>
</div>
<div class="paragraph">
<p><code>--help</code></p>
</div>
<div class="paragraph">
<p>Print help information</p>
</div>
<hr>
<div class="paragraph">
<p>Any argument that doesn&#8217;t start with a hyphen (-), is treated as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If it&#8217;s a file or directory, it&#8217;s deployed at startup as an application. If it&#8217;s
the only application deployed at startup, it&#8217;s deployed under the root context '/'.
Otherwise it&#8217;s deployed under the context root derived from the name of the file
or deployment descriptors.</p>
</li>
<li>
<p>In all other cases, the argument is executed as a Eclipse GlassFish  admin command.
Individual commands must be enclosed in quotes if they contain spaces. Eclipse GlassFish
admin commands are the same commands supported by Eclipse GlassFish Server&#8217;s "asadmin"
command line tool or by the "CommandRunner" Java class in the Eclipse GlassFish Simple Public API.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="including-the-glassfish-server-embedded-server-api-in-applications"><a class="anchor" href="#including-the-glassfish-server-embedded-server-api-in-applications"></a>Including the Eclipse GlassFish Embedded Server API in Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Eclipse GlassFish provides an application programming
interface (API) for developing applications in which Eclipse GlassFish is
embedded. For details, see the <code>org.glassfish.embeddable</code> packages at
<code><a href="https://www.javadoc.io/doc/org.glassfish.main.common/simple-glassfish-api/latest/index.html" class="bare">https://www.javadoc.io/doc/org.glassfish.main.common/simple-glassfish-api/latest/index.html</a></code>.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#setting-the-class-path">Setting the Class Path</a></p>
</li>
<li>
<p><a href="#creating-starting-and-stopping-embedded-glassfish-server">Creating, Starting, and Stopping Embedded Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#deploying-and-undeploying-an-application-in-an-embedded-glassfish-server">Deploying and Undeploying an Application in an Embedded
Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#running-asadmin-commands-using-the-glassfish-server-embedded-server-api">Running <code>asadmin</code> Commands Using the Eclipse GlassFish
Embedded Server API</a></p>
</li>
<li>
<p><a href="#sample-applications">Sample Applications</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="setting-the-class-path"><a class="anchor" href="#setting-the-class-path"></a>Setting the Class Path</h3>
<div class="paragraph">
<p>To enable your applications to locate the class libraries for embedded
Eclipse GlassFish, add a JAR file corresponding to one of the <a href="#editions">Embedded Eclipse GlassFish editions</a> to your class path.</p>
</div>
<div class="paragraph">
<p>In addition, add to the class path any other JAR files or classes upon
which your applications depend. For example, if an application uses a
database other than Java DB, include the Java DataBase Connectivity
(JDBC) driver JAR files in the class path.</p>
</div>
</div>
<div class="sect2">
<h3 id="creating-starting-and-stopping-embedded-glassfish-server"><a class="anchor" href="#creating-starting-and-stopping-embedded-glassfish-server"></a>Creating, Starting, and Stopping Embedded Eclipse GlassFish</h3>
<div class="paragraph">
<p>Before you can run applications, you must set up and run the embedded
Eclipse GlassFish.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#creating-and-configuring-an-embedded-glassfish-server">Creating and Configuring an Embedded Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#running-an-embedded-glassfish-server">Running an Embedded Eclipse GlassFish</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="creating-and-configuring-an-embedded-glassfish-server"><a class="anchor" href="#creating-and-configuring-an-embedded-glassfish-server"></a>Creating and Configuring an Embedded Eclipse GlassFish</h4>
<div class="paragraph">
<p>To create and configure an embedded Eclipse GlassFish, perform these
tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Instantiate the <code>org.glassfish.embeddable.BootstrapProperties</code>
class.</p>
</li>
<li>
<p>Invoke any methods for configuration settings that you require. This
is optional.</p>
</li>
<li>
<p>Invoke the <code>GlassFishRuntime.bootstrap()</code> or
<code>GlassFishRuntime.bootstrap(BootstrapProperties)</code> method to create a
<code>GlassFishRuntime</code> object.</p>
</li>
<li>
<p>Instantiate the <code>org.glassfish.embeddable.GlassFishProperties</code>
class.</p>
</li>
<li>
<p>Invoke any methods for configuration settings that you require. This
is optional.</p>
</li>
<li>
<p>Invoke the <code>glassfishRuntime.newGlassFish(GlassFishProperties)</code>
method to create a <code>GlassFish</code> object.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The methods of the <code>BootstrapProperties</code> class for setting the server
configuration are listed in the following table. The default value of
each configuration setting is also listed.</p>
</div>
<div id="gksir" class="paragraph">
<p>Table 1-1 Methods of the <code>BootstrapProperties</code> Class</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 29%;">
<col style="width: 33%;">
<col style="width: 38%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">References an existing <a href="#installation-root-directory">Installation Root Directory</a>, also called as-install</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>setInstallRoot(String as-install)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None. If <code>glassfish-embedded-static-shell.jar</code> is used, the
<a href="#installation-root-directory">Installation Root Directory</a> is automatically determined and
need not be specified.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The methods of the <code>GlassFishProperties</code> class for setting the server
configuration are listed in the following table. The default value of
each configuration setting is also listed.</p>
</div>
<div id="gkskl" class="paragraph">
<p>Table 1-2 Methods of the <code>GlassFishProperties</code> Class</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 24%;">
<col style="width: 37%;">
<col style="width: 39%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">References an existing <a href="#instance-root-directory">Instance Root Directory</a>, also
called domain-dir</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>setInstanceRoot(String domain-dir)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In order of precedence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>glassfish.embedded.tmpdir</code> property value specified in <code>GlassFishProperties</code> object</p>
</li>
<li>
<p><code>glassfish.embedded.tmpdir</code> system property value</p>
</li>
<li>
<p><code>java.io.tmpdir</code> system property value</p>
</li>
<li>
<p>as-install<code>/domains/domain1</code> if a nonembedded installation is referenced</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a new or references an existing configuration file</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>setConfigFileURI(String configFileURI)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In order of precedence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>domain-dir<code>/config/domain.xml</code> if domain-dir was set using <code>setInstanceRoot</code></p>
</li>
<li>
<p>built-in embedded <code>domain.xml</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies whether the configuration file is read-only</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>setConfigFileReadOnly(boolean readOnly)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets the port on which Embedded Eclipse GlassFish listens.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>setPort</code>(String networkListener, int port)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do not use <code>setPort</code> if you are using <code>setInstanceRoot</code> or <code>setConfigFileURI</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="gikmz" class="paragraph">
<p>Example 1-1 Creating an Embedded Eclipse GlassFish</p>
</div>
<div class="paragraph">
<p>This example shows code for creating an Embedded Eclipse GlassFish.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import org.glassfish.embeddable.*;
...
    GlassFish glassfish = GlassFishRuntime.bootstrap().newGlassFish();
    glassfish.start();
...</code></pre>
</div>
</div>
<div id="gksjo" class="paragraph">
<p>Example 1-2 Creating an Embedded Eclipse GlassFish with configuration
customizations</p>
</div>
<div class="paragraph">
<p>This example shows code for creating an Embedded Eclipse GlassFish using
the existing domain-dir
<code>C:\samples\test\applicationserver\domains\domain1</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// ...</span>
<span class="keyword">import</span> <span class="include">org.glassfish.embeddable</span>.*;
    <span class="comment">// ...</span>
    BootstrapProperties bootstrapProperties = <span class="keyword">new</span> BootstrapProperties();
    bootstrapProperties.setInstallRoot(<span class="string"><span class="delimiter">&quot;</span><span class="content">C:</span><span class="char">\\</span><span class="content">samples</span><span class="char">\\</span><span class="content">test</span><span class="char">\\</span><span class="content">applicationserver</span><span class="delimiter">&quot;</span></span>);
    GlassFishRuntime glassfishRuntime = GlassFishRuntime.bootstrap(bootstrapProperties);

    GlassFishProperties glassfishProperties = <span class="keyword">new</span> GlassFishProperties();
    glassfishProperties.setInstanceRoot(<span class="string"><span class="delimiter">&quot;</span><span class="content">C:</span><span class="char">\\</span><span class="content">samples</span><span class="char">\\</span><span class="content">test</span><span class="char">\\</span><span class="content">applicationserver</span><span class="char">\\</span><span class="content">domains</span><span class="char">\\</span><span class="content">domain1</span><span class="delimiter">&quot;</span></span>);
    GlassFish glassfish = glassfishRuntime.newGlassFish(glassfishProperties);

    glassfish.start();
    <span class="comment">// ...</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="supported-properties"><a class="anchor" href="#supported-properties"></a>Configuration properties supported by Embedded Eclipse GlassFish</h4>
<div class="paragraph">
<p>In <code>GlassFishProperties</code> and in a properties file, Embedded Eclipse GlassFish supports the same configuration properties as the <code>set</code> and <code>get</code> administration commands of the Eclipse GlassFish Server.</p>
</div>
<div class="paragraph">
<p>In addition, it also accepts properties with the <code>embedded-glassfish-config.</code> prefix. This prefix is removed before applying the property (e.g., <code>resources.jdbc-connection-pool&#8230;&#8203;</code> can be defined as <code>embedded-glassfish-config.resources.jdbc-connection-pool&#8230;&#8203;</code>). This prefix is no longer necessary and its usage is deprecated, but it&#8217;s supported for backwards compatibility.</p>
</div>
</div>
<div class="sect3">
<h4 id="running-an-embedded-glassfish-server"><a class="anchor" href="#running-an-embedded-glassfish-server"></a>Running Embedded Eclipse GlassFish from a Java application</h4>
<div class="paragraph">
<p>After you create an embedded Eclipse GlassFish server as described in
<a href="#creating-and-configuring-an-embedded-glassfish-server">Creating and Configuring an Embedded Eclipse GlassFish</a>, you
can perform operations such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#setting-the-port-of-an-embedded-glassfish-server-from-an-application">Setting the Port of an Embedded Eclipse GlassFish From an Application</a></p>
</li>
<li>
<p><a href="#starting-an-embedded-glassfish-server-from-an-application">Starting an Embedded Eclipse GlassFish From an Application</a></p>
</li>
<li>
<p><a href="#stopping-an-embedded-glassfish-server-from-an-application">Stopping an Embedded Eclipse GlassFish From an Application</a></p>
</li>
</ul>
</div>
<div id="setting-the-port-of-an-embedded-glassfish-server-from-an-application" class="paragraph">
<p>Setting the Port of an Embedded Eclipse GlassFish From an Application</p>
</div>
<div class="paragraph">
<p>You must set the server&#8217;s HTTP or HTTPS port. If you do not set the
port, your application fails to start and throws an exception. You can
set the port directly or indirectly.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do not use <code>setPort</code> if you are using <code>setInstanceRoot</code> or
<code>setConfigFileURI</code>. These methods set the port indirectly.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>To set the port directly, invoke the <code>setPort</code> method of the
<code>GlassFishProperties</code> object.</p>
</li>
<li>
<p>To set the port indirectly, use a <code>domain.xml</code> file that sets the
port. For more information, see <a href="#GSESG00056">The <code>domain.xml</code> File</a>.</p>
</li>
</ul>
</div>
<div id="gjkxc" class="paragraph">
<p>Example 1-3 Setting the port of an Embedded Eclipse GlassFish</p>
</div>
<div class="paragraph">
<p>This example shows code for setting the port of an embedded Eclipse GlassFish.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import org.glassfish.embeddable.*;
...
    GlassFishProperties glassfishProperties = <span class="keyword">new</span> GlassFishProperties();
    glassfishProperties.setPort(<span class="string"><span class="delimiter">&quot;</span><span class="content">http-listener</span><span class="delimiter">&quot;</span></span>, <span class="integer">8080</span>);
    glassfishProperties.setPort(<span class="string"><span class="delimiter">&quot;</span><span class="content">https-listener</span><span class="delimiter">&quot;</span></span>, <span class="integer">8181</span>);
...</code></pre>
</div>
</div>
<div id="starting-an-embedded-glassfish-server-from-an-application" class="paragraph">
<p>Starting an Embedded Eclipse GlassFish From an Application</p>
</div>
<div class="paragraph">
<p>To start an embedded Eclipse GlassFish, invoke the <code>start</code> method of the <code>GlassFish</code> object.</p>
</div>
<div id="gilry" class="paragraph">
<p>Example 1-4 Starting an Embedded Eclipse GlassFish</p>
</div>
<div class="paragraph">
<p>This example shows code for setting the port and starting an embedded
Eclipse GlassFish. This example also includes the code from
<a href="#gikmz">Example 1-1</a> for creating a <code>GlassFish</code> object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import org.glassfish.embeddable.*;
...
    GlassFishProperties glassfishProperties = <span class="keyword">new</span> GlassFishProperties();
    glassfishProperties.setPort(<span class="string"><span class="delimiter">&quot;</span><span class="content">http-listener</span><span class="delimiter">&quot;</span></span>, <span class="integer">8080</span>);
    glassfishProperties.setPort(<span class="string"><span class="delimiter">&quot;</span><span class="content">https-listener</span><span class="delimiter">&quot;</span></span>, <span class="integer">8181</span>);
    ...
    GlassFish glassfish = GlassFishRuntime.bootstrap().newGlassFish(glassfishProperties);
    glassfish.start();
...</code></pre>
</div>
</div>
<div id="stopping-an-embedded-glassfish-server-from-an-application" class="paragraph">
<p>Stopping an Embedded Eclipse GlassFish From an Application</p>
</div>
<div class="paragraph">
<p>The API for embedded Eclipse GlassFish provides a method for stopping an
embedded server. Using this method enables your application to stop the
server in an orderly fashion by performing any necessary cleanup steps
before stopping the server, for example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Undeploying deployed applications</p>
</li>
<li>
<p>Releasing any resources that your application uses</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To stop an embedded Eclipse GlassFish, invoke the <code>stop</code> method of an
existing <code>GlassFish</code> object.</p>
</div>
<div id="gilnz" class="paragraph">
<p>Example 1-5 Stopping an Embedded Eclipse GlassFish</p>
</div>
<div class="paragraph">
<p>This example shows code for prompting the user to press the Enter key to
stop an embedded Eclipse GlassFish. Code for creating a <code>GlassFish</code>
object is not shown in this example. For an example of code for creating
a <code>GlassFish</code> object, see <a href="#gikmz">Example 1-1</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import java.io.BufferedReader;
...
import org.glassfish.embeddable.*;
...
    System.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Press Enter to stop server</span><span class="delimiter">&quot;</span></span>);
        <span class="comment">// wait for Enter</span>
    glassfish.stop(); <span class="comment">// Stop Embedded GlassFish</span>
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>As an alternative, you can use the <code>dispose</code> method to stop an embedded
Eclipse GlassFish and dispose of the temporary file system.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deploying-and-undeploying-an-application-in-an-embedded-glassfish-server"><a class="anchor" href="#deploying-and-undeploying-an-application-in-an-embedded-glassfish-server"></a>Deploying and Undeploying an Application in an Embedded Eclipse GlassFish</h3>
<div class="paragraph">
<p>Deploying an application installs the files that comprise the
application into Embedded Eclipse GlassFish and makes the application
ready to run. By default, an application is enabled when it is deployed.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#to-deploy-an-application-from-an-archive-file-or-a-directory">To Deploy an Application From an Archive File or a Directory</a></p>
</li>
<li>
<p><a href="#undeploying-an-application">Undeploying an Application</a></p>
</li>
<li>
<p><a href="#creating-a-scattered-archive">Creating a Scattered Archive</a></p>
</li>
<li>
<p><a href="#creating-a-scattered-enterprise-archive">Creating a Scattered Enterprise Archive</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For general information about deploying applications in Eclipse GlassFish, see the <a href="application-deployment-guide.html#GSDPG">Eclipse GlassFish
Application Deployment Guide</a>.</p>
</div>
<div class="sect3">
<h4 id="to-deploy-an-application-from-an-archive-file-or-a-directory"><a class="anchor" href="#to-deploy-an-application-from-an-archive-file-or-a-directory"></a>To Deploy an Application From an Archive File or a Directory</h4>
<div class="paragraph">
<p>An archive file contains the resources, deployment descriptor, and
classes of an application. The content of the file must be organized in
the directory structure that the Jakarta EE specifications define for the
type of archive that the file contains. For more information, see
"<a href="application-deployment-guide.html#deploying-applications">Deploying Applications</a>" in Eclipse GlassFish Application Deployment Guide.</p>
</div>
<div class="paragraph">
<p>Deploying an application from a directory enables you to deploy an
application without the need to package the application in an archive
file. The contents of the directory must match the contents of the
expanded Jakarta EE archive file as laid out by the Eclipse GlassFish. The
directory must be accessible to the machine on which the deploying
application runs. For more information about the requirements for
deploying an application from a directory, see "<a href="application-deployment-guide.html#to-deploy-an-application-or-module-in-a-directory-format">To
Deploy an Application or Module in a Directory Format</a>" in Eclipse GlassFish Application Deployment Guide.</p>
</div>
<div class="paragraph">
<p>If some of the resources needed by an application are not under the
application&#8217;s directory, see <a href="#creating-a-scattered-archive">Creating a Scattered Archive</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Instantiate the <code>java.io.File</code> class to represent the archive file or directory.</p>
</li>
<li>
<p>Invoke the <code>getDeployer</code> method of the <code>GlassFish</code> object to get an
instance of the <code>org.glassfish.embeddable.Deployer</code> class.</p>
</li>
<li>
<p>Invoke the <code>deploy(File archive, String&#8230;&#8203; params)</code> method of the
instance of the <code>Deployer</code> object.<br>
Specify the <code>java.io.File</code> class instance you created previously as the
first method parameter.<br>
For information about optional parameters you can set, see the
descriptions of the
<a href="reference-manual.html#deploy"><code>deploy</code>(1)</a> subcommand parameters.
Simply quote each parameter in the method, for example <code>"--force=true"</code>.</p>
</li>
</ol>
</div>
<div id="gioph" class="paragraph">
<p>Example 1-6 Deploying an Application From an Archive File</p>
</div>
<div class="paragraph">
<p>This example shows code for deploying an application from the archive
file <code>c:\samples\simple.war</code> and setting the name, contextroot, and
force parameters. This example also includes the code from
<a href="#gikmz">Example 1-1</a> for creating <code>GlassFishProperties</code> and
<code>GlassFish</code> objects.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import java.io.File;
...
import org.glassfish.embeddable.*;
...
    GlassFishProperties glassfishProperties = <span class="keyword">new</span> GlassFishProperties();
    glassfishProperties.setPort(<span class="string"><span class="delimiter">&quot;</span><span class="content">http-listener</span><span class="delimiter">&quot;</span></span>, <span class="integer">8080</span>);
    glassfishProperties.setPort(<span class="string"><span class="delimiter">&quot;</span><span class="content">https-listener</span><span class="delimiter">&quot;</span></span>, <span class="integer">8181</span>);
    ...
    GlassFish glassfish = GlassFishRuntime.bootstrap().newGlassFish(glassfishProperties);
    glassfish.start();
    <span class="predefined-type">File</span> war = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">c:</span><span class="char">\\</span><span class="content">samples</span><span class="char">\\</span><span class="content">simple.war</span><span class="delimiter">&quot;</span></span>);
    Deployer deployer = glassfish.getDeployer();
    deployer.deploy(war, <span class="string"><span class="delimiter">&quot;</span><span class="content">--name=simple</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">--contextroot=simple</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">--force=true</span><span class="delimiter">&quot;</span></span>);
    <span class="comment">// deployer.deploy(war) can be invoked instead. Other parameters are optional.</span>
...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="undeploying-an-application"><a class="anchor" href="#undeploying-an-application"></a>Undeploying an Application</h4>
<div class="paragraph">
<p>Undeploy an application when the application is no longer required to
run in Eclipse GlassFish. For example, before stopping Eclipse GlassFish,
undeploy all applications that are running in Eclipse GlassFish.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you reference a nonembedded Eclipse GlassFish installation using the
<code>glassfish-embedded-static-shell.jar</code> file and do not undeploy your
applications in the same server life cycle in which you deployed them,
expanded archives for these applications remain under the
domain-dir<code>/applications</code> directory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To undeploy an application, invoke the <code>undeploy</code> method of an existing
<code>Deployer</code> object. In the method invocation, pass the name of the
application as a parameter. This name is specified when the application
is deployed.</p>
</div>
<div class="paragraph">
<p>For information about optional parameters you can set, see the
descriptions of the
<a href="reference-manual.html#deploy"><code>deploy</code>(1)</a> command parameters.
Simply quote each parameter in the method, for example
<code>"--cascade=true"</code>.</p>
</div>
<div class="paragraph">
<p>To undeploy all deployed applications, invoke the <code>undeployAll</code> method
of an existing <code>EmbeddedDeployer</code> object. This method takes no
parameters.</p>
</div>
<div id="gilwu" class="paragraph">
<p>Example 1-7 Undeploying an Application</p>
</div>
<div class="paragraph">
<p>This example shows code for undeploying the application that was
deployed in <a href="#gioph">Example 1-6</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import org.glassfish.embeddable.*;
...
    deployer.undeploy(war, <span class="string"><span class="delimiter">&quot;</span><span class="content">--droptables=true</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">--cascade=true</span><span class="delimiter">&quot;</span></span>);
...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-a-scattered-archive"><a class="anchor" href="#creating-a-scattered-archive"></a>Creating a Scattered Archive</h4>
<div class="paragraph">
<p>Deploying a module from a scattered archive (WAR or JAR) enables you to
deploy an unpackaged module whose resources, deployment descriptor, and
classes are in any location. Deploying a module from a scattered archive
simplifies the testing of a module during development, especially if all
the items that the module requires are not available to be packaged.</p>
</div>
<div class="paragraph">
<p>In a scattered archive, these items are not required to be organized in
a specific directory structure. Therefore, you must specify the location
of the module&#8217;s resources, deployment descriptor, and classes when
deploying the module.</p>
</div>
<div class="paragraph">
<p>To create a scattered archive, perform these tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Instantiate the <code>org.glassfish.embeddable.archive.ScatteredArchive</code> class.</p>
</li>
<li>
<p>Invoke the <code>addClassPath</code> and <code>addMetadata</code> methods if you require them.</p>
</li>
<li>
<p>Invoke the <code>toURI</code> method to deploy the scattered archive.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The methods of this class for setting the scattered archive
configuration are listed in the following table. The default value of
each configuration setting is also listed.</p>
</div>
<div id="gjrdg" class="paragraph">
<p>Table 1-3 Constructors and Methods of the <code>ScatteredArchive</code> Class</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 52%;">
<col style="width: 38%;">
<col style="width: 10%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates and names a scattered archive</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ScatteredArchive(<span class="predefined-type">String</span> name, ScatteredArchive.Type type)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates and names a scattered archive based on a top-level directory.
If the entire module is organized under the topDir, this is the only
method necessary. The topDir can be null if other methods specify the
remaining parts of the module.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ScatteredArchive(<span class="predefined-type">String</span> name, ScatteredArchive.Type type, <span class="predefined-type">File</span> topDir)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a directory to the classes classpath</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addClassPath(<span class="predefined-type">File</span> path)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a metadata locator</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addMetaData(<span class="predefined-type">File</span> path)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds and names a metadata locator</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addMetaData(<span class="predefined-type">File</span> path, <span class="predefined-type">String</span> name)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets the deployable URI for this scattered archive</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">toURI()</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
</tbody>
</table>
<div id="gjrfq" class="paragraph">
<p>Example 1-8 Deploying an Application From a Scattered Archive</p>
</div>
<div class="paragraph">
<p>This example shows code for creating a WAR file and using the
<code>addClassPath</code> and <code>addMetadata</code> methods. This example also includes the
code from <a href="#gioph">Example 1-6</a> for deploying an application from an archive file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import java.io.File;
...
import org.glassfish.embeddable.*;
...
    GlassFishProperties glassfishProperties = <span class="keyword">new</span> GlassFishProperties();
    glassfishProperties.setPort(<span class="string"><span class="delimiter">&quot;</span><span class="content">http-listener</span><span class="delimiter">&quot;</span></span>, <span class="integer">9090</span>);
    GlassFish glassfish = GlassFishRuntime.bootstrap().newGlassFish(glassfishProperties);
    glassfish.start();
    Deployer deployer = glassfish.getDeployer();
    ScatteredArchive archive = <span class="keyword">new</span> ScatteredArchive(<span class="string"><span class="delimiter">&quot;</span><span class="content">testapp</span><span class="delimiter">&quot;</span></span>, ScatteredArchive.Type.WAR);
    <span class="comment">// target/classes directory contains complied servlets</span>
    archive.addClassPath(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">classes</span><span class="delimiter">&quot;</span></span>));
    <span class="comment">// resources/sun-web.xml is the WEB-INF/sun-web.xml</span>
    archive.addMetadata(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">resources</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">sun-web.xml</span><span class="delimiter">&quot;</span></span>));
    <span class="comment">// resources/web.xml is the WEB-INF/web.xml</span>
    archive.addMetadata(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">resources</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">web.xml</span><span class="delimiter">&quot;</span></span>));
    <span class="comment">// Deploy the scattered web archive.</span>
    <span class="predefined-type">String</span> appName = deployer.deploy(archive.toURI(), <span class="string"><span class="delimiter">&quot;</span><span class="content">--contextroot=hello</span><span class="delimiter">&quot;</span></span>);

    deployer.undeploy(appName);
    glassfish.stop();
    glassfish.dispose();
...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-a-scattered-enterprise-archive"><a class="anchor" href="#creating-a-scattered-enterprise-archive"></a>Creating a Scattered Enterprise Archive</h4>
<div class="paragraph">
<p>Deploying an application from a scattered enterprise archive (EAR)
enables you to deploy an unpackaged application whose resources,
deployment descriptor, and classes are in any location. Deploying an
application from a scattered archive simplifies the testing of an
application during development, especially if all the items that the
application requires are not available to be packaged.</p>
</div>
<div class="paragraph">
<p>In a scattered archive, these items are not required to be organized in
a specific directory structure. Therefore, you must specify the location
of the application&#8217;s resources, deployment descriptor, and classes when
deploying the application.</p>
</div>
<div class="paragraph">
<p>To create a scattered enterprise archive, perform these tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Instantiate the
<code>org.glassfish.embeddable.archive.ScatteredEnterpriseArchive</code> class.</p>
</li>
<li>
<p>Invoke the <code>addArchive</code> and <code>addMetadata</code> methods if you require
them.</p>
</li>
<li>
<p>Invoke the <code>toURI</code> method to deploy the scattered enterprise
archive.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The methods of this class for setting the scattered enterprise archive
configuration are listed in the following table. The default value of
each configuration setting is also listed.</p>
</div>
<div id="gkvgb" class="paragraph">
<p>Table 1-4 Constructors and Methods of the <code>ScatteredEnterpriseArchive</code> Class</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 42%;">
<col style="width: 48%;">
<col style="width: 10%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Purpose</th>
<th class="tableblock halign-left valign-top">Method</th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates and names a scattered enterprise archive</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ScatteredEnterpriseArchive(<span class="predefined-type">String</span> name)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a module or library</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addArchive(<span class="predefined-type">File</span> archive)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a module or library</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addArchive(<span class="predefined-type">File</span> archive, <span class="predefined-type">String</span> name)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a module or library</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addArchive(<span class="predefined-type">URI</span> <span class="predefined-type">URI</span>)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a module or library</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addArchive(<span class="predefined-type">URI</span> <span class="predefined-type">URI</span>, <span class="predefined-type">String</span> name)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds a metadata locator</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addMetaData(<span class="predefined-type">File</span> path)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds and names a metadata locator</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">addMetaData(<span class="predefined-type">File</span> path, <span class="predefined-type">String</span> name)</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets the deployable URI for this scattered archive</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">toURI()</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
</tbody>
</table>
<div id="gkvga" class="paragraph">
<p>Example 1-9 Deploying an Application From a Scattered Enterprise Archive</p>
</div>
<div class="paragraph">
<p>This example shows code for creating an EAR file and using the
<code>addArchive</code> and <code>addMetadata</code> methods. This example also includes code
similar to<a href="#gjrfq">Example 1-8</a> for creating a scattered archive.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import java.io.File;
...
import org.glassfish.embeddable.*;
...
    GlassFishProperties glassfishProperties = <span class="keyword">new</span> GlassFishProperties();
    glassfishProperties.setPort(<span class="string"><span class="delimiter">&quot;</span><span class="content">http-listener</span><span class="delimiter">&quot;</span></span>, <span class="integer">9090</span>);
    GlassFish glassfish = GlassFishRuntime.bootstrap().newGlassFish(glassfishProperties);
    glassfish.start();
    Deployer deployer = glassfish.getDeployer();

    <span class="comment">// Create a scattered web application.</span>
    ScatteredArchive webmodule = <span class="keyword">new</span> ScatteredArchive(<span class="string"><span class="delimiter">&quot;</span><span class="content">testweb</span><span class="delimiter">&quot;</span></span>, ScatteredArchive.Type.WAR);
    <span class="comment">// target/classes directory contains my complied servlets</span>
    webmodule.addClassPath(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">classes</span><span class="delimiter">&quot;</span></span>));
    <span class="comment">// resources/sun-web.xml is my WEB-INF/sun-web.xml</span>
    webmodule.addMetadata(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">resources</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">sun-web.xml</span><span class="delimiter">&quot;</span></span>));

    <span class="comment">// Create a scattered enterprise archive.</span>
    ScatteredEnterpriseArchive archive = <span class="keyword">new</span> ScatteredEnterpriseArchive(<span class="string"><span class="delimiter">&quot;</span><span class="content">testapp</span><span class="delimiter">&quot;</span></span>);
    <span class="comment">// src/application.xml is my META-INF/application.xml</span>
    archive.addMetadata(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">src</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">application.xml</span><span class="delimiter">&quot;</span></span>));
    <span class="comment">// Add scattered web module to the scattered enterprise archive.</span>
    <span class="comment">// src/application.xml references Web module as &quot;scattered.war&quot;.</span>
    <span class="comment">//Hence specify the name while adding the archive.</span>
    archive.addArchive(webmodule.toURI(), <span class="string"><span class="delimiter">&quot;</span><span class="content">scattered.war</span><span class="delimiter">&quot;</span></span>);
    <span class="comment">// lib/mylibrary.jar is a library JAR file.</span>
    archive.addArchive(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">lib</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">mylibrary.jar</span><span class="delimiter">&quot;</span></span>));
    <span class="comment">// target/ejbclasses contain my compiled EJB module.</span>
    <span class="comment">// src/application.xml references EJB module as &quot;ejb.jar&quot;.</span>
    <span class="comment">//Hence specify the name while adding the archive.</span>
    archive.addArchive(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">ejbclasses</span><span class="delimiter">&quot;</span></span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">ejb.jar</span><span class="delimiter">&quot;</span></span>);

    <span class="comment">// Deploy the scattered enterprise archive.</span>
    <span class="predefined-type">String</span> appName = deployer.deploy(archive.toURI());

    deployer.undeploy(appName);
    glassfish.stop();
    glassfish.dispose();
...</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-asadmin-commands-using-the-glassfish-server-embedded-server-api"><a class="anchor" href="#running-asadmin-commands-using-the-glassfish-server-embedded-server-api"></a>Running <code>asadmin</code> Commands Using the Eclipse GlassFish Embedded API</h3>
<div class="paragraph">
<p>Running <a href="reference-manual.html#asadmin"><code>asadmin</code></a> commands from an application enables
the application to configure the embedded Eclipse GlassFish to suit the
application&#8217;s requirements. For example, an application can run the
required <code>asadmin</code> commands to create a JDBC technology connection to a
database.</p>
</div>
<div class="paragraph">
<p>For more information about configuring embedded Eclipse GlassFish, see
the <a href="administration-guide.html#GSADG">Eclipse GlassFish Administration
Guide</a>. For detailed information about <code>asadmin</code> commands, see Section 1
of the <a href="reference-manual.html#GSRFM">Eclipse GlassFish Reference
Manual</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure that your application has started an embedded Eclipse GlassFish
before the application attempts to run <code>asadmin</code> commands. For more
information, see <a href="#running-an-embedded-glassfish-server">Running an Embedded Eclipse GlassFish</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>org.glassfish.embeddable</code> package contains classes that you can use
to run <code>asadmin</code> commands. Use the following code examples as templates
and change the command name, parameter names, and parameter values as
needed.</p>
</div>
<div id="gjldj" class="paragraph">
<p>Example 1-10 Running an <code>asadmin create-jdbc-resource</code> Command</p>
</div>
<div class="paragraph">
<p>This example shows code for running an <code>asadmin create-jdbc-resource</code>
command. Code for creating and starting the server is not shown in this
example. For an example of code for creating and starting the server,
see <a href="#gilry">Example 1-4</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import org.glassfish.embeddable.*;
...
    String command = <span class="string"><span class="delimiter">&quot;</span><span class="content">create-jdbc-resource</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> poolid = <span class="string"><span class="delimiter">&quot;</span><span class="content">--connectionpoolid=DerbyPool</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> dbname = <span class="string"><span class="delimiter">&quot;</span><span class="content">jdbc/DerbyPool</span><span class="delimiter">&quot;</span></span>;
    CommandRunner commandRunner = glassfish.getCommandRunner();
    CommandResult commandResult = commandRunner.run(command, poolid, dbname);
...</code></pre>
</div>
</div>
<div id="gjlfm" class="paragraph">
<p>Example 1-11 Running an <code>asadmin set-log-level</code> Command</p>
</div>
<div class="paragraph">
<p>This example shows code for running an <code>asadmin set-log-level</code> command.
Code for creating and starting the server is not shown in this example.
For an example of code for creating and starting the server, see
<a href="#gilry">Example 1-4</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">...
import org.glassfish.embeddable.*;
...
    String command = <span class="string"><span class="delimiter">&quot;</span><span class="content">set-log-level</span><span class="delimiter">&quot;</span></span>;
    <span class="predefined-type">String</span> weblevel = <span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.enterprise.system.container.web=FINE</span><span class="delimiter">&quot;</span></span>;
    CommandRunner commandRunner = glassfish.getCommandRunner();
    CommandResult commandResult = commandRunner.run(command, weblevel);
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>For another way to change log levels, see <a href="#changing-log-levels-in-embedded-glassfish-server">Changing Log
Levels in Embedded Eclipse GlassFish</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="sample-applications"><a class="anchor" href="#sample-applications"></a>Sample Applications</h3>
<div id="gionq" class="paragraph">
<p>Example 1-12 Using an Existing <code>domain.xml</code> File and Deploying an
Application From an Archive File</p>
</div>
<div class="paragraph">
<p>This example shows code for the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using the existing file
<code>c:\myapp\embeddedserver\domains\domain1\config\domain.xml</code> and
preserving this file when the application is stopped.</p>
</li>
<li>
<p>Deploying an application from the archive file
<code>c:\samples\simple.war</code>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.io.File</span>;
<span class="keyword">import</span> <span class="include">java.io.BufferedReader</span>;
<span class="keyword">import</span> <span class="include">org.glassfish.embeddable</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">Main</span> {

     <span class="comment">/**
     * @param args the command line arguments
     */</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="predefined-type">File</span> configFile = <span class="keyword">new</span> <span class="predefined-type">File</span> (<span class="string"><span class="delimiter">&quot;</span><span class="content">c:</span><span class="char">\\</span><span class="content">myapp</span><span class="char">\\</span><span class="content">embeddedserver</span><span class="char">\\</span><span class="content">domains</span><span class="char">\\</span><span class="content">domain1</span><span class="char">\\</span><span class="content">config</span><span class="char">\\</span><span class="content">domain.xml</span><span class="delimiter">&quot;</span></span>);
        <span class="predefined-type">File</span> war = <span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">c:</span><span class="char">\\</span><span class="content">samples</span><span class="char">\\</span><span class="content">simple.war</span><span class="delimiter">&quot;</span></span>);
        <span class="keyword">try</span> {
            GlassFishRuntime glassfishRuntime = GlassFishRuntime.bootstrap();
            ...
            GlassFishProperties glassfishProperties = <span class="keyword">new</span> GlassFishProperties();
            glassfishProperties.setConfigFileURI(configFile.toURI());
            glassfishProperties.setConfigFileReadOnly(<span class="predefined-constant">false</span>);
            ...
            GlassFish glassfish = glassfishRuntime.newGlassFish(glassfishProperties);
            glassfish.start();

            Deployer deployer = glassfish.getDeployer();
            deployer.deploy(war, <span class="string"><span class="delimiter">&quot;</span><span class="content">--force=true</span><span class="delimiter">&quot;</span></span>);
        }
        <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
            e.printStackTrace();
        }

        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Press Enter to stop server</span><span class="delimiter">&quot;</span></span>);
        <span class="comment">// wait for Enter</span>
        <span class="keyword">new</span> <span class="predefined-type">BufferedReader</span>(<span class="keyword">new</span> java.io.InputStreamReader(<span class="predefined-type">System</span>.in)).readLine();
        <span class="keyword">try</span> {
            glassfish.dispose();
            glassfishRuntime.shutdown();
        }
        <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
            e.printStackTrace();
        }
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-applications-with-the-maven-plug-in-for-embedded-glassfish-server"><a class="anchor" href="#testing-applications-with-the-maven-plug-in-for-embedded-glassfish-server"></a>Testing Applications with the Maven Plug-in for Embedded Eclipse GlassFish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are using <a href="http://maven.apache.org/">Apache Maven</a>
(<code><a href="http://maven.apache.org/" class="bare">http://maven.apache.org/</a></code>), the plug-in for embedded Eclipse GlassFish
simplifies the testing of applications. This plug-in enables you to
build and start an unpackaged application with a single Maven goal.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#to-set-up-your-maven-environment">To Set Up Your Maven Environment</a></p>
</li>
<li>
<p><a href="#to-build-and-start-an-application-from-maven">To Build and Start an Application From Maven</a></p>
</li>
<li>
<p><a href="#to-stop-embedded-glassfish-server">To Stop Embedded Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#to-redeploy-an-application-that-was-built-and-started-from-maven">To Redeploy an Application That Was Built and Started From Maven</a></p>
</li>
<li>
<p><a href="#maven-goals-for-embedded-glassfish-server">Maven Goals for Embedded Eclipse GlassFish</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Predefined Maven goals for embedded Eclipse GlassFish are described in
<a href="#maven-goals-for-embedded-glassfish-server">Maven Goals for Embedded Eclipse GlassFish</a>.</p>
</div>
<div class="paragraph">
<p>To use Maven with Embedded Eclipse GlassFish and the EJB 3.1 Embeddable
API, see <a href="#GSESG00064">Using Maven with the EJB 3.1 Embeddable API and
Embedded Eclipse GlassFish</a>.</p>
</div>
<div class="sect2">
<h3 id="to-set-up-your-maven-environment"><a class="anchor" href="#to-set-up-your-maven-environment"></a>To Set Up Your Maven Environment</h3>
<div class="paragraph">
<p>Setting up your Maven environment enables Maven to download the required
embedded Eclipse GlassFish distribution file when you build your project.
Setting up your Maven environment also identifies the plug-in that
enables you to build and start an unpackaged application with a single
Maven goal.</p>
</div>
<div class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that <a href="http://maven.apache.org/">Apache Maven</a>
(<code><a href="http://maven.apache.org/" class="bare">http://maven.apache.org/</a></code>) is installed.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Identify the Maven plug-in for embedded Eclipse GlassFish.</p>
<div class="paragraph">
<p>Add the following <code>plugin</code> element to your POM file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">...
        ...
        <span class="tag">&lt;plugins&gt;</span>
            ...
            <span class="tag">&lt;plugin&gt;</span>
                <span class="tag">&lt;groupId&gt;</span>org.glassfish.embedded<span class="tag">&lt;/groupId&gt;</span>
                <span class="tag">&lt;artifactId&gt;</span>embedded-glassfish-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
                <span class="tag">&lt;version&gt;</span>version<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;/plugin&gt;</span>
            ...
        <span class="tag">&lt;/plugins&gt;</span>
...</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">version</dt>
<dd>
<p>The version to use. The version of the final promoted build for this
release is <code>7.0</code>. The Maven plug-in is not bound to a specific version
of Eclipse GlassFish. You can specify the version you want to use. If
no version is specified, a default version is used.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Configure the the path to the application WAR, and other standard settings.</p>
<div class="paragraph">
<p>Add the following <code>configuration</code> element to your POM file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">...
        <span class="tag">&lt;plugins&gt;</span>
            ...
            <span class="tag">&lt;plugin&gt;</span>
                ...
                <span class="tag">&lt;configuration&gt;</span>
                    <span class="tag">&lt;app&gt;</span>target/test.war<span class="tag">&lt;/app&gt;</span>
                    <span class="tag">&lt;port&gt;</span>8080<span class="tag">&lt;/port&gt;</span>
                    <span class="tag">&lt;contextRoot&gt;</span>test<span class="tag">&lt;/contextRoot&gt;</span>
                    <span class="tag">&lt;autoDelete&gt;</span>true<span class="tag">&lt;/autoDelete&gt;</span>
                    ...
                <span class="tag">&lt;/configuration&gt;</span>
                ...
            <span class="tag">&lt;/plugin&gt;</span>
            ...
        <span class="tag">&lt;/plugins&gt;</span>
...</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">app</dt>
<dd>
<p>In the app parameter, substitute the archive file or directory for your
application. The optional port, contextRoot, and autoDelete parameters
show example values. For details, see <a href="#maven-goals-for-embedded-glassfish-server">Maven Goals for
Embedded Eclipse GlassFish</a>.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Perform advanced plug-in configuration. This step is optional.
Add the following <code>configuration</code> element to your POM file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">...
        <span class="tag">&lt;plugins&gt;</span>
            ...
            <span class="tag">&lt;plugin&gt;</span>
                ...
                <span class="tag">&lt;configuration&gt;</span>
                    <span class="tag">&lt;app&gt;</span>target/test.war<span class="tag">&lt;/app&gt;</span>
                    <span class="tag">&lt;name&gt;</span>test<span class="tag">&lt;/name&gt;</span>
                    <span class="tag">&lt;contextRoot&gt;</span>test<span class="tag">&lt;/contextRoot&gt;</span>
                    <span class="tag">&lt;ports&gt;</span>
                        <span class="tag">&lt;http-listener&gt;</span>8080<span class="tag">&lt;/http-listener&gt;</span>
                        <span class="tag">&lt;https-listener&gt;</span>8181<span class="tag">&lt;/https-listener&gt;</span>
                    <span class="tag">&lt;/ports&gt;</span>
                    <span class="tag">&lt;bootstrapProperties&gt;</span>
                        <span class="tag">&lt;property&gt;</span>test_key=test_value<span class="tag">&lt;/property&gt;</span>
                    <span class="tag">&lt;/bootstrapProperties&gt;</span>
                    <span class="tag">&lt;bootstrapPropertiesFile&gt;</span>bootstrap.properties<span class="tag">&lt;/bootstrapPropertiesFile&gt;</span>
                    <span class="tag">&lt;glassfishProperties&gt;</span>
<span class="tag">&lt;property&gt;</span>server.jms-service.jms-host.default_JMS_host.port=17676<span class="tag">&lt;/property&gt;</span>
                    <span class="tag">&lt;/glassfishProperties&gt;</span>
                    <span class="tag">&lt;glassfishPropertiesFile&gt;</span>glassfish.properties<span class="tag">&lt;/glassfishPropertiesFile&gt;</span>
                    <span class="tag">&lt;systemProperties&gt;</span>
                        <span class="tag">&lt;property&gt;</span>ANTLR_USE_DIRECT_CLASS_LOADING=true<span class="tag">&lt;/property&gt;</span>
                    <span class="tag">&lt;/systemProperties&gt;</span>
                    <span class="tag">&lt;systemPropertiesFile&gt;</span>system.properties<span class="tag">&lt;/systemPropertiesFile&gt;</span>
                <span class="tag">&lt;/configuration&gt;</span>
                <span class="tag">&lt;executions&gt;</span>
                    <span class="tag">&lt;execution&gt;</span>
                        <span class="tag">&lt;goals&gt;</span>
                            <span class="tag">&lt;goal&gt;</span>start<span class="tag">&lt;/goal&gt;</span>
                            <span class="tag">&lt;goal&gt;</span>deploy<span class="tag">&lt;/goal&gt;</span>
                            <span class="tag">&lt;goal&gt;</span>undeploy<span class="tag">&lt;/goal&gt;</span>
                            <span class="tag">&lt;goal&gt;</span>stop<span class="tag">&lt;/goal&gt;</span>
                        <span class="tag">&lt;/goals&gt;</span>
                    <span class="tag">&lt;/execution&gt;</span>
                <span class="tag">&lt;/executions&gt;</span>
            <span class="tag">&lt;/plugin&gt;</span>
            ...
        <span class="tag">&lt;/plugins&gt;</span>
...</code></pre>
</div>
</div>
</li>
<li>
<p>Configure Maven goals.
Add <code>execution</code> elements to your POM file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">...
        <span class="tag">&lt;plugins&gt;</span>
            ...
            <span class="tag">&lt;plugin&gt;</span>
                ...
                <span class="tag">&lt;executions&gt;</span>
                    <span class="tag">&lt;execution&gt;</span>
                        <span class="tag">&lt;phase&gt;</span>install<span class="tag">&lt;/phase&gt;</span>
                        <span class="tag">&lt;goals&gt;</span>
                            <span class="tag">&lt;goal&gt;</span>goal<span class="tag">&lt;/goal&gt;</span>
                        <span class="tag">&lt;/goals&gt;</span>
                    <span class="tag">&lt;/execution&gt;</span>
                <span class="tag">&lt;/executions&gt;</span>
                ...
            <span class="tag">&lt;/plugin&gt;</span>
            ...
        <span class="tag">&lt;/plugins&gt;</span>
...</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">goal</dt>
<dd>
<p>The goal to use. See <a href="#maven-goals-for-embedded-glassfish-server">Maven Goals for Embedded Eclipse GlassFish</a>.</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
<div id="gjkod" class="paragraph">
<p>Example 1-13 POM File for Configuring Maven to Use Embedded Eclipse GlassFish</p>
</div>
<div class="paragraph">
<p>This example shows a POM file for configuring Maven to use embedded Eclipse GlassFish.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="comment">&lt;!--
Line breaks in the following element are for readability purposes only
--&gt;</span>
<span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
<span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0</span>
<span class="content">http://maven.apache.org/maven-v4_0_0.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

  <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>org.example<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>maven-glassfish-plugin-tester<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
  <span class="tag">&lt;name&gt;</span>Maven Embedded Glassfish Plugin Example<span class="tag">&lt;/name&gt;</span>
  <span class="tag">&lt;build&gt;</span>
    <span class="tag">&lt;plugins&gt;</span>
      <span class="tag">&lt;plugin&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.glassfish.embedded<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>embedded-glassfish-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>7.0<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;configuration&gt;</span>
          <span class="tag">&lt;app&gt;</span>target/test.war<span class="tag">&lt;/app&gt;</span>
          <span class="tag">&lt;port&gt;</span>8080<span class="tag">&lt;/port&gt;</span>
          <span class="tag">&lt;contextRoot&gt;</span>test<span class="tag">&lt;/contextRoot&gt;</span>
          <span class="tag">&lt;autoDelete&gt;</span>true<span class="tag">&lt;/autoDelete&gt;</span>
       <span class="tag">&lt;/configuration&gt;</span>
       <span class="tag">&lt;executions&gt;</span>
          <span class="tag">&lt;execution&gt;</span>
             <span class="tag">&lt;phase&gt;</span>install<span class="tag">&lt;/phase&gt;</span>
             <span class="tag">&lt;goals&gt;</span>
                   <span class="tag">&lt;goal&gt;</span>run<span class="tag">&lt;/goal&gt;</span>
             <span class="tag">&lt;/goals&gt;</span>
          <span class="tag">&lt;/execution&gt;</span>
       <span class="tag">&lt;/executions&gt;</span>
     <span class="tag">&lt;/plugin&gt;</span>
    <span class="tag">&lt;/plugins&gt;</span>
  <span class="tag">&lt;/build&gt;</span>
<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="to-build-and-start-an-application-from-maven"><a class="anchor" href="#to-build-and-start-an-application-from-maven"></a>To Build and Start an Application From Maven</h3>
<div class="paragraph">
<p>If you are using Maven to manage the development of your application,
you can use a Maven goal to build and start the application in embedded
Eclipse GlassFish.</p>
</div>
<div class="paragraph">
<p>Before You Begin</p>
</div>
<div class="paragraph">
<p>Ensure that your Maven environment is configured, as described in
<a href="#to-set-up-your-maven-environment">To Set Up Your Maven Environment</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Include the path to the Maven executable file <code>mvn</code> in your path
statement.</p>
</li>
<li>
<p>Ensure that the <code>JAVA_HOME</code> environment variable is defined.</p>
</li>
<li>
<p>Create a directory for the Maven project for your application.</p>
</li>
<li>
<p>Copy to your project directory the POM file that you created in
<a href="#to-set-up-your-maven-environment">To Set Up Your Maven Environment</a>.</p>
</li>
<li>
<p>Run the following command in your project directory:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>mvn install</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command performs the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Installs the Maven repository in a directory named <code>.m2</code> under your
home directory.</p>
</li>
<li>
<p>Starts Embedded Eclipse GlassFish.</p>
</li>
<li>
<p>Deploys your application.</p>
<div class="paragraph">
<p>The application continues to run in Embedded Eclipse GlassFish until
Embedded Eclipse GlassFish is stopped.</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="to-stop-embedded-glassfish-server"><a class="anchor" href="#to-stop-embedded-glassfish-server"></a>To Stop Embedded Eclipse GlassFish</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Change to the root directory of the Maven project for your
application.</p>
</li>
<li>
<p>Run the Maven goal to stop the application in embedded Eclipse GlassFish.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>mvn embedded-glassfish:stop</code></pre>
</div>
</div>
<div class="paragraph">
<p>This runs the <code>stop</code> method of the <code>GlassFish</code> object and any other
methods that are required to shut down the server in an orderly fashion.
See <a href="#stopping-an-embedded-glassfish-server-from-an-application">Stopping an Embedded Eclipse GlassFish From an
Application</a>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="to-redeploy-an-application-that-was-built-and-started-from-maven"><a class="anchor" href="#to-redeploy-an-application-that-was-built-and-started-from-maven"></a>To Redeploy an Application That Was Built and Started From Maven</h3>
<div class="paragraph">
<p>An application that was built and started from Maven continues to run in
Embedded Eclipse GlassFish until Embedded Eclipse GlassFish is stopped.
While the application is running, you can test changes to the
application by redeploying it.</p>
</div>
<div class="paragraph">
<p>To redeploy, in the window from where the application was built and
started from Maven, press Enter.</p>
</div>
</div>
<div class="sect2">
<h3 id="maven-goals-for-embedded-glassfish-server"><a class="anchor" href="#maven-goals-for-embedded-glassfish-server"></a>Maven Goals for Embedded Eclipse GlassFish</h3>
<div class="paragraph">
<p>You can use the following Maven goals to test your applications with
embedded Eclipse GlassFish:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#embedded-glassfishrun-goal"><code>embedded-glassfish:run</code> Goal</a></p>
</li>
<li>
<p><a href="#embedded-glassfishstart-goal"><code>embedded-glassfish:start</code> Goal</a></p>
</li>
<li>
<p><a href="#embedded-glassfishdeploy-goal"><code>embedded-glassfish:deploy</code> Goal</a></p>
</li>
<li>
<p><a href="#embedded-glassfishundeploy-goal"><code>embedded-glassfish:undeploy</code> Goal</a></p>
</li>
<li>
<p><a href="#embedded-glassfishstop-goal"><code>embedded-glassfish:stop</code> Goal</a></p>
</li>
<li>
<p><a href="#embedded-glassfishadmin-goal"><code>embedded-glassfish:admin</code> Goal</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="embedded-glassfishrun-goal"><a class="anchor" href="#embedded-glassfishrun-goal"></a><code>embedded-glassfish:run</code> Goal</h4>
<div class="paragraph">
<p>This goal starts the server and deploys an application. You can redeploy
if you change the application. The application can be a packaged archive
or a directory that contains an exploded application. You can set the
parameters described in the following table.</p>
</div>
<div id="gjkws" class="paragraph">
<p>Table 1-5 <code>embedded-glassfish:run</code> Parameters</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 18%;">
<col style="width: 42%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">app</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The archive file or directory for the application to be deployed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serverID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The ID of the server to start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containerType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>all</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The container to start: <code>web</code>, <code>ejb</code>, <code>jpa</code>, or <code>all</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">installRoot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The <a href="#installation-root-directory">Installation Root Directory</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instanceRoot</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In order of precedence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>glassfish.embedded.tmpdir</code> property value specified in <code>GlassFishProperties</code> object</p>
</li>
<li>
<p><code>glassfish.embedded.tmpdir</code> system property value</p>
</li>
<li>
<p><code>java.io.tmpdir</code> system property value</p>
</li>
<li>
<p>as-install<code>/domains/domain1</code> if a nonembedded installation is referenced</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The <a href="#instance-root-directory">Instance Root Directory</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir<code>/config/domain.xml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The
configuration file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None. Must be set explicitly or defined in the configuration
file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP or HTTPS port.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In order of precedence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>application-name</code> or <code>module-name</code> in the deployment descriptor.</p>
</li>
<li>
<p>The name of the archive file without the extension or the directory name.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see "<a href="application-deployment-guide.html#naming-standards">Naming Standards</a>" in
Eclipse GlassFish Application Deployment Guide.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The name of the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contextRoot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the application.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The context root
of the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">precompileJsp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) If <code>true</code>, JSP pages are precompiled
during deployment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dbVendorName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The name of the database vendor for
which tables can be created. Allowed values are <code>javadb</code>, <code>db2</code>,
<code>mssql</code>, <code>mysql</code>, <code>oracle</code>, <code>postgresql</code>, <code>pointbase</code>, <code>derby</code> (also for
CloudScape), and <code>sybase</code>, case-insensitive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">createTables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value of the <code>create-tables-at-deploy</code> attribute in
<code>sun-ejb-jar.xml</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) If <code>true</code>, creates database tables during
deployment for beans that are automatically mapped by the EJB container.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dropTables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value of the <code>drop-tables-at-undeploy</code> attribute in
<code>sun-ejb-jar.xml</code>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(optional) If <code>true</code>, and deployment and undeployment occur in the same
JVM session, database tables that were automatically created when the
bean(s) were deployed are dropped when the bean(s) are undeployed.</p>
</div>
<div class="paragraph">
<p>If <code>true</code>, the name parameter must be specified or tables may not be
dropped.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">autoDelete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(optional) If <code>true</code>, deletes the contents of the <a href="#instance-root-directory">Instance
Root Directory</a> when the server is stopped.</p>
</div>
<div class="paragraph">
<p>Caution: Do not set <code>autoDelete</code> to <code>true</code> if you are using
<code>installRoot</code> to refer to a preexisting Eclipse GlassFish installation.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="embedded-glassfishstart-goal"><a class="anchor" href="#embedded-glassfishstart-goal"></a><code>embedded-glassfish:start</code> Goal</h4>
<div class="paragraph">
<p>This goal starts the server. You can set the parameters described in the
following table.</p>
</div>
<div id="gjkye" class="paragraph">
<p>Table 1-6 <code>embedded-glassfish:start</code> Parameters</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 17%;">
<col style="width: 38%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serverID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The ID of the server to start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">containerType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>all</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The container to start: <code>web</code>, <code>ejb</code>,
<code>jpa</code>, or <code>all</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">installRoot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The <a href="#installation-root-directory">Installation Root
Directory</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">instanceRoot</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In order of precedence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>glassfish.embedded.tmpdir</code> system property value</p>
</li>
<li>
<p><code>java.io.tmpdir</code> system property value</p>
</li>
<li>
<p>as-install<code>/domains/domain1</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The <a href="#instance-root-directory">Instance Root Directory</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">configFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir`/config/domain.xml`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The
configuration file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None. Must be set explicitly or defined in the configuration
file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP or HTTPS port.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">autoDelete</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(optional) If <code>true</code>, deletes the contents of the <a href="#instance-root-directory">Instance
Root Directory</a> when the server is stopped.</p>
</div>
<div class="paragraph">
<p>Caution: Do not set <code>autoDelete</code> to <code>true</code> if you are using
<code>installRoot</code> to refer to a preexisting Eclipse GlassFish installation.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="embedded-glassfishdeploy-goal"><a class="anchor" href="#embedded-glassfishdeploy-goal"></a><code>embedded-glassfish:deploy</code> Goal</h4>
<div class="paragraph">
<p>This goal deploys an application. You can redeploy if you change the
application. The application can be a packaged archive or a directory
that contains an exploded application. You can set the parameters
described in the following table.</p>
</div>
<div id="gjkvv" class="paragraph">
<p>Table 1-7 <code>embedded-glassfish:deploy</code> Parameters</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 18%;">
<col style="width: 39%;">
<col style="width: 43%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">app</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The archive file or directory for the application to be
deployed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serverID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The ID of the server to start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In order of precedence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>application-name</code> or <code>module-name</code> in the deployment descriptor.</p>
</li>
<li>
<p>The name of the archive file without the extension or the directory
name.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information, see "<a href="application-deployment-guide.html#naming-standards">Naming Standards</a>" in
Eclipse GlassFish Application Deployment Guide.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The name of the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contextRoot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the application.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The context root
of the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">precompileJsp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) If <code>true</code>, JSP pages are precompiled
during deployment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dbVendorName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The name of the database vendor for
which tables can be created. Allowed values are <code>javadb</code>, <code>db2</code>,
<code>mssql</code>, <code>oracle</code>, <code>postgresql</code>, <code>pointbase</code>, <code>derby</code> (also for
CloudScape), and <code>sybase</code>, case-insensitive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">createTables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value of the <code>create-tables-at-deploy</code> attribute in
<code>sun-ejb-jar.xml</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) If <code>true</code>, creates database tables during
deployment for beans that are automatically mapped by the EJB container.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="embedded-glassfishundeploy-goal"><a class="anchor" href="#embedded-glassfishundeploy-goal"></a><code>embedded-glassfish:undeploy</code> Goal</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you reference a nonembedded Eclipse GlassFish installation using the
<code>glassfish-embedded-static-shell.jar</code> file and do not undeploy your
applications in the same server life cycle in which you deployed them,
expanded archives for these applications remain under the
domain-dir<code>/applications</code> directory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This goal undeploys an application. You can set the parameters described
in the following table.</p>
</div>
<div id="gjkxf" class="paragraph">
<p>Table 1-8 <code>embedded-glassfish:undeploy</code> Parameters</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14%;">
<col style="width: 34%;">
<col style="width: 52%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the name is omitted, all applications are undeployed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
name of the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serverID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The ID of the server to start.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dropTables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value of the <code>drop-tables-at-undeploy</code> attribute in
<code>sun-ejb-jar.xml</code>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(optional) If <code>true</code>, and deployment and undeployment occur in the same
JVM session, database tables that were automatically created when the
bean(s) were deployed are dropped when the bean(s) are undeployed.</p>
</div>
<div class="paragraph">
<p>If <code>true</code>, the name parameter must be specified or tables may not be
dropped.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cascade</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(optional) If <code>true</code>, deletes all connection pools and connector
resources associated with the resource adapter being undeployed.</p>
</div>
<div class="paragraph">
<p>If <code>false</code>, undeployment fails if any pools or resources are still
associated with the resource adapter.</p>
</div>
<div class="paragraph">
<p>This attribute is applicable to connectors (resource adapters) and
applications with connector modules.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="embedded-glassfishstop-goal"><a class="anchor" href="#embedded-glassfishstop-goal"></a><code>embedded-glassfish:stop</code> Goal</h4>
<div class="paragraph">
<p>This goal stops the server. You can set the parameters described in the
following table.</p>
</div>
<div id="gjkwm" class="paragraph">
<p>Table 1-9 <code>embedded-glassfish:stop</code> Parameters</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16%;">
<col style="width: 17%;">
<col style="width: 67%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serverID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The ID of the server to stop.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="embedded-glassfishadmin-goal"><a class="anchor" href="#embedded-glassfishadmin-goal"></a><code>embedded-glassfish:admin</code> Goal</h4>
<div class="paragraph">
<p>This goal runs a Eclipse GlassFish administration command. You must use
either the command and commandParameters parameters in combination or
the commandLine parameter. For more information about administration
commands, see the <a href="reference-manual.html#GSRFM">Eclipse GlassFish
Reference Manual</a>. You can set the parameters described in the following
table.</p>
</div>
<div id="gjkwe" class="paragraph">
<p>Table 1-10 <code>embedded-glassfish:start</code> Parameters</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 24%;">
<col style="width: 10%;">
<col style="width: 66%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">serverID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maven</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional) The ID of the server on which to run the
command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the command, for example
<code>createJdbcResource</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commandParameters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A map of the command parameters. See the
<code>org.glassfish.embeddable.admin.CommandParameters</code> class at
<code><a href="https://www.javadoc.io/doc/org.glassfish.main.common/glassfish-api/latest/org/glassfish/api/admin/CommandParameters.html" class="bare">https://www.javadoc.io/doc/org.glassfish.main.common/glassfish-api/latest/org/glassfish/api/admin/CommandParameters.html</a></code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commandLine</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The full <code>asadmin</code> syntax of the command.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="GSESG00039"></a><a id="using-the-ejb-3.1-embeddable-api-with-embedded-glassfish-server"></a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-the-ejb-3-1-embeddable-api-with-embedded-eclipse-glassfish"><a class="anchor" href="#using-the-ejb-3-1-embeddable-api-with-embedded-eclipse-glassfish"></a>Using the EJB 3.1 Embeddable API with Embedded Eclipse GlassFish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The EJB 3.1 Embeddable API is designed for unit testing of EJB modules.
You must use this API with a pre-installed, nonembedded Eclipse GlassFish
instance. However, you can take advantage of Embedded Eclipse GlassFish&#8217;s
ease of use by referencing the nonembedded Eclipse GlassFish instance
with the <code>glassfish-embedded-static-shell.jar</code> file.</p>
</div>
<div class="paragraph">
<p>Embedded Eclipse GlassFish is not related to the EJB 3.1 Embeddable API,
but you can use these APIs together.</p>
</div>
<div class="paragraph">
<p>The Maven plug-in does not apply to embeddable EJB applications.
However, you can use Maven with the POM file shown in <a href="#GSESG00064">Using
Maven with the EJB 3.1 Embeddable API and Embedded Eclipse GlassFish</a>.</p>
</div>
<div class="paragraph">
<p>The EJB 3.1 Embeddable API is described in
<a href="http://jcp.org/en/jsr/detail?id=318">Java Specification Request (JSR) 318</a>
(<code><a href="http://jcp.org/en/jsr/detail?id=318" class="bare">http://jcp.org/en/jsr/detail?id=318</a></code>). An <code>ejb-embedded</code> example
is available at
<a href="https://jakarta.ee/learn/docs/jakartaee-tutorial/9.1/entbeans/ejb-embedded/ejb-embedded.html">Code Samples</a>
(<code><a href="https://jakarta.ee/learn/docs/jakartaee-tutorial/9.1/entbeans/ejb-embedded/ejb-embedded.html" class="bare">https://jakarta.ee/learn/docs/jakartaee-tutorial/9.1/entbeans/ejb-embedded/ejb-embedded.html</a></code>).</p>
</div>
<div class="paragraph">
<p>The EJB 3.1 Embeddable API supports all EJB 3.1 Lite features with
addition of the EJB timer service and testing of EJB modules packaged in
a WAR file.</p>
</div>
<div class="paragraph">
<p>For EJB modules in a WAR file (or an exploded directory), if a web
application has one EJB module, and there are no other EJB modules in
the classpath, those entries (libraries) are ignored. If there are other
EJB modules, a temporary EAR file is created. For EJB modules in a WAR
file to be tested, the client code must use EJB modules with interfaces
or without annotations. Those EJB modules are not part of the classpath
and can&#8217;t be loaded by the client class loader.</p>
</div>
<div class="paragraph">
<p>The following topics are addressed here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#GSESG00026">To Use the EJB 3.1 Embeddable API with Embedded Eclipse GlassFish</a></p>
</li>
<li>
<p><a href="#GSESG00063">EJB 3.1 Embeddable API Properties</a></p>
</li>
<li>
<p><a href="#GSESG00064">Using Maven with the EJB 3.1 Embeddable API and Embedded
Eclipse GlassFish</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="GSESG00026"></a><a id="to-use-the-ejb-3.1-embeddable-api-with-embedded-glassfish-server"></a></p>
</div>
<div class="sect2">
<h3 id="to-use-the-ejb-3-1-embeddable-api-with-embedded-eclipse-glassfish"><a class="anchor" href="#to-use-the-ejb-3-1-embeddable-api-with-embedded-eclipse-glassfish"></a>To Use the EJB 3.1 Embeddable API with Embedded Eclipse GlassFish</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To specify Eclipse GlassFish as the Container Provider, include
<code>glassfish-embedded-static-shell.jar</code> or <code>glassfish-embedded-all.jar</code> in
the class path of your embeddable EJB application.</p>
<div class="paragraph">
<p>Reference the <code>glassfish-embedded-static-shell.jar</code> file from the
as-install<code>/lib/embedded</code> directory of a Eclipse GlassFish installation.
Do not move this file or it will not work.</p>
</div>
<div class="paragraph">
<p>See <a href="#setting-the-class-path">Setting the Class Path</a> and Section 22.3.3 of the EJB
3.1 Specification, Embeddable Container Bootstrapping.</p>
</div>
</li>
<li>
<p>Configure any required resources.</p>
<div class="paragraph">
<p>For more information about configuring resources, see the Administration
Console Online Help or "<a href="administration-guide.html#part-ii">Resources and Services
Administration</a>" in Eclipse GlassFish Administration
Guide. The <code>jdbc/__default</code> Java DB database is preconfigured with all
distributions of Eclipse GlassFish. However, if you are using
<code>glassfish-embedded-static-shell.jar</code>, you must start the database
manually.</p>
</div>
<div class="paragraph">
<p>If your embeddable EJB application uses Java Persistence, you do not
need to specify a JDBC resource. See <a href="#default-java-persistence-data-source-for-embedded-glassfish-server">Default Java
Persistence Data Source for Embedded Eclipse GlassFish</a>.</p>
</div>
</li>
<li>
<p>Invoke one of the <code>createEJBContainer</code> methods.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do not deploy your embeddable EJB application or any of its dependent
Jakarta EE modules before invoking one of the <code>createEJBContainer</code> methods.
These methods perform deployment in the background and do not load
previously deployed applications or modules.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>To change the <a href="#instance-root-directory">Instance Root Directory</a>, set the
<code>org.glassfish.ejb.embedded.glassfish.instance.root</code> system property
value by using the <code>createEJBContainer`</code>(Map&lt;?, ?&gt; properties)` method.</p>
<div class="paragraph">
<p>The default <a href="#instance-root-directory">Instance Root Directory</a> location is
as-install<code>/domains/domain1</code> if a nonembedded installation is
referenced. This system property applies only to embeddable EJB
applications used with nonembedded Eclipse GlassFish.</p>
</div>
</li>
<li>
<p>Close the EJB container properly to release all acquired resources
and threads.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="GSESG00063"></a><a id="ejb-3.1-embeddable-api-properties"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="ejb-3-1-embeddable-api-properties"><a class="anchor" href="#ejb-3-1-embeddable-api-properties"></a>EJB 3.1 Embeddable API Properties</h3>
<div class="paragraph">
<p>Properties that can be passed to the
<code>EJBContainer#createEJBContainer(Properties)</code> method are summarized in
the following table. All properties are in the
<code>org.glassfish.ejb.embedded.glassfish</code> package. For example, the full
name of the <code>installation.root</code> property is
<code>org.glassfish.ejb.embedded.glassfish.installation.root</code>.</p>
</div>
<div id="gksop" class="paragraph">
<p>Table 1-11 EJB 3.1 Embeddable API Properties</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 39%;">
<col style="width: 31%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>installation.root</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eclipse GlassFish installation location from which
<code>glassfish-embedded-static-shell.jar</code> is referenced</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
<a href="#installation-root-directory">Installation Root Directory</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instance.root</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In order of precedence:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>glassfish.embedded.tmpdir</code> property value specified in
<code>GlassFishProperties</code> object</p>
</li>
<li>
<p><code>glassfish.embedded.tmpdir</code> system property value</p>
</li>
<li>
<p><code>java.io.tmpdir</code> system property value</p>
</li>
<li>
<p>as-install<code>/domains/domain1</code> if a nonembedded installation is referenced</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <a href="#instance-root-directory">Instance Root Directory</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>configuration.file</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain-dir`/config/domain.xml`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The configuration
file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keep-temporary-files</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, keeps temporary files
(exploded EAR file and configuration file) created by the embedded EJB
container when Embedded Eclipse GlassFish is stopped.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>web.http.port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables the web container if set. Needed for
testing web services in a WAR file. The value is ignored and can be an
empty string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instance.reuse</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, no changes are made to the
existing configuration file, and a temporary server instance is not
created for the embedded run. Instead, execution happens against the
existing server instance. Do not use this option if the reused server
instance could be in use by the running nonembedded Eclipse GlassFish.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip-client-modules</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, omits modules from the
classpath if they are not specified using <code>EJBContainer.MODULES</code> and
have a manifest file with a <code>Main-Class</code> attribute.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a id="GSESG00064"></a><a id="using-maven-with-the-ejb-3.1-embeddable-api-and-embedded-glassfish-server"></a></p>
</div>
</div>
<div class="sect2">
<h3 id="using-maven-with-the-ejb-3-1-embeddable-api-and-embedded-eclipse-glassfish"><a class="anchor" href="#using-maven-with-the-ejb-3-1-embeddable-api-and-embedded-eclipse-glassfish"></a>Using Maven with the EJB 3.1 Embeddable API and Embedded Eclipse GlassFish</h3>
<div class="paragraph">
<p>When using Maven with the EJB 3.1 Embeddable API and Embedded Eclipse GlassFish, you cannot use the features of the Maven plug-in. You must start
and stop Embedded Eclipse GlassFish manually or programmatically outside
of Maven.</p>
</div>
<div id="gjxds" class="paragraph">
<p>Example 1-14 Maven POM File for Using the EJB 3.1 Embeddable API with
Embedded Eclipse GlassFish</p>
</div>
<div class="paragraph">
<p>This example shows a POM file for configuring Maven to use the EJB 3.1
Embeddable API with Embedded Eclipse GlassFish.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="comment">&lt;!--
Line breaks in the following element are for readability purposes only
--&gt;</span>
<span class="tag">&lt;project</span> <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maven.apache.org/POM/4.0.0</span>
<span class="content">http://maven.apache.org/maven-v4_0_0.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.example<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>my-ejb-app-example<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>1.0.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;name&gt;</span>EJB Embeddable API Example<span class="tag">&lt;/name&gt;</span>
    <span class="tag">&lt;dependencies&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>org.glassfish.main.extras<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>glassfish-embedded-all<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>${project.version}<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
        <span class="comment">&lt;!--
            The jakarta.jakartaee-api is stripped of any code and is just used to compile your
            application. The scope provided in Maven means that it is used for compiling,
            but is also available when testing. For this reason, the jakartaee-api needs to
            be below the embedded GlassFish dependency. The jakartaee-api can actually be
            omitted when the embedded GlassFish dependency is included, but to keep your
            project Jakarta EE 10 rather than GlassFish specific, specification is important.
        --&gt;</span>
        <span class="tag">&lt;dependency&gt;</span>
            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
            <span class="tag">&lt;version&gt;</span>10.0.0<span class="tag">&lt;/version&gt;</span>
            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
        <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;/dependencies&gt;</span>
<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are using <code>glassfish-embedded-all.jar</code>, you can omit the
<code>dependency</code> element with the <code>jakarta.jakartaee-api</code> <code>artifactId</code>.</p>
</div>
<div class="paragraph">
<p>Then run <code>mvn clean verify</code> command.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changing-log-levels-in-embedded-glassfish-server"><a class="anchor" href="#changing-log-levels-in-embedded-glassfish-server"></a>Changing Log Levels in Embedded Eclipse GlassFish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To change log levels in Embedded Eclipse GlassFish, you can follow the
steps in this section or you can use the Embedded Server API as shown in
<a href="#gjlfm">Example 1-11</a>. For more information about Eclipse GlassFish
logging, see "<a href="administration-guide.html#administering-the-logging-service">Administering the Logging Service</a>" in
Eclipse GlassFish Administration Guide.</p>
</div>
<div class="paragraph">
<p>You can change log levels in Embedded Eclipse GlassFish in either of the
following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using the Eclipse GlassFish Embedded Server API</p>
</li>
<li>
<p>Creating a custom logging configuration file</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both these ways use logger names. For a list of logger names, use the
<a href="reference-manual.html#list-log-levels"><code>list-log-levels</code></a> subcommand.</p>
</div>
<div id="gkrhh" class="paragraph">
<p>Example 1-15 Using the Eclipse GlassFish Embedded Server API</p>
</div>
<div class="paragraph">
<p>This example shows how to set log levels using the <code>getLogger</code> method in
the API.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.glassfish.embeddable</span>.*;

<span class="comment">// Create Embedded GlassFish</span>
GlassFish glassfish = GlassFishRuntime.bootstrap().newGlassFish();

<span class="comment">// Set the log levels. For example, set 'deployment' and 'server' log levels to FINEST</span>
<span class="predefined-type">Logger</span>.getLogger(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>).getHandlers()[<span class="integer">0</span>].setLevel(<span class="predefined-type">Level</span>.FINEST);
<span class="predefined-type">Logger</span>.getLogger(<span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.enterprise.system.tools.deployment</span><span class="delimiter">&quot;</span></span>).setLevel(<span class="predefined-type">Level</span>.FINEST);
<span class="predefined-type">Logger</span>.getLogger(<span class="string"><span class="delimiter">&quot;</span><span class="content">jakarta.enterprise.system</span><span class="delimiter">&quot;</span></span>).setLevel(<span class="predefined-type">Level</span>.FINEST);

<span class="comment">// Start Embedded GlassFish and deploy an application.</span>
<span class="comment">// You will see all the FINEST logs printed on the console.</span>
glassfish.start();
glassfish.getDeployer().deploy(<span class="keyword">new</span> <span class="predefined-type">File</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">sample.war</span><span class="delimiter">&quot;</span></span>));

<span class="comment">// Dispose Embedded GlassFish</span>
glassfish.dispose();</code></pre>
</div>
</div>
<div id="gkrgw" class="paragraph">
<p>Example 1-16 Creating a Custom Logging Configuration File</p>
</div>
<div class="paragraph">
<p>This example shows the contents of a custom logging configuration file,
<code>customlogging.properties</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>handlers = java.util.logging.ConsoleHandler
java.util.logging.ConsoleHandler.level = FINEST
jakarta.enterprise.system.tools.deployment.level = FINEST
jakarta.enterprise.system.level = FINEST</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pass the name of this custom logging configuration file to the <code>java</code>
command when you invoke Embedded Eclipse GlassFish. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -Djava.util.logging.config.file=customlogging.properties MyEmbeddedGlassFish</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="default-java-persistence-data-source-for-embedded-glassfish-server"><a class="anchor" href="#default-java-persistence-data-source-for-embedded-glassfish-server"></a>Default Java Persistence Data Source for Embedded Eclipse GlassFish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>jdbc/__default</code> Java DB database is preconfigured with Embedded
Eclipse GlassFish. It is used when an application is deployed in Embedded
Eclipse GlassFish that uses Java Persistence but doesn&#8217;t specify a data
source. Embedded Eclipse GlassFish uses the embedded Java DB database
created in a temporary domain that is destroyed when Embedded Eclipse GlassFish is stopped. You can use a Java DB database configured with
nonembedded Eclipse GlassFish if you explicitly specify the instance root
directory or the configuration file.</p>
</div>
<div class="paragraph">
<p>By default, weaving is enabled when the Eclipse GlassFish Embedded Server
API is used. To disable weaving, set the
<code>org.glassfish.persistence.embedded.weaving.enabled</code> property to
<code>false</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="restrictions-for-embedded-glassfish-server"><a class="anchor" href="#restrictions-for-embedded-glassfish-server"></a>Restrictions for Embedded Eclipse GlassFish</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>glassfish-embedded-web.jar</code> file for embedded Eclipse GlassFish
supports only these features of nonembedded Eclipse GlassFish:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The following web technologies of the Jakarta EE platform:</p>
<div class="ulist">
<ul>
<li>
<p>Jakarta Servlet API</p>
</li>
<li>
<p>Jakarta Pages</p>
</li>
<li>
<p>Jakarta Faces</p>
</li>
</ul>
</div>
</li>
<li>
<p>JDBC connection pooling</p>
</li>
<li>
<p>Jakarta Persistence API</p>
</li>
<li>
<p>Jakarta Transaction API</p>
</li>
<li>
<p>Jakarta Transaction Service</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>glassfish-embedded-all.jar</code> and
<code>glassfish-embedded-static-shell.jar</code> files support all features of
nonembedded Eclipse GlassFish with these exceptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Installers</p>
</li>
<li>
<p>Administration Console</p>
</li>
<li>
<p>Update Tool</p>
</li>
<li>
<p>Apache Felix OSGi framework</p>
</li>
<li>
<p>The Maven plug-in for embedded Eclipse GlassFish does not support
application clients.</p>
</li>
<li>
<p>Applications that require ports for communication, such as remote EJB
components, do not work with the EJB 3.1 Embeddable API running with
embedded Eclipse GlassFish if a nonembedded Eclipse GlassFish is running
in parallel.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Embedded Eclipse GlassFish requires no installation or configuration. As
a result, the following files and directories are absent from the file
system until embedded Eclipse GlassFish is started:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default-web.xml</code> file</p>
</li>
<li>
<p><code>domain.xml</code> file</p>
</li>
<li>
<p>Applications directory</p>
</li>
<li>
<p>Instance root directory</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When embedded Eclipse GlassFish is started, the base installation
directory that Eclipse GlassFish uses depends on the options with which
Eclipse GlassFish is started. If necessary, embedded Eclipse GlassFish
creates a base installation directory. Embedded Eclipse GlassFish then
copies the following directories and their contents from the Java
archive (JAR) file in which embedded Eclipse GlassFish is distributed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>domains</code></p>
</li>
<li>
<p><code>lib</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If necessary, Eclipse GlassFish also creates an instance root directory.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-06-10 18:35:39 UTC
</div>
</div>
</body>
</html>